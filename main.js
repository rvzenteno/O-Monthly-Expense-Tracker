var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MonthlyExpenseTrackerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  recurringExpenses: [],
  oneTimeExpenses: [],
  monthlyPayments: [],
  monthlyNotesFolder: "Monthly Expenses",
  monthlyNoteTemplate: "# {{month}} - Monthly Expenses\n\n## Expense Tracker\n\n{{expenses}}\n\n---\n*Generated by Monthly Expense Tracker*",
  autoCreateMonthlyNotes: true,
  showStatusBar: true
};
var VIEW_TYPE_DASHBOARD = "expense-tracker-dashboard";
var MonthlyExpenseTrackerPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_DASHBOARD,
      (leaf) => new DashboardView(leaf, this)
    );
    this.addRibbonIcon("wallet", "Monthly Expense Tracker", () => {
      this.activateDashboardView();
    });
    this.addCommand({
      id: "open-expense-dashboard",
      name: "Open Expense Dashboard",
      callback: () => {
        this.activateDashboardView();
      }
    });
    this.addCommand({
      id: "add-recurring-expense",
      name: "Add Expense",
      callback: () => {
        new AddExpenseModal(this.app, this, null).open();
      }
    });
    this.addCommand({
      id: "create-current-month-note",
      name: "Create Current Month Note",
      callback: async () => {
        const currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
        await this.createMonthlyNote(currentMonth);
      }
    });
    this.addCommand({
      id: "generate-expense-report",
      name: "Generate Expense Report",
      callback: () => {
        new ReportModal(this.app, this).open();
      }
    });
    if (this.settings.showStatusBar) {
      this.statusBarItem = this.addStatusBarItem();
      this.updateStatusBar();
    }
    if (this.settings.autoCreateMonthlyNotes) {
      this.checkAndCreateMonthlyNote();
    }
    this.addSettingTab(new ExpenseTrackerSettingTab(this.app, this));
    console.log("Monthly Expense Tracker plugin loaded");
  }
  async activateDashboardView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(VIEW_TYPE_DASHBOARD)[0];
    if (!leaf) {
      const newLeaf = workspace.getLeaf("tab");
      if (newLeaf) {
        await newLeaf.setViewState({
          type: VIEW_TYPE_DASHBOARD,
          active: true
        });
        leaf = newLeaf;
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async checkAndCreateMonthlyNote() {
    const currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
    const monthlyNote = await this.getMonthlyNoteFile(currentMonth);
    if (!monthlyNote) {
      await this.createMonthlyNote(currentMonth);
    }
  }
  async createMonthlyNote(month) {
    const folderPath = this.settings.monthlyNotesFolder;
    const fileName = `${month}.md`;
    const filePath = `${folderPath}/${fileName}`;
    const folder = this.app.vault.getAbstractFileByPath(folderPath);
    if (!folder) {
      await this.app.vault.createFolder(folderPath);
    }
    let file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile) {
      new import_obsidian.Notice(`Monthly note for ${month} already exists`);
      return file;
    }
    const expenses = this.getExpensesForMonth(month);
    const oneTimeExpenses = this.getOneTimeExpensesForMonth(month);
    const prevMonth = (0, import_obsidian.moment)(month, "YYYY-MM").subtract(1, "month").format("YYYY-MM");
    const unpaidFromPrev = this.getUnpaidExpenses(prevMonth);
    let expenseList = "## Recurring Expenses\n\n";
    expenses.forEach((expense) => {
      const payment = this.getPayment(expense.id, month);
      const status = (payment == null ? void 0 : payment.paid) ? "x" : " ";
      const statusIcon = (payment == null ? void 0 : payment.paid) ? "\u2705" : "\u2B1C";
      const symbol = (expense.currency || "USD") === "USD" ? "$" : (expense.currency || "USD") === "BOB" ? "Bs " : `${expense.currency} `;
      expenseList += `- [${status}] ${statusIcon} **${expense.name}** - ${symbol}${expense.amount.toFixed(2)} - Due: ${expense.dueDay} - Method: ${expense.paymentMethod}
`;
      expenseList += `  - ID: \`${expense.id}\`
`;
      if (payment == null ? void 0 : payment.confirmationNumber) {
        expenseList += `  - Confirmation: ${payment.confirmationNumber}
`;
      }
      expenseList += "\n";
    });
    if (oneTimeExpenses.length > 0) {
      expenseList += "## One-Time Expenses\n\n";
      oneTimeExpenses.forEach((expense) => {
        const status = expense.paid ? "x" : " ";
        const statusIcon = expense.paid ? "\u2705" : "\u2B1C";
        const symbol = (expense.currency || "USD") === "USD" ? "$" : (expense.currency || "USD") === "BOB" ? "Bs " : `${expense.currency} `;
        expenseList += `- [${status}] ${statusIcon} **${expense.name}** - ${symbol}${expense.amount.toFixed(2)} - Date: ${expense.date} - Method: ${expense.paymentMethod}
`;
        expenseList += `  - ID: \`${expense.id}\`
`;
        if (expense.confirmationNumber) {
          expenseList += `  - Confirmation: ${expense.confirmationNumber}
`;
        }
        expenseList += "\n";
      });
    }
    if (unpaidFromPrev.length > 0) {
      expenseList += "\n## Unpaid from Previous Month\n\n";
      unpaidFromPrev.forEach((expense) => {
        const symbol = (expense.currency || "USD") === "USD" ? "$" : (expense.currency || "USD") === "BOB" ? "Bs " : `${expense.currency} `;
        expenseList += `- [ ] \u26A0\uFE0F **${expense.name}** - ${symbol}${expense.amount.toFixed(2)} - OVERDUE
`;
        expenseList += `  - ID: \`${expense.id}\`

`;
      });
    }
    if (expenses.length === 0 && oneTimeExpenses.length === 0) {
      expenseList += '\n*No expenses set up for this month yet. Click "**+ Add Expense**" in the dashboard to add expenses.*\n\n';
    }
    const content = this.settings.monthlyNoteTemplate.replace("{{month}}", (0, import_obsidian.moment)(month, "YYYY-MM").format("MMMM YYYY")).replace("{{expenses}}", expenseList);
    file = await this.app.vault.create(filePath, content);
    new import_obsidian.Notice(`Created monthly note for ${month}`);
    return file;
  }
  async getMonthlyNoteFile(month) {
    const filePath = `${this.settings.monthlyNotesFolder}/${month}.md`;
    const file = this.app.vault.getAbstractFileByPath(filePath);
    return file instanceof import_obsidian.TFile ? file : null;
  }
  getExpensesForMonth(month) {
    return this.settings.recurringExpenses.filter((expense) => {
      if (expense.archived) return false;
      const expenseStart = (0, import_obsidian.moment)(expense.startDate, "YYYY-MM");
      const expenseEnd = expense.endDate ? (0, import_obsidian.moment)(expense.endDate, "YYYY-MM") : null;
      const checkMonth = (0, import_obsidian.moment)(month, "YYYY-MM");
      const afterStart = checkMonth.isSameOrAfter(expenseStart);
      const beforeEnd = !expenseEnd || checkMonth.isSameOrBefore(expenseEnd);
      return afterStart && beforeEnd;
    });
  }
  getUnpaidExpenses(month) {
    const expenses = this.getExpensesForMonth(month);
    return expenses.filter((expense) => {
      const payment = this.getPayment(expense.id, month);
      return !payment || !payment.paid;
    });
  }
  getPayment(expenseId, month) {
    return this.settings.monthlyPayments.find(
      (p) => p.expenseId === expenseId && p.month === month
    );
  }
  async markExpensePaid(expenseId, month, paid, confirmationNumber) {
    const existingPayment = this.getPayment(expenseId, month);
    if (existingPayment) {
      existingPayment.paid = paid;
      existingPayment.paidDate = paid ? (0, import_obsidian.moment)().format("YYYY-MM-DD") : void 0;
      existingPayment.confirmationNumber = confirmationNumber;
    } else {
      this.settings.monthlyPayments.push({
        expenseId,
        month,
        paid,
        paidDate: paid ? (0, import_obsidian.moment)().format("YYYY-MM-DD") : void 0,
        confirmationNumber
      });
    }
    await this.saveSettings();
    this.updateStatusBar();
  }
  async addRecurringExpense(expense) {
    this.settings.recurringExpenses.push(expense);
    await this.saveSettings();
    new import_obsidian.Notice(`Added recurring expense: ${expense.name}`);
  }
  async addOneTimeExpense(expense) {
    this.settings.oneTimeExpenses.push(expense);
    await this.saveSettings();
    new import_obsidian.Notice(`Added one-time expense: ${expense.name}`);
  }
  getOneTimeExpensesForMonth(month) {
    return this.settings.oneTimeExpenses.filter((expense) => {
      const expenseDate = (0, import_obsidian.moment)(expense.date);
      return expenseDate.format("YYYY-MM") === month;
    });
  }
  async markOneTimeExpensePaid(expenseId, paid, confirmationNumber) {
    const expense = this.settings.oneTimeExpenses.find((e) => e.id === expenseId);
    if (expense) {
      expense.paid = paid;
      expense.paidDate = paid ? (0, import_obsidian.moment)().format("YYYY-MM-DD") : void 0;
      if (confirmationNumber) expense.confirmationNumber = confirmationNumber;
      await this.saveSettings();
      this.updateStatusBar();
    }
  }
  async updateOneTimeExpense(expense) {
    const index = this.settings.oneTimeExpenses.findIndex((e) => e.id === expense.id);
    if (index !== -1) {
      this.settings.oneTimeExpenses[index] = expense;
      await this.saveSettings();
      new import_obsidian.Notice(`Updated expense: ${expense.name}`);
    }
  }
  async deleteOneTimeExpense(expenseId) {
    this.settings.oneTimeExpenses = this.settings.oneTimeExpenses.filter((e) => e.id !== expenseId);
    await this.saveSettings();
    new import_obsidian.Notice("Expense deleted");
  }
  async updateRecurringExpense(expense) {
    const index = this.settings.recurringExpenses.findIndex((e) => e.id === expense.id);
    if (index !== -1) {
      this.settings.recurringExpenses[index] = expense;
      await this.saveSettings();
      new import_obsidian.Notice(`Updated expense: ${expense.name}`);
    }
  }
  async archiveExpense(expenseId) {
    const expense = this.settings.recurringExpenses.find((e) => e.id === expenseId);
    if (expense) {
      expense.archived = true;
      await this.saveSettings();
      new import_obsidian.Notice(`Archived expense: ${expense.name}`);
    }
  }
  async deleteExpense(expenseId) {
    this.settings.recurringExpenses = this.settings.recurringExpenses.filter((e) => e.id !== expenseId);
    this.settings.monthlyPayments = this.settings.monthlyPayments.filter((p) => p.expenseId !== expenseId);
    await this.saveSettings();
    new import_obsidian.Notice("Expense deleted");
  }
  updateStatusBar() {
    if (!this.statusBarItem) return;
    const currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
    const unpaid = this.getUnpaidExpenses(currentMonth);
    const recurringTotal = this.getExpensesForMonth(currentMonth).length;
    const oneTime = this.getOneTimeExpensesForMonth(currentMonth);
    const oneTimeUnpaid = oneTime.filter((e) => !e.paid);
    const totalUnpaidCount = unpaid.length + oneTimeUnpaid.length;
    const totalCount = recurringTotal + oneTime.length;
    if (totalUnpaidCount > 0) {
      this.statusBarItem.textContent = `\u{1F4B3} ${totalUnpaidCount}/${totalCount} unpaid`;
      this.statusBarItem.classList.add("expense-tracker-unpaid");
    } else if (totalCount > 0) {
      this.statusBarItem.textContent = `\u{1F4B3} All paid`;
      this.statusBarItem.classList.remove("expense-tracker-unpaid");
    } else {
      this.statusBarItem.textContent = "\u{1F4B3}";
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    const leaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_DASHBOARD);
    leaves.forEach((leaf) => {
      if (leaf.view instanceof DashboardView) {
        leaf.view.refresh();
      }
    });
  }
  onunload() {
    console.log("Monthly Expense Tracker plugin unloaded");
  }
};
var DashboardView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
    this.currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
  }
  getViewType() {
    return VIEW_TYPE_DASHBOARD;
  }
  getDisplayText() {
    return "Expense Dashboard";
  }
  getIcon() {
    return "wallet";
  }
  async onOpen() {
    this.refresh();
  }
  refresh() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("expense-tracker-dashboard");
    const header = container.createDiv("expense-tracker-header");
    header.createEl("h2", { text: "Monthly Expense Tracker" });
    const monthSelector = container.createDiv("expense-tracker-month-selector");
    const prevBtn = monthSelector.createEl("button", { text: "\u25C0" });
    prevBtn.onclick = () => {
      this.currentMonth = (0, import_obsidian.moment)(this.currentMonth, "YYYY-MM").subtract(1, "month").format("YYYY-MM");
      this.refresh();
    };
    const monthDisplay = monthSelector.createEl("span", {
      text: (0, import_obsidian.moment)(this.currentMonth, "YYYY-MM").format("MMMM YYYY"),
      cls: "expense-tracker-month-display"
    });
    const nextBtn = monthSelector.createEl("button", { text: "\u25B6" });
    nextBtn.onclick = () => {
      this.currentMonth = (0, import_obsidian.moment)(this.currentMonth, "YYYY-MM").add(1, "month").format("YYYY-MM");
      this.refresh();
    };
    const todayBtn = monthSelector.createEl("button", { text: "Today" });
    todayBtn.onclick = () => {
      this.currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
      this.refresh();
    };
    const recurringExpenses = this.plugin.getExpensesForMonth(this.currentMonth);
    const oneTimeExpenses = this.plugin.getOneTimeExpensesForMonth(this.currentMonth);
    const totals = {};
    let totalCount = 0;
    let totalUnpaidCount = 0;
    const processExpense = (amount, currency, paid) => {
      if (!totals[currency]) totals[currency] = { total: 0, paid: 0, unpaidCount: 0 };
      totals[currency].total += amount;
      if (paid) {
        totals[currency].paid += amount;
      } else {
        totals[currency].unpaidCount++;
        totalUnpaidCount++;
      }
      totalCount++;
    };
    recurringExpenses.forEach((e) => {
      const payment = this.plugin.getPayment(e.id, this.currentMonth);
      const isPaid = (payment == null ? void 0 : payment.paid) || false;
      processExpense(e.amount, e.currency || "USD", isPaid);
    });
    oneTimeExpenses.forEach((e) => {
      processExpense(e.amount, e.currency || "USD", e.paid);
    });
    const summary = container.createDiv("expense-tracker-summary");
    summary.createDiv("summary-item").innerHTML = `
            <span class="summary-label">Total Expenses:</span>
            <span class="summary-value">${totalCount}</span>
        `;
    summary.createDiv("summary-item").innerHTML = `
            <span class="summary-label">Unpaid Count:</span>
            <span class="summary-value unpaid">${totalUnpaidCount}</span>
        `;
    const currencies = Object.keys(totals).sort();
    if (currencies.length === 0) {
      summary.createDiv("summary-item").innerHTML = `
                <span class="summary-label">Total Amount:</span>
                <span class="summary-value">$0.00</span>
            `;
    } else {
      const totalsDiv = container.createDiv("summary-totals");
      totalsDiv.style.gridColumn = "1 / -1";
      totalsDiv.style.marginTop = "10px";
      totalsDiv.style.borderTop = "1px solid var(--background-modifier-border)";
      totalsDiv.style.paddingTop = "10px";
      currencies.forEach((currency) => {
        const symbol = currency === "USD" ? "$" : currency === "BOB" ? "Bs " : `${currency} `;
        const data = totals[currency];
        const row = totalsDiv.createDiv("currency-row");
        row.style.display = "flex";
        row.style.justifyContent = "space-between";
        row.style.marginBottom = "5px";
        row.innerHTML = `
                    <span style="font-weight: bold;">${currency}</span>
                    <span>Total: ${symbol}${data.total.toFixed(2)}</span>
                    <span class="paid">Paid: ${symbol}${data.paid.toFixed(2)}</span>
                    <span class="unpaid">Unpaid: ${symbol}${(data.total - data.paid).toFixed(2)}</span>
                `;
      });
    }
    const actions = container.createDiv("expense-tracker-actions");
    const addBtn = actions.createEl("button", { text: "+ Add Expense", cls: "mod-cta" });
    addBtn.onclick = () => {
      new AddExpenseModal(this.app, this.plugin, null).open();
    };
    const createNoteBtn = actions.createEl("button", { text: "\u{1F4C4} Create Monthly Note" });
    createNoteBtn.onclick = async () => {
      await this.plugin.createMonthlyNote(this.currentMonth);
    };
    const reportBtn = actions.createEl("button", { text: "\u{1F4CA} Generate Report" });
    reportBtn.onclick = () => {
      new ReportModal(this.app, this.plugin).open();
    };
    const supportBtn = actions.createEl("button", { text: "\u{1F499} Support Plugin" });
    supportBtn.onclick = () => {
      new SupportModal(this.app).open();
    };
    supportBtn.style.background = "var(--interactive-accent)";
    supportBtn.style.color = "var(--text-on-accent)";
    const expenseList = container.createEl("div", { cls: "expense-tracker-list" });
    if (totalCount === 0) {
      expenseList.createDiv("expense-tracker-empty").setText("No expenses for this month");
    } else {
      if (totalUnpaidCount > 0) {
        expenseList.createEl("h3", { text: "Unpaid" });
        recurringExpenses.filter((e) => {
          const payment = this.plugin.getPayment(e.id, this.currentMonth);
          return !(payment == null ? void 0 : payment.paid);
        }).forEach((expense) => {
          this.renderRecurringExpenseItem(expenseList, expense);
        });
        oneTimeExpenses.filter((e) => !e.paid).forEach((expense) => {
          this.renderOneTimeExpenseItem(expenseList, expense);
        });
      }
      if (totalCount - totalUnpaidCount > 0) {
        expenseList.createEl("h3", { text: "Paid" });
        recurringExpenses.filter((e) => {
          const payment = this.plugin.getPayment(e.id, this.currentMonth);
          return payment == null ? void 0 : payment.paid;
        }).forEach((expense) => {
          this.renderRecurringExpenseItem(expenseList, expense);
        });
        oneTimeExpenses.filter((e) => e.paid).forEach((expense) => {
          this.renderOneTimeExpenseItem(expenseList, expense);
        });
      }
    }
    const archivedExpenses = this.plugin.settings.recurringExpenses.filter((e) => e.archived);
    if (archivedExpenses.length > 0) {
      const archivedSection = container.createDiv("expense-tracker-archived");
      const archivedHeader = archivedSection.createEl("h3", { text: "Archived Expenses" });
      archivedHeader.style.cursor = "pointer";
      const archivedList = archivedSection.createDiv("expense-tracker-archived-list");
      archivedList.style.display = "none";
      archivedHeader.onclick = () => {
        archivedList.style.display = archivedList.style.display === "none" ? "block" : "none";
      };
      archivedExpenses.forEach((expense) => {
        const item = archivedList.createDiv("expense-item archived");
        item.innerHTML = `
                    <div class="expense-name">${expense.name}</div>
                    <div class="expense-details">${expense.currency === "USD" ? "$" : expense.currency === "BOB" ? "Bs " : expense.currency + " "}${expense.amount.toFixed(2)} - ${expense.paymentMethod}</div>
                `;
        item.onclick = (e) => {
          const menu = new import_obsidian.Menu();
          menu.addItem((item2) => {
            item2.setTitle("Unarchive").onClick(async () => {
              expense.archived = false;
              await this.plugin.saveSettings();
              this.refresh();
            });
          });
          menu.addItem((item2) => {
            item2.setTitle("Delete").onClick(async () => {
              await this.plugin.deleteExpense(expense.id);
              this.refresh();
            });
          });
          menu.showAtMouseEvent(e);
        };
      });
    }
  }
  renderRecurringExpenseItem(container, expense) {
    const payment = this.plugin.getPayment(expense.id, this.currentMonth);
    const isPaid = (payment == null ? void 0 : payment.paid) || false;
    const isOverdue = expense.dueDay < parseInt((0, import_obsidian.moment)().format("D")) && !isPaid && this.currentMonth === (0, import_obsidian.moment)().format("YYYY-MM");
    const item = container.createDiv("expense-item");
    if (isPaid) item.addClass("paid");
    if (isOverdue) item.addClass("overdue");
    const checkbox = item.createEl("input", { type: "checkbox" });
    checkbox.checked = isPaid;
    checkbox.onclick = async (e) => {
      e.stopPropagation();
      if (!isPaid) {
        new MarkPaidModal(this.app, this.plugin, expense, this.currentMonth, () => {
          this.refresh();
        }).open();
      } else {
        await this.plugin.markExpensePaid(expense.id, this.currentMonth, false);
        this.refresh();
      }
    };
    const content = item.createDiv("expense-content");
    const nameDiv = content.createDiv("expense-name");
    nameDiv.setText(expense.name);
    if (isOverdue) {
      nameDiv.createSpan({ text: " \u26A0\uFE0F OVERDUE", cls: "overdue-badge" });
    }
    const details = content.createDiv("expense-details");
    const symbol = (expense.currency || "USD") === "USD" ? "$" : (expense.currency || "USD") === "BOB" ? "Bs " : `${expense.currency} `;
    details.innerHTML = `
            ${symbol}${expense.amount.toFixed(2)} \u2022 Due: ${expense.dueDay} \u2022 ${expense.paymentMethod}
            ${(payment == null ? void 0 : payment.confirmationNumber) ? `<br>Confirmation: ${payment.confirmationNumber}` : ""}
            ${(payment == null ? void 0 : payment.paidDate) ? `<br>Paid: ${payment.paidDate}` : ""}
        `;
    const actions = item.createDiv("expense-actions");
    this.addContextMenu(actions, expense, "recurring");
  }
  renderOneTimeExpenseItem(container, expense) {
    const isPaid = expense.paid;
    const expenseDate = (0, import_obsidian.moment)(expense.date);
    const isOverdue = expenseDate.isBefore((0, import_obsidian.moment)(), "day") && !isPaid;
    const item = container.createDiv("expense-item");
    if (isPaid) item.addClass("paid");
    if (isOverdue) item.addClass("overdue");
    const checkbox = item.createEl("input", { type: "checkbox" });
    checkbox.checked = isPaid;
    checkbox.onclick = async (e) => {
      e.stopPropagation();
      if (!isPaid) {
        await this.plugin.markOneTimeExpensePaid(expense.id, true);
        this.refresh();
      } else {
        await this.plugin.markOneTimeExpensePaid(expense.id, false);
        this.refresh();
      }
    };
    const content = item.createDiv("expense-content");
    const nameDiv = content.createDiv("expense-name");
    nameDiv.setText(expense.name);
    const badge = nameDiv.createSpan({ text: " (One-Time)", cls: "expense-type-badge" });
    badge.style.fontSize = "0.8em";
    badge.style.color = "var(--text-muted)";
    badge.style.marginLeft = "5px";
    if (isOverdue) {
      nameDiv.createSpan({ text: " \u26A0\uFE0F OVERDUE", cls: "overdue-badge" });
    }
    const details = content.createDiv("expense-details");
    const symbol = (expense.currency || "USD") === "USD" ? "$" : (expense.currency || "USD") === "BOB" ? "Bs " : `${expense.currency} `;
    details.innerHTML = `
            ${symbol}${expense.amount.toFixed(2)} \u2022 Date: ${expense.date} \u2022 ${expense.paymentMethod}
            ${expense.confirmationNumber ? `<br>Confirmation: ${expense.confirmationNumber}` : ""}
            ${expense.paidDate ? `<br>Paid: ${expense.paidDate}` : ""}
        `;
    const actions = item.createDiv("expense-actions");
    this.addContextMenu(actions, expense, "onetime");
  }
  addContextMenu(container, expense, type) {
    const menuBtn = container.createEl("button", { text: "\u22EE" });
    menuBtn.onclick = (e) => {
      e.stopPropagation();
      const menu = new import_obsidian.Menu();
      menu.addItem((item) => {
        item.setTitle("Edit").setIcon("pencil").onClick(() => {
          new AddExpenseModal(this.app, this.plugin, expense).open();
        });
      });
      if (type === "recurring") {
        menu.addItem((item) => {
          item.setTitle("View History").setIcon("history").onClick(() => {
            new HistoryModal(this.app, this.plugin, expense).open();
          });
        });
        menu.addItem((item) => {
          item.setTitle("Archive").setIcon("archive").onClick(async () => {
            await this.plugin.archiveExpense(expense.id);
            this.refresh();
          });
        });
        menu.addItem((item) => {
          item.setTitle("Delete").setIcon("trash").onClick(async () => {
            await this.plugin.deleteExpense(expense.id);
            this.refresh();
          });
        });
      } else {
        menu.addItem((item) => {
          item.setTitle("Delete").setIcon("trash").onClick(async () => {
            await this.plugin.deleteOneTimeExpense(expense.id);
            this.refresh();
          });
        });
      }
      menu.showAtMouseEvent(e);
    };
  }
  async onClose() {
  }
};
var AddExpenseModal = class extends import_obsidian.Modal {
  constructor(app, plugin, expense) {
    super(app);
    this.plugin = plugin;
    if (expense && "date" in expense) {
      this.oneTimeExpense = expense;
      this.expense = null;
      this.type = "onetime";
    } else {
      this.expense = expense;
      this.oneTimeExpense = null;
      this.type = "recurring";
    }
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: this.expense || this.oneTimeExpense ? "Edit Expense" : "Add Expense" });
    const form = contentEl.createDiv("expense-form");
    if (!this.expense && !this.oneTimeExpense) {
      new import_obsidian.Setting(form).setName("Expense Type").addDropdown((dropdown) => {
        dropdown.addOption("recurring", "Recurring (Monthly)").addOption("onetime", "One-Time").setValue(this.type).onChange(async (value) => {
          this.type = value;
          this.onOpen();
        });
      });
    }
    new import_obsidian.Setting(form).setName("Expense Name").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.name) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.name) || "");
      text.inputEl.id = "expense-name";
    });
    new import_obsidian.Setting(form).setName("Currency").addDropdown((dropdown) => {
      var _a, _b;
      dropdown.addOption("USD", "USD ($)").addOption("BOB", "BOB (Bs)").setValue(((_a = this.expense) == null ? void 0 : _a.currency) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.currency) || "USD");
      dropdown.selectEl.id = "expense-currency";
    });
    new import_obsidian.Setting(form).setName("Amount").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.amount.toString()) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.amount.toString()) || "");
      text.inputEl.type = "number";
      text.inputEl.step = "0.01";
      text.inputEl.id = "expense-amount";
    });
    if (this.type === "recurring") {
      new import_obsidian.Setting(form).setName("Due Day of Month").setDesc("1-31").addText((text) => {
        var _a;
        text.setValue(((_a = this.expense) == null ? void 0 : _a.dueDay.toString()) || "1");
        text.inputEl.type = "number";
        text.inputEl.min = "1";
        text.inputEl.max = "31";
        text.inputEl.id = "expense-due-day";
      });
      new import_obsidian.Setting(form).setName("Start Month").setDesc("YYYY-MM format").addText((text) => {
        var _a;
        text.setValue(((_a = this.expense) == null ? void 0 : _a.startDate) || (0, import_obsidian.moment)().format("YYYY-MM"));
        text.inputEl.id = "expense-start-date";
      });
      new import_obsidian.Setting(form).setName("End Month (Optional)").setDesc("YYYY-MM format - leave empty for ongoing").addText((text) => {
        var _a;
        text.setValue(((_a = this.expense) == null ? void 0 : _a.endDate) || "");
        text.inputEl.id = "expense-end-date";
      });
    } else {
      new import_obsidian.Setting(form).setName("Date").setDesc("YYYY-MM-DD format").addText((text) => {
        var _a;
        text.setValue(((_a = this.oneTimeExpense) == null ? void 0 : _a.date) || (0, import_obsidian.moment)().format("YYYY-MM-DD"));
        text.inputEl.type = "date";
        text.inputEl.id = "expense-date";
      });
    }
    new import_obsidian.Setting(form).setName("Payment Method").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.paymentMethod) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.paymentMethod) || "");
      text.inputEl.id = "expense-payment-method";
    });
    new import_obsidian.Setting(form).setName("Category (Optional)").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.category) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.category) || "");
      text.inputEl.id = "expense-category";
    });
    const buttonDiv = contentEl.createDiv("modal-button-container");
    const saveBtn = buttonDiv.createEl("button", { text: "Save", cls: "mod-cta" });
    saveBtn.onclick = async () => {
      await this.handleSubmit();
    };
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    cancelBtn.onclick = () => {
      this.close();
    };
  }
  async handleSubmit() {
    var _a, _b, _c, _d, _e, _f;
    const name = document.getElementById("expense-name").value;
    const currency = document.getElementById("expense-currency").value;
    const amount = parseFloat(document.getElementById("expense-amount").value);
    const paymentMethod = document.getElementById("expense-payment-method").value;
    const category = document.getElementById("expense-category").value;
    if (!name || isNaN(amount) || !paymentMethod) {
      new import_obsidian.Notice("Please fill in all required fields");
      return;
    }
    if (this.type === "recurring") {
      const dueDayStr = document.getElementById("expense-due-day").value;
      const startDate = document.getElementById("expense-start-date").value;
      const endDate = document.getElementById("expense-end-date").value;
      const dueDay = parseInt(dueDayStr);
      if (!dueDay || !startDate) {
        new import_obsidian.Notice("Please fill in all required fields for recurring expense");
        return;
      }
      const expense = {
        id: ((_a = this.expense) == null ? void 0 : _a.id) || `exp-${Date.now()}`,
        name,
        amount,
        currency,
        dueDay,
        paymentMethod,
        startDate,
        endDate: endDate || void 0,
        category: category || void 0,
        archived: ((_b = this.expense) == null ? void 0 : _b.archived) || false
      };
      if (this.expense) {
        await this.plugin.updateRecurringExpense(expense);
      } else {
        await this.plugin.addRecurringExpense(expense);
      }
    } else {
      const date = document.getElementById("expense-date").value;
      if (!date) {
        new import_obsidian.Notice("Please select a date for the one-time expense");
        return;
      }
      const expense = {
        id: ((_c = this.oneTimeExpense) == null ? void 0 : _c.id) || `one-${Date.now()}`,
        name,
        amount,
        currency,
        date,
        paymentMethod,
        category: category || void 0,
        paid: ((_d = this.oneTimeExpense) == null ? void 0 : _d.paid) || false,
        paidDate: (_e = this.oneTimeExpense) == null ? void 0 : _e.paidDate,
        confirmationNumber: (_f = this.oneTimeExpense) == null ? void 0 : _f.confirmationNumber
      };
      if (this.oneTimeExpense) {
        await this.plugin.updateOneTimeExpense(expense);
      } else {
        await this.plugin.addOneTimeExpense(expense);
      }
    }
    this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var MarkPaidModal = class extends import_obsidian.Modal {
  constructor(app, plugin, expense, month, onComplete) {
    super(app);
    this.plugin = plugin;
    this.expense = expense;
    this.month = month;
    this.onComplete = onComplete;
    this.isOneTime = "date" in expense;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Mark as Paid" });
    contentEl.createEl("p", { text: `${this.expense.name} - $${this.expense.amount.toFixed(2)}` });
    const form = contentEl.createDiv();
    new import_obsidian.Setting(form).setName("Confirmation Number (Optional)").addText((text) => {
      text.inputEl.id = "confirmation-number";
    });
    const buttonDiv = contentEl.createDiv("modal-button-container");
    const saveBtn = buttonDiv.createEl("button", { text: "Mark Paid", cls: "mod-cta" });
    saveBtn.onclick = async () => {
      const confirmationNumber = document.getElementById("confirmation-number").value;
      if (this.isOneTime) {
        await this.plugin.markOneTimeExpensePaid(this.expense.id, true, confirmationNumber || void 0);
      } else {
        await this.plugin.markExpensePaid(this.expense.id, this.month, true, confirmationNumber || void 0);
      }
      this.onComplete();
      this.close();
    };
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    cancelBtn.onclick = () => {
      this.close();
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var HistoryModal = class extends import_obsidian.Modal {
  constructor(app, plugin, expense) {
    super(app);
    this.plugin = plugin;
    this.expense = expense;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: `Payment History: ${this.expense.name}` });
    const history = this.plugin.settings.monthlyPayments.filter((p) => p.expenseId === this.expense.id).sort((a, b) => b.month.localeCompare(a.month));
    if (history.length === 0) {
      contentEl.createEl("p", { text: "No payment history" });
    } else {
      const table = contentEl.createEl("table", { cls: "expense-history-table" });
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      headerRow.createEl("th", { text: "Month" });
      headerRow.createEl("th", { text: "Status" });
      headerRow.createEl("th", { text: "Paid Date" });
      headerRow.createEl("th", { text: "Confirmation" });
      const tbody = table.createEl("tbody");
      history.forEach((payment) => {
        const row = tbody.createEl("tr");
        row.createEl("td", { text: (0, import_obsidian.moment)(payment.month, "YYYY-MM").format("MMM YYYY") });
        row.createEl("td", { text: payment.paid ? "\u2705 Paid" : "\u2B1C Unpaid" });
        row.createEl("td", { text: payment.paidDate || "-" });
        row.createEl("td", { text: payment.confirmationNumber || "-" });
      });
    }
    const closeBtn = contentEl.createEl("button", { text: "Close" });
    closeBtn.onclick = () => this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var SupportModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("expense-tracker-support-modal");
    const header = contentEl.createEl("h2", { text: "\u{1F499} Support Monthly Expense Tracker" });
    header.style.color = "var(--interactive-accent)";
    contentEl.createEl("p", {
      text: "Thank you for considering supporting this plugin! Your support helps maintain and improve this tool."
    });
    const paypalSection = contentEl.createDiv("support-section");
    paypalSection.createEl("h3", { text: "\u{1F4B3} PayPal" });
    paypalSection.createEl("p", { text: "One-time or recurring donations via PayPal:" });
    const paypalBtn = paypalSection.createEl("a", {
      text: "\u2192 Donate via PayPal",
      href: "https://www.paypal.com/paypalme/VictorZenteno"
    });
    paypalBtn.addClass("support-link");
    const cryptoSection = contentEl.createDiv("support-section");
    cryptoSection.createEl("h3", { text: "\u{1FA99} Cryptocurrency (USDC/USDT)" });
    cryptoSection.createEl("p", { text: "Support with stablecoins on multiple networks:" });
    const cryptoAddresses = cryptoSection.createDiv("crypto-addresses");
    const usdcDiv = cryptoAddresses.createDiv("crypto-address");
    usdcDiv.createEl("strong", { text: "USDC (Base Network - Low Fees):" });
    const usdcAddress = usdcDiv.createEl("code", { text: "0x1023142d0548b63542f2a4803b6724d4c26b8bda" });
    usdcAddress.style.display = "block";
    usdcAddress.style.marginTop = "5px";
    usdcAddress.style.padding = "5px";
    usdcAddress.style.background = "var(--background-secondary)";
    usdcAddress.style.borderRadius = "4px";
    usdcAddress.style.fontSize = "0.85em";
    usdcAddress.style.wordBreak = "break-all";
    const usdcNote = usdcDiv.createEl("small", { text: "Also works on: Ethereum, Polygon, Arbitrum, Optimism" });
    usdcNote.style.display = "block";
    usdcNote.style.marginTop = "3px";
    usdcNote.style.color = "var(--text-muted)";
    const usdtDiv = cryptoAddresses.createDiv("crypto-address");
    usdtDiv.createEl("strong", { text: "USDT (Tron TRC-20 - Ultra Low Fees):" });
    const usdtAddress = usdtDiv.createEl("code", { text: "TAV7qTGgvn8GnYJfXfes73tD2dAPQJ3L2W" });
    usdtAddress.style.display = "block";
    usdtAddress.style.marginTop = "5px";
    usdtAddress.style.padding = "5px";
    usdtAddress.style.background = "var(--background-secondary)";
    usdtAddress.style.borderRadius = "4px";
    usdtAddress.style.fontSize = "0.85em";
    usdtAddress.style.wordBreak = "break-all";
    const cryptoNote = cryptoSection.createEl("p", { text: "\u26A0\uFE0F Important: Double-check the network before sending!" });
    cryptoNote.style.color = "var(--text-error)";
    cryptoNote.style.fontSize = "0.9em";
    cryptoNote.style.marginTop = "10px";
    const cryptoTip = cryptoSection.createEl("p", { text: "\u{1F4A1} Tip: Use Tron for USDT or Base for USDC to minimize fees!" });
    cryptoTip.style.fontSize = "0.9em";
    cryptoTip.style.marginTop = "5px";
    cryptoTip.style.color = "var(--text-muted)";
    const coffeeSection = contentEl.createDiv("support-section");
    coffeeSection.createEl("h3", { text: "\u2615 Buy Me a Coffee" });
    coffeeSection.createEl("p", { text: "Simple, friendly way to support:" });
    const coffeeBtn = coffeeSection.createEl("a", {
      text: "\u2192 Buy Me a Coffee",
      href: "https://buymeacoffee.com/rvzen"
    });
    coffeeBtn.addClass("support-link");
    const otherSection = contentEl.createDiv("support-section");
    otherSection.createEl("h3", { text: "\u{1F31F} Other Ways to Support" });
    const otherList = otherSection.createEl("ul");
    otherList.createEl("li", { text: "\u2B50 Star the GitHub repository" });
    otherList.createEl("li", { text: "\u{1F41B} Report bugs and issues" });
    otherList.createEl("li", { text: "\u{1F4A1} Suggest new features" });
    otherList.createEl("li", { text: "\u{1F4DD} Improve documentation" });
    otherList.createEl("li", { text: "\u{1F5E3}\uFE0F Tell others about the plugin" });
    const footer = contentEl.createDiv("support-footer");
    footer.style.marginTop = "20px";
    footer.style.padding = "15px";
    footer.style.background = "var(--background-secondary)";
    footer.style.borderRadius = "8px";
    footer.style.textAlign = "center";
    footer.createEl("p", { text: "Thank you for your support! \u{1F64F}" });
    footer.createEl("small", { text: "All donations help maintain and improve this plugin" });
    const closeBtn = contentEl.createEl("button", { text: "Close" });
    closeBtn.style.marginTop = "20px";
    closeBtn.style.width = "100%";
    closeBtn.onclick = () => this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var ReportModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Expense Report" });
    const form = contentEl.createDiv();
    new import_obsidian.Setting(form).setName("Start Month").setDesc("YYYY-MM format").addText((text) => {
      text.setValue((0, import_obsidian.moment)().subtract(5, "months").format("YYYY-MM"));
      text.inputEl.id = "report-start";
    });
    new import_obsidian.Setting(form).setName("End Month").setDesc("YYYY-MM format").addText((text) => {
      text.setValue((0, import_obsidian.moment)().format("YYYY-MM"));
      text.inputEl.id = "report-end";
    });
    const buttonDiv = contentEl.createDiv("modal-button-container");
    const generateBtn = buttonDiv.createEl("button", { text: "Generate", cls: "mod-cta" });
    generateBtn.onclick = () => {
      this.generateReport();
    };
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    cancelBtn.onclick = () => {
      this.close();
    };
  }
  async generateReport() {
    const startMonth = document.getElementById("report-start").value;
    const endMonth = document.getElementById("report-end").value;
    const report = this.buildReport(startMonth, endMonth);
    const folderPath = `${this.plugin.settings.monthlyNotesFolder}/Expense Reports`;
    const fileName = `Expense Report ${startMonth} to ${endMonth}.md`;
    const filePath = `${folderPath}/${fileName}`;
    try {
      const folder = this.app.vault.getAbstractFileByPath(folderPath);
      if (!folder) {
        await this.app.vault.createFolder(folderPath);
      }
      const existingFile = this.app.vault.getAbstractFileByPath(filePath);
      if (existingFile instanceof import_obsidian.TFile) {
        await this.app.vault.modify(existingFile, report);
        new import_obsidian.Notice("Report updated");
      } else {
        await this.app.vault.create(filePath, report);
        new import_obsidian.Notice("Report generated");
      }
      this.close();
    } catch (error) {
      console.error("Error creating report:", error);
      new import_obsidian.Notice("Error creating report");
    }
  }
  buildReport(startMonth, endMonth) {
    let report = `# Expense Report

`;
    report += `**Period:** ${(0, import_obsidian.moment)(startMonth, "YYYY-MM").format("MMM YYYY")} - ${(0, import_obsidian.moment)(endMonth, "YYYY-MM").format("MMM YYYY")}

`;
    report += `**Generated:** ${(0, import_obsidian.moment)().format("YYYY-MM-DD HH:mm")}

---

`;
    const start = (0, import_obsidian.moment)(startMonth, "YYYY-MM");
    const end = (0, import_obsidian.moment)(endMonth, "YYYY-MM");
    const totalAmount = {};
    const totalPaid = {};
    const totalUnpaid = {};
    report += `## Monthly Breakdown

`;
    let current = start.clone();
    while (current.isSameOrBefore(end)) {
      const month = current.format("YYYY-MM");
      const recurringExpenses = this.plugin.getExpensesForMonth(month);
      const oneTimeExpenses = this.plugin.getOneTimeExpensesForMonth(month);
      const monthTotals = {};
      const process = (amount, currency, paid) => {
        if (!monthTotals[currency]) monthTotals[currency] = { total: 0, paid: 0 };
        monthTotals[currency].total += amount;
        if (paid) monthTotals[currency].paid += amount;
        if (!totalAmount[currency]) totalAmount[currency] = 0;
        if (!totalPaid[currency]) totalPaid[currency] = 0;
        totalAmount[currency] += amount;
        if (paid) totalPaid[currency] += amount;
      };
      recurringExpenses.forEach((e) => {
        const payment = this.plugin.getPayment(e.id, month);
        process(e.amount, e.currency || "USD", (payment == null ? void 0 : payment.paid) || false);
      });
      oneTimeExpenses.forEach((e) => {
        process(e.amount, e.currency || "USD", e.paid);
      });
      report += `### ${current.format("MMMM YYYY")}

`;
      const currencies = Object.keys(monthTotals).sort();
      if (currencies.length === 0) {
        report += `- No expenses
`;
      } else {
        currencies.forEach((currency) => {
          const symbol = currency === "USD" ? "$" : currency === "BOB" ? "Bs " : `${currency} `;
          const data = monthTotals[currency];
          const unpaid = data.total - data.paid;
          report += `- **${currency}**: Total: ${symbol}${data.total.toFixed(2)} | Paid: ${symbol}${data.paid.toFixed(2)} | Unpaid: ${symbol}${unpaid.toFixed(2)}
`;
        });
      }
      report += `
`;
      current.add(1, "month");
    }
    report += `## Summary

`;
    const allCurrencies = Object.keys(totalAmount).sort();
    if (allCurrencies.length === 0) {
      report += `No expenses found in this period.

`;
    } else {
      allCurrencies.forEach((currency) => {
        const symbol = currency === "USD" ? "$" : currency === "BOB" ? "Bs " : `${currency} `;
        const total = totalAmount[currency];
        const paid = totalPaid[currency] || 0;
        const unpaid = total - paid;
        const rate = total > 0 ? (paid / total * 100).toFixed(1) : "0";
        report += `### ${currency}
`;
        report += `- **Total Amount:** ${symbol}${total.toFixed(2)}
`;
        report += `- **Total Paid:** ${symbol}${paid.toFixed(2)}
`;
        report += `- **Total Unpaid:** ${symbol}${unpaid.toFixed(2)}
`;
        report += `- **Payment Rate:** ${rate}%

`;
      });
    }
    report += `## Recurring Expense Breakdown

`;
    const allExpenses = this.plugin.settings.recurringExpenses.filter((e) => !e.archived);
    allExpenses.forEach((expense) => {
      const payments = this.plugin.settings.monthlyPayments.filter(
        (p) => p.expenseId === expense.id && (0, import_obsidian.moment)(p.month, "YYYY-MM").isBetween(start, end, null, "[]")
      );
      const paidCount = payments.filter((p) => p.paid).length;
      const totalCount = payments.length;
      const symbol = (expense.currency || "USD") === "USD" ? "$" : (expense.currency || "USD") === "BOB" ? "Bs " : `${expense.currency} `;
      report += `### ${expense.name}

`;
      report += `- Amount: ${symbol}${expense.amount.toFixed(2)}
`;
      report += `- Payment Method: ${expense.paymentMethod}
`;
      report += `- Paid: ${paidCount}/${totalCount} months
`;
      report += `- Total Paid: ${symbol}${(paidCount * expense.amount).toFixed(2)}

`;
    });
    report += `## One-Time Expenses List

`;
    const allOneTime = this.plugin.settings.oneTimeExpenses.filter(
      (e) => (0, import_obsidian.moment)(e.date).isBetween(start, end, null, "[]")
    ).sort((a, b) => a.date.localeCompare(b.date));
    if (allOneTime.length > 0) {
      allOneTime.forEach((e) => {
        const status = e.paid ? "Paid" : "Unpaid";
        const symbol = (e.currency || "USD") === "USD" ? "$" : (e.currency || "USD") === "BOB" ? "Bs " : `${e.currency} `;
        report += `- ${e.date}: **${e.name}** - ${symbol}${e.amount.toFixed(2)} (${status})
`;
      });
    } else {
      report += `No one-time expenses in this period.
`;
    }
    return report;
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var ExpenseTrackerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Monthly Expense Tracker Settings" });
    const supportSection = containerEl.createDiv("expense-tracker-support-section");
    supportSection.style.padding = "20px";
    supportSection.style.marginBottom = "20px";
    supportSection.style.background = "var(--background-secondary)";
    supportSection.style.borderRadius = "8px";
    supportSection.style.border = "2px solid var(--interactive-accent)";
    const supportHeader = supportSection.createEl("h3", { text: "\u{1F499} Support This Plugin" });
    supportHeader.style.marginTop = "0";
    supportHeader.style.color = "var(--interactive-accent)";
    supportSection.createEl("p", {
      text: "If you find this plugin helpful, consider supporting its development!"
    });
    const supportLinks = supportSection.createDiv();
    supportLinks.style.display = "flex";
    supportLinks.style.gap = "10px";
    supportLinks.style.flexWrap = "wrap";
    supportLinks.style.marginTop = "10px";
    const paypalBtn = supportLinks.createEl("a", {
      text: "\u{1F4B3} PayPal",
      href: "https://www.paypal.com/paypalme/VictorZenteno"
    });
    paypalBtn.style.cssText = "padding: 8px 16px; background: var(--interactive-accent); color: var(--text-on-accent); border-radius: 4px; text-decoration: none; font-weight: 600;";
    const cryptoBtn = supportLinks.createEl("button", {
      text: "\u{1FA99} USDC/USDT"
    });
    cryptoBtn.style.cssText = "padding: 8px 16px; background: var(--interactive-accent); color: var(--text-on-accent); border-radius: 4px; text-decoration: none; font-weight: 600; cursor: pointer; border: none;";
    cryptoBtn.onclick = () => {
      new SupportModal(this.app).open();
    };
    const coffeeBtn = supportLinks.createEl("a", {
      text: "\u2615 Coffee",
      href: "https://buymeacoffee.com/rvzen"
    });
    coffeeBtn.style.cssText = "padding: 8px 16px; background: var(--interactive-accent); color: var(--text-on-accent); border-radius: 4px; text-decoration: none; font-weight: 600;";
    const supportNote = supportSection.createEl("p", {
      text: "Your support helps maintain and improve this plugin. Thank you! \u{1F64F}"
    });
    supportNote.style.marginBottom = "0";
    supportNote.style.fontSize = "0.9em";
    supportNote.style.color = "var(--text-muted)";
    supportNote.style.marginTop = "10px";
    containerEl.createEl("hr", { cls: "expense-tracker-divider" });
    containerEl.createEl("h2", { text: "Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Monthly Notes Folder").setDesc("Folder where monthly expense notes will be created").addText((text) => text.setValue(this.plugin.settings.monthlyNotesFolder).onChange(async (value) => {
      this.plugin.settings.monthlyNotesFolder = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Auto-create Monthly Notes").setDesc("Automatically create monthly notes when a new month begins").addToggle((toggle) => toggle.setValue(this.plugin.settings.autoCreateMonthlyNotes).onChange(async (value) => {
      this.plugin.settings.autoCreateMonthlyNotes = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Show Status Bar").setDesc("Display unpaid expense count in status bar").addToggle((toggle) => toggle.setValue(this.plugin.settings.showStatusBar).onChange(async (value) => {
      this.plugin.settings.showStatusBar = value;
      await this.plugin.saveSettings();
      if (value && !this.plugin.statusBarItem) {
        this.plugin.statusBarItem = this.plugin.addStatusBarItem();
        this.plugin.updateStatusBar();
      } else if (!value && this.plugin.statusBarItem) {
        this.plugin.statusBarItem.remove();
      }
    }));
    new import_obsidian.Setting(containerEl).setName("Monthly Note Template").setDesc("Template for monthly notes. Use {{month}} and {{expenses}} as placeholders.").addTextArea((text) => {
      text.setValue(this.plugin.settings.monthlyNoteTemplate);
      text.inputEl.rows = 10;
      text.inputEl.cols = 50;
      text.onChange(async (value) => {
        this.plugin.settings.monthlyNoteTemplate = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgUGx1Z2luLFxuICAgIFBsdWdpblNldHRpbmdUYWIsXG4gICAgU2V0dGluZyxcbiAgICBURmlsZSxcbiAgICBXb3Jrc3BhY2VMZWFmLFxuICAgIEl0ZW1WaWV3LFxuICAgIE5vdGljZSxcbiAgICBNb2RhbCxcbiAgICBtb21lbnQsXG4gICAgTWVudVxufSBmcm9tICdvYnNpZGlhbic7XG5cbmludGVyZmFjZSBSZWN1cnJpbmdFeHBlbnNlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBjdXJyZW5jeT86IHN0cmluZzsgLy8gZS5nLiwgJ1VTRCcsICdCT0InXG4gICAgZHVlRGF5OiBudW1iZXI7IC8vIERheSBvZiBtb250aCAoMS0zMSlcbiAgICBwYXltZW50TWV0aG9kOiBzdHJpbmc7XG4gICAgc3RhcnREYXRlOiBzdHJpbmc7IC8vIFlZWVktTU0gZm9ybWF0XG4gICAgZW5kRGF0ZT86IHN0cmluZzsgLy8gWVlZWS1NTSBmb3JtYXQsIG9wdGlvbmFsXG4gICAgYXJjaGl2ZWQ6IGJvb2xlYW47XG4gICAgY2F0ZWdvcnk/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBPbmVUaW1lRXhwZW5zZSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgY3VycmVuY3k/OiBzdHJpbmc7IC8vIGUuZy4sICdVU0QnLCAnQk9CJ1xuICAgIGRhdGU6IHN0cmluZzsgLy8gWVlZWS1NTS1ERFxuICAgIHBheW1lbnRNZXRob2Q6IHN0cmluZztcbiAgICBwYWlkOiBib29sZWFuO1xuICAgIHBhaWREYXRlPzogc3RyaW5nO1xuICAgIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAgIGNvbmZpcm1hdGlvbk51bWJlcj86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE1vbnRobHlQYXltZW50IHtcbiAgICBleHBlbnNlSWQ6IHN0cmluZztcbiAgICBtb250aDogc3RyaW5nOyAvLyBZWVlZLU1NIGZvcm1hdFxuICAgIHBhaWQ6IGJvb2xlYW47XG4gICAgcGFpZERhdGU/OiBzdHJpbmc7XG4gICAgY29uZmlybWF0aW9uTnVtYmVyPzogc3RyaW5nO1xuICAgIG5vdGVzPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRXhwZW5zZVRyYWNrZXJTZXR0aW5ncyB7XG4gICAgcmVjdXJyaW5nRXhwZW5zZXM6IFJlY3VycmluZ0V4cGVuc2VbXTtcbiAgICBvbmVUaW1lRXhwZW5zZXM6IE9uZVRpbWVFeHBlbnNlW107XG4gICAgbW9udGhseVBheW1lbnRzOiBNb250aGx5UGF5bWVudFtdO1xuICAgIG1vbnRobHlOb3Rlc0ZvbGRlcjogc3RyaW5nO1xuICAgIG1vbnRobHlOb3RlVGVtcGxhdGU6IHN0cmluZztcbiAgICBhdXRvQ3JlYXRlTW9udGhseU5vdGVzOiBib29sZWFuO1xuICAgIHNob3dTdGF0dXNCYXI6IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEV4cGVuc2VUcmFja2VyU2V0dGluZ3MgPSB7XG4gICAgcmVjdXJyaW5nRXhwZW5zZXM6IFtdLFxuICAgIG9uZVRpbWVFeHBlbnNlczogW10sXG4gICAgbW9udGhseVBheW1lbnRzOiBbXSxcbiAgICBtb250aGx5Tm90ZXNGb2xkZXI6ICdNb250aGx5IEV4cGVuc2VzJyxcbiAgICBtb250aGx5Tm90ZVRlbXBsYXRlOiAnIyB7e21vbnRofX0gLSBNb250aGx5IEV4cGVuc2VzXFxuXFxuIyMgRXhwZW5zZSBUcmFja2VyXFxuXFxue3tleHBlbnNlc319XFxuXFxuLS0tXFxuKkdlbmVyYXRlZCBieSBNb250aGx5IEV4cGVuc2UgVHJhY2tlcionLFxuICAgIGF1dG9DcmVhdGVNb250aGx5Tm90ZXM6IHRydWUsXG4gICAgc2hvd1N0YXR1c0JhcjogdHJ1ZVxufTtcblxuY29uc3QgVklFV19UWVBFX0RBU0hCT0FSRCA9ICdleHBlbnNlLXRyYWNrZXItZGFzaGJvYXJkJztcbmNvbnN0IFZJRVdfVFlQRV9DQUxFTkRBUiA9ICdleHBlbnNlLXRyYWNrZXItY2FsZW5kYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb250aGx5RXhwZW5zZVRyYWNrZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzOiBFeHBlbnNlVHJhY2tlclNldHRpbmdzO1xuICAgIHN0YXR1c0Jhckl0ZW06IEhUTUxFbGVtZW50O1xuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgICAgIC8vIFJlZ2lzdGVyIHZpZXdzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFxuICAgICAgICAgICAgVklFV19UWVBFX0RBU0hCT0FSRCxcbiAgICAgICAgICAgIChsZWFmKSA9PiBuZXcgRGFzaGJvYXJkVmlldyhsZWFmLCB0aGlzKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCByaWJib24gaWNvblxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ3dhbGxldCcsICdNb250aGx5IEV4cGVuc2UgVHJhY2tlcicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVEYXNoYm9hcmRWaWV3KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjb21tYW5kc1xuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdvcGVuLWV4cGVuc2UtZGFzaGJvYXJkJyxcbiAgICAgICAgICAgIG5hbWU6ICdPcGVuIEV4cGVuc2UgRGFzaGJvYXJkJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZURhc2hib2FyZFZpZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnYWRkLXJlY3VycmluZy1leHBlbnNlJyxcbiAgICAgICAgICAgIG5hbWU6ICdBZGQgRXhwZW5zZScsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIG5ldyBBZGRFeHBlbnNlTW9kYWwodGhpcy5hcHAsIHRoaXMsIG51bGwpLm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnY3JlYXRlLWN1cnJlbnQtbW9udGgtbm90ZScsXG4gICAgICAgICAgICBuYW1lOiAnQ3JlYXRlIEN1cnJlbnQgTW9udGggTm90ZScsXG4gICAgICAgICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTScpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlTW9udGhseU5vdGUoY3VycmVudE1vbnRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnZ2VuZXJhdGUtZXhwZW5zZS1yZXBvcnQnLFxuICAgICAgICAgICAgbmFtZTogJ0dlbmVyYXRlIEV4cGVuc2UgUmVwb3J0JyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IFJlcG9ydE1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFN0YXR1cyBiYXJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hvd1N0YXR1c0Jhcikge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1c0JhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXV0by1jcmVhdGUgbW9udGhseSBub3RlIGlmIG5lZWRlZFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvQ3JlYXRlTW9udGhseU5vdGVzKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQW5kQ3JlYXRlTW9udGhseU5vdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldHRpbmdzIHRhYlxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IEV4cGVuc2VUcmFja2VyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdNb250aGx5IEV4cGVuc2UgVHJhY2tlciBwbHVnaW4gbG9hZGVkJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWN0aXZhdGVEYXNoYm9hcmRWaWV3KCkge1xuICAgICAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cbiAgICAgICAgbGV0IGxlYWYgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9EQVNIQk9BUkQpWzBdO1xuXG4gICAgICAgIGlmICghbGVhZikge1xuICAgICAgICAgICAgY29uc3QgbmV3TGVhZiA9IHdvcmtzcGFjZS5nZXRMZWFmKCd0YWInKTtcbiAgICAgICAgICAgIGlmIChuZXdMZWFmKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3TGVhZi5zZXRWaWV3U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBWSUVXX1RZUEVfREFTSEJPQVJELFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZWFmID0gbmV3TGVhZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZWFmKSB7XG4gICAgICAgICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNoZWNrQW5kQ3JlYXRlTW9udGhseU5vdGUoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTScpO1xuICAgICAgICBjb25zdCBtb250aGx5Tm90ZSA9IGF3YWl0IHRoaXMuZ2V0TW9udGhseU5vdGVGaWxlKGN1cnJlbnRNb250aCk7XG5cbiAgICAgICAgaWYgKCFtb250aGx5Tm90ZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVNb250aGx5Tm90ZShjdXJyZW50TW9udGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlTW9udGhseU5vdGUobW9udGg6IHN0cmluZyk6IFByb21pc2U8VEZpbGU+IHtcbiAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IHRoaXMuc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke21vbnRofS5tZGA7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7Zm9sZGVyUGF0aH0vJHtmaWxlTmFtZX1gO1xuXG4gICAgICAgIC8vIEVuc3VyZSBmb2xkZXIgZXhpc3RzXG4gICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXJQYXRoKTtcbiAgICAgICAgaWYgKCFmb2xkZXIpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZUZvbGRlcihmb2xkZXJQYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGZpbGUgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgbGV0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBNb250aGx5IG5vdGUgZm9yICR7bW9udGh9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCByZWN1cnJpbmcgZXhwZW5zZXMgZm9yIHRoaXMgbW9udGhcbiAgICAgICAgY29uc3QgZXhwZW5zZXMgPSB0aGlzLmdldEV4cGVuc2VzRm9yTW9udGgobW9udGgpO1xuXG4gICAgICAgIC8vIEdldCBvbmUtdGltZSBleHBlbnNlcyBmb3IgdGhpcyBtb250aFxuICAgICAgICBjb25zdCBvbmVUaW1lRXhwZW5zZXMgPSB0aGlzLmdldE9uZVRpbWVFeHBlbnNlc0Zvck1vbnRoKG1vbnRoKTtcblxuICAgICAgICAvLyBDb3B5IHVucGFpZCBleHBlbnNlcyBmcm9tIHByZXZpb3VzIG1vbnRoXG4gICAgICAgIGNvbnN0IHByZXZNb250aCA9IG1vbWVudChtb250aCwgJ1lZWVktTU0nKS5zdWJ0cmFjdCgxLCAnbW9udGgnKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgY29uc3QgdW5wYWlkRnJvbVByZXYgPSB0aGlzLmdldFVucGFpZEV4cGVuc2VzKHByZXZNb250aCk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgZXhwZW5zZSBsaXN0XG4gICAgICAgIGxldCBleHBlbnNlTGlzdCA9ICcjIyBSZWN1cnJpbmcgRXhwZW5zZXNcXG5cXG4nO1xuICAgICAgICBleHBlbnNlcy5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMuZ2V0UGF5bWVudChleHBlbnNlLmlkLCBtb250aCk7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBwYXltZW50Py5wYWlkID8gJ3gnIDogJyAnO1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzSWNvbiA9IHBheW1lbnQ/LnBhaWQgPyAnXHUyNzA1JyA6ICdcdTJCMUMnO1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gKGV4cGVuc2UuY3VycmVuY3kgfHwgJ1VTRCcpID09PSAnVVNEJyA/ICckJyA6ICgoZXhwZW5zZS5jdXJyZW5jeSB8fCAnVVNEJykgPT09ICdCT0InID8gJ0JzICcgOiBgJHtleHBlbnNlLmN1cnJlbmN5fSBgKTtcbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAtIFske3N0YXR1c31dICR7c3RhdHVzSWNvbn0gKioke2V4cGVuc2UubmFtZX0qKiAtICR7c3ltYm9sfSR7ZXhwZW5zZS5hbW91bnQudG9GaXhlZCgyKX0gLSBEdWU6ICR7ZXhwZW5zZS5kdWVEYXl9IC0gTWV0aG9kOiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cXG5gO1xuICAgICAgICAgICAgZXhwZW5zZUxpc3QgKz0gYCAgLSBJRDogXFxgJHtleHBlbnNlLmlkfVxcYFxcbmA7XG4gICAgICAgICAgICBpZiAocGF5bWVudD8uY29uZmlybWF0aW9uTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZXhwZW5zZUxpc3QgKz0gYCAgLSBDb25maXJtYXRpb246ICR7cGF5bWVudC5jb25maXJtYXRpb25OdW1iZXJ9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9ICdcXG4nO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob25lVGltZUV4cGVuc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9ICcjIyBPbmUtVGltZSBFeHBlbnNlc1xcblxcbic7XG4gICAgICAgICAgICBvbmVUaW1lRXhwZW5zZXMuZm9yRWFjaChleHBlbnNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBleHBlbnNlLnBhaWQgPyAneCcgOiAnICc7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzSWNvbiA9IGV4cGVuc2UucGFpZCA/ICdcdTI3MDUnIDogJ1x1MkIxQyc7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gKGV4cGVuc2UuY3VycmVuY3kgfHwgJ1VTRCcpID09PSAnVVNEJyA/ICckJyA6ICgoZXhwZW5zZS5jdXJyZW5jeSB8fCAnVVNEJykgPT09ICdCT0InID8gJ0JzICcgOiBgJHtleHBlbnNlLmN1cnJlbmN5fSBgKTtcbiAgICAgICAgICAgICAgICBleHBlbnNlTGlzdCArPSBgLSBbJHtzdGF0dXN9XSAke3N0YXR1c0ljb259ICoqJHtleHBlbnNlLm5hbWV9KiogLSAke3N5bWJvbH0ke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IC0gRGF0ZTogJHtleHBlbnNlLmRhdGV9IC0gTWV0aG9kOiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cXG5gO1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAgIC0gSUQ6IFxcYCR7ZXhwZW5zZS5pZH1cXGBcXG5gO1xuICAgICAgICAgICAgICAgIGlmIChleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBleHBlbnNlTGlzdCArPSBgICAtIENvbmZpcm1hdGlvbjogJHtleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlcn1cXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHBlbnNlTGlzdCArPSAnXFxuJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVucGFpZEZyb21QcmV2Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9ICdcXG4jIyBVbnBhaWQgZnJvbSBQcmV2aW91cyBNb250aFxcblxcbic7XG4gICAgICAgICAgICB1bnBhaWRGcm9tUHJldi5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IChleHBlbnNlLmN1cnJlbmN5IHx8ICdVU0QnKSA9PT0gJ1VTRCcgPyAnJCcgOiAoKGV4cGVuc2UuY3VycmVuY3kgfHwgJ1VTRCcpID09PSAnQk9CJyA/ICdCcyAnIDogYCR7ZXhwZW5zZS5jdXJyZW5jeX0gYCk7XG4gICAgICAgICAgICAgICAgZXhwZW5zZUxpc3QgKz0gYC0gWyBdIFx1MjZBMFx1RkUwRiAqKiR7ZXhwZW5zZS5uYW1lfSoqIC0gJHtzeW1ib2x9JHtleHBlbnNlLmFtb3VudC50b0ZpeGVkKDIpfSAtIE9WRVJEVUVcXG5gO1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAgIC0gSUQ6IFxcYCR7ZXhwZW5zZS5pZH1cXGBcXG5cXG5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyBleHBlbnNlcywgYWRkIGEgaGVscGZ1bCBtZXNzYWdlXG4gICAgICAgIGlmIChleHBlbnNlcy5sZW5ndGggPT09IDAgJiYgb25lVGltZUV4cGVuc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZXhwZW5zZUxpc3QgKz0gJ1xcbipObyBleHBlbnNlcyBzZXQgdXAgZm9yIHRoaXMgbW9udGggeWV0LiBDbGljayBcIioqKyBBZGQgRXhwZW5zZSoqXCIgaW4gdGhlIGRhc2hib2FyZCB0byBhZGQgZXhwZW5zZXMuKlxcblxcbic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZW5lcmF0ZSBjb250ZW50IGZyb20gdGVtcGxhdGVcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXMuc2V0dGluZ3MubW9udGhseU5vdGVUZW1wbGF0ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7bW9udGh9fScsIG1vbWVudChtb250aCwgJ1lZWVktTU0nKS5mb3JtYXQoJ01NTU0gWVlZWScpKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t7ZXhwZW5zZXN9fScsIGV4cGVuc2VMaXN0KTtcblxuICAgICAgICAvLyBDcmVhdGUgZmlsZVxuICAgICAgICBmaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVQYXRoLCBjb250ZW50KTtcbiAgICAgICAgbmV3IE5vdGljZShgQ3JlYXRlZCBtb250aGx5IG5vdGUgZm9yICR7bW9udGh9YCk7XG5cbiAgICAgICAgcmV0dXJuIGZpbGUgYXMgVEZpbGU7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0TW9udGhseU5vdGVGaWxlKG1vbnRoOiBzdHJpbmcpOiBQcm9taXNlPFRGaWxlIHwgbnVsbD4ge1xuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGAke3RoaXMuc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyfS8ke21vbnRofS5tZGA7XG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuICAgICAgICByZXR1cm4gZmlsZSBpbnN0YW5jZW9mIFRGaWxlID8gZmlsZSA6IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0RXhwZW5zZXNGb3JNb250aChtb250aDogc3RyaW5nKTogUmVjdXJyaW5nRXhwZW5zZVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMuZmlsdGVyKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgaWYgKGV4cGVuc2UuYXJjaGl2ZWQpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgZXhwZW5zZVN0YXJ0ID0gbW9tZW50KGV4cGVuc2Uuc3RhcnREYXRlLCAnWVlZWS1NTScpO1xuICAgICAgICAgICAgY29uc3QgZXhwZW5zZUVuZCA9IGV4cGVuc2UuZW5kRGF0ZSA/IG1vbWVudChleHBlbnNlLmVuZERhdGUsICdZWVlZLU1NJykgOiBudWxsO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNb250aCA9IG1vbWVudChtb250aCwgJ1lZWVktTU0nKTtcblxuICAgICAgICAgICAgY29uc3QgYWZ0ZXJTdGFydCA9IGNoZWNrTW9udGguaXNTYW1lT3JBZnRlcihleHBlbnNlU3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgYmVmb3JlRW5kID0gIWV4cGVuc2VFbmQgfHwgY2hlY2tNb250aC5pc1NhbWVPckJlZm9yZShleHBlbnNlRW5kKTtcblxuICAgICAgICAgICAgcmV0dXJuIGFmdGVyU3RhcnQgJiYgYmVmb3JlRW5kO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRVbnBhaWRFeHBlbnNlcyhtb250aDogc3RyaW5nKTogUmVjdXJyaW5nRXhwZW5zZVtdIHtcbiAgICAgICAgY29uc3QgZXhwZW5zZXMgPSB0aGlzLmdldEV4cGVuc2VzRm9yTW9udGgobW9udGgpO1xuICAgICAgICByZXR1cm4gZXhwZW5zZXMuZmlsdGVyKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMuZ2V0UGF5bWVudChleHBlbnNlLmlkLCBtb250aCk7XG4gICAgICAgICAgICByZXR1cm4gIXBheW1lbnQgfHwgIXBheW1lbnQucGFpZDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0UGF5bWVudChleHBlbnNlSWQ6IHN0cmluZywgbW9udGg6IHN0cmluZyk6IE1vbnRobHlQYXltZW50IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubW9udGhseVBheW1lbnRzLmZpbmQoXG4gICAgICAgICAgICBwID0+IHAuZXhwZW5zZUlkID09PSBleHBlbnNlSWQgJiYgcC5tb250aCA9PT0gbW9udGhcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyBtYXJrRXhwZW5zZVBhaWQoZXhwZW5zZUlkOiBzdHJpbmcsIG1vbnRoOiBzdHJpbmcsIHBhaWQ6IGJvb2xlYW4sIGNvbmZpcm1hdGlvbk51bWJlcj86IHN0cmluZykge1xuICAgICAgICBjb25zdCBleGlzdGluZ1BheW1lbnQgPSB0aGlzLmdldFBheW1lbnQoZXhwZW5zZUlkLCBtb250aCk7XG5cbiAgICAgICAgaWYgKGV4aXN0aW5nUGF5bWVudCkge1xuICAgICAgICAgICAgZXhpc3RpbmdQYXltZW50LnBhaWQgPSBwYWlkO1xuICAgICAgICAgICAgZXhpc3RpbmdQYXltZW50LnBhaWREYXRlID0gcGFpZCA/IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgZXhpc3RpbmdQYXltZW50LmNvbmZpcm1hdGlvbk51bWJlciA9IGNvbmZpcm1hdGlvbk51bWJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MubW9udGhseVBheW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVuc2VJZCxcbiAgICAgICAgICAgICAgICBtb250aCxcbiAgICAgICAgICAgICAgICBwYWlkLFxuICAgICAgICAgICAgICAgIHBhaWREYXRlOiBwYWlkID8gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29uZmlybWF0aW9uTnVtYmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzQmFyKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkUmVjdXJyaW5nRXhwZW5zZShleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMucHVzaChleHBlbnNlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgbmV3IE5vdGljZShgQWRkZWQgcmVjdXJyaW5nIGV4cGVuc2U6ICR7ZXhwZW5zZS5uYW1lfWApO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZE9uZVRpbWVFeHBlbnNlKGV4cGVuc2U6IE9uZVRpbWVFeHBlbnNlKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mub25lVGltZUV4cGVuc2VzLnB1c2goZXhwZW5zZSk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIG5ldyBOb3RpY2UoYEFkZGVkIG9uZS10aW1lIGV4cGVuc2U6ICR7ZXhwZW5zZS5uYW1lfWApO1xuICAgIH1cblxuICAgIGdldE9uZVRpbWVFeHBlbnNlc0Zvck1vbnRoKG1vbnRoOiBzdHJpbmcpOiBPbmVUaW1lRXhwZW5zZVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3Mub25lVGltZUV4cGVuc2VzLmZpbHRlcihleHBlbnNlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVuc2VEYXRlID0gbW9tZW50KGV4cGVuc2UuZGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gZXhwZW5zZURhdGUuZm9ybWF0KCdZWVlZLU1NJykgPT09IG1vbnRoO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBtYXJrT25lVGltZUV4cGVuc2VQYWlkKGV4cGVuc2VJZDogc3RyaW5nLCBwYWlkOiBib29sZWFuLCBjb25maXJtYXRpb25OdW1iZXI/OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZXhwZW5zZSA9IHRoaXMuc2V0dGluZ3Mub25lVGltZUV4cGVuc2VzLmZpbmQoZSA9PiBlLmlkID09PSBleHBlbnNlSWQpO1xuICAgICAgICBpZiAoZXhwZW5zZSkge1xuICAgICAgICAgICAgZXhwZW5zZS5wYWlkID0gcGFpZDtcbiAgICAgICAgICAgIGV4cGVuc2UucGFpZERhdGUgPSBwYWlkID8gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoY29uZmlybWF0aW9uTnVtYmVyKSBleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlciA9IGNvbmZpcm1hdGlvbk51bWJlcjtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1c0JhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlT25lVGltZUV4cGVuc2UoZXhwZW5zZTogT25lVGltZUV4cGVuc2UpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNldHRpbmdzLm9uZVRpbWVFeHBlbnNlcy5maW5kSW5kZXgoZSA9PiBlLmlkID09PSBleHBlbnNlLmlkKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5vbmVUaW1lRXhwZW5zZXNbaW5kZXhdID0gZXhwZW5zZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBVcGRhdGVkIGV4cGVuc2U6ICR7ZXhwZW5zZS5uYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlT25lVGltZUV4cGVuc2UoZXhwZW5zZUlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5vbmVUaW1lRXhwZW5zZXMgPSB0aGlzLnNldHRpbmdzLm9uZVRpbWVFeHBlbnNlcy5maWx0ZXIoZSA9PiBlLmlkICE9PSBleHBlbnNlSWQpO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICBuZXcgTm90aWNlKCdFeHBlbnNlIGRlbGV0ZWQnKTtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVSZWN1cnJpbmdFeHBlbnNlKGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNldHRpbmdzLnJlY3VycmluZ0V4cGVuc2VzLmZpbmRJbmRleChlID0+IGUuaWQgPT09IGV4cGVuc2UuaWQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnJlY3VycmluZ0V4cGVuc2VzW2luZGV4XSA9IGV4cGVuc2U7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgVXBkYXRlZCBleHBlbnNlOiAke2V4cGVuc2UubmFtZX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGFyY2hpdmVFeHBlbnNlKGV4cGVuc2VJZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGV4cGVuc2UgPSB0aGlzLnNldHRpbmdzLnJlY3VycmluZ0V4cGVuc2VzLmZpbmQoZSA9PiBlLmlkID09PSBleHBlbnNlSWQpO1xuICAgICAgICBpZiAoZXhwZW5zZSkge1xuICAgICAgICAgICAgZXhwZW5zZS5hcmNoaXZlZCA9IHRydWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgQXJjaGl2ZWQgZXhwZW5zZTogJHtleHBlbnNlLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBkZWxldGVFeHBlbnNlKGV4cGVuc2VJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMgPSB0aGlzLnNldHRpbmdzLnJlY3VycmluZ0V4cGVuc2VzLmZpbHRlcihlID0+IGUuaWQgIT09IGV4cGVuc2VJZCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MubW9udGhseVBheW1lbnRzID0gdGhpcy5zZXR0aW5ncy5tb250aGx5UGF5bWVudHMuZmlsdGVyKHAgPT4gcC5leHBlbnNlSWQgIT09IGV4cGVuc2VJZCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ0V4cGVuc2UgZGVsZXRlZCcpO1xuICAgIH1cblxuICAgIHVwZGF0ZVN0YXR1c0JhcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c0Jhckl0ZW0pIHJldHVybjtcblxuICAgICAgICBjb25zdCBjdXJyZW50TW9udGggPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgY29uc3QgdW5wYWlkID0gdGhpcy5nZXRVbnBhaWRFeHBlbnNlcyhjdXJyZW50TW9udGgpO1xuICAgICAgICBjb25zdCByZWN1cnJpbmdUb3RhbCA9IHRoaXMuZ2V0RXhwZW5zZXNGb3JNb250aChjdXJyZW50TW9udGgpLmxlbmd0aDtcblxuICAgICAgICAvLyBPbmUgdGltZSBleHBlbnNlc1xuICAgICAgICBjb25zdCBvbmVUaW1lID0gdGhpcy5nZXRPbmVUaW1lRXhwZW5zZXNGb3JNb250aChjdXJyZW50TW9udGgpO1xuICAgICAgICBjb25zdCBvbmVUaW1lVW5wYWlkID0gb25lVGltZS5maWx0ZXIoZSA9PiAhZS5wYWlkKTtcblxuICAgICAgICBjb25zdCB0b3RhbFVucGFpZENvdW50ID0gdW5wYWlkLmxlbmd0aCArIG9uZVRpbWVVbnBhaWQubGVuZ3RoO1xuICAgICAgICBjb25zdCB0b3RhbENvdW50ID0gcmVjdXJyaW5nVG90YWwgKyBvbmVUaW1lLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxVbnBhaWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQjMgJHt0b3RhbFVucGFpZENvdW50fS8ke3RvdGFsQ291bnR9IHVucGFpZGA7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uY2xhc3NMaXN0LmFkZCgnZXhwZW5zZS10cmFja2VyLXVucGFpZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsQ291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0udGV4dENvbnRlbnQgPSBgXHVEODNEXHVEQ0IzIEFsbCBwYWlkYDtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdleHBlbnNlLXRyYWNrZXItdW5wYWlkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0udGV4dENvbnRlbnQgPSAnXHVEODNEXHVEQ0IzJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIFJlZnJlc2ggZGFzaGJvYXJkIGlmIG9wZW5cbiAgICAgICAgY29uc3QgbGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfREFTSEJPQVJEKTtcbiAgICAgICAgbGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICAgICAgICBpZiAobGVhZi52aWV3IGluc3RhbmNlb2YgRGFzaGJvYXJkVmlldykge1xuICAgICAgICAgICAgICAgIGxlYWYudmlldy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9udW5sb2FkKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnTW9udGhseSBFeHBlbnNlIFRyYWNrZXIgcGx1Z2luIHVubG9hZGVkJyk7XG4gICAgfVxufVxuLy8gRGFzaGJvYXJkIFZpZXdcbmNsYXNzIERhc2hib2FyZFZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gICAgcGx1Z2luOiBNb250aGx5RXhwZW5zZVRyYWNrZXJQbHVnaW47XG4gICAgY3VycmVudE1vbnRoOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbikge1xuICAgICAgICBzdXBlcihsZWFmKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NJyk7XG4gICAgfVxuXG4gICAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9EQVNIQk9BUkQ7XG4gICAgfVxuXG4gICAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdFeHBlbnNlIERhc2hib2FyZCc7XG4gICAgfVxuXG4gICAgZ2V0SWNvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ3dhbGxldCc7XG4gICAgfVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKCdleHBlbnNlLXRyYWNrZXItZGFzaGJvYXJkJyk7XG5cbiAgICAgICAgLy8gSGVhZGVyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2V4cGVuc2UtdHJhY2tlci1oZWFkZXInKTtcbiAgICAgICAgaGVhZGVyLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ01vbnRobHkgRXhwZW5zZSBUcmFja2VyJyB9KTtcblxuICAgICAgICAvLyBNb250aCBzZWxlY3RvclxuICAgICAgICBjb25zdCBtb250aFNlbGVjdG9yID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS10cmFja2VyLW1vbnRoLXNlbGVjdG9yJyk7XG5cbiAgICAgICAgY29uc3QgcHJldkJ0biA9IG1vbnRoU2VsZWN0b3IuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1MjVDMCcgfSk7XG4gICAgICAgIHByZXZCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gbW9tZW50KHRoaXMuY3VycmVudE1vbnRoLCAnWVlZWS1NTScpLnN1YnRyYWN0KDEsICdtb250aCcpLmZvcm1hdCgnWVlZWS1NTScpO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbW9udGhEaXNwbGF5ID0gbW9udGhTZWxlY3Rvci5jcmVhdGVFbCgnc3BhbicsIHtcbiAgICAgICAgICAgIHRleHQ6IG1vbWVudCh0aGlzLmN1cnJlbnRNb250aCwgJ1lZWVktTU0nKS5mb3JtYXQoJ01NTU0gWVlZWScpLFxuICAgICAgICAgICAgY2xzOiAnZXhwZW5zZS10cmFja2VyLW1vbnRoLWRpc3BsYXknXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IG5leHRCdG4gPSBtb250aFNlbGVjdG9yLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdTI1QjYnIH0pO1xuICAgICAgICBuZXh0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IG1vbWVudCh0aGlzLmN1cnJlbnRNb250aCwgJ1lZWVktTU0nKS5hZGQoMSwgJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NJyk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB0b2RheUJ0biA9IG1vbnRoU2VsZWN0b3IuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1RvZGF5JyB9KTtcbiAgICAgICAgdG9kYXlCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NJyk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdW1tYXJ5IHN0YXRzXG4gICAgICAgIGNvbnN0IHJlY3VycmluZ0V4cGVuc2VzID0gdGhpcy5wbHVnaW4uZ2V0RXhwZW5zZXNGb3JNb250aCh0aGlzLmN1cnJlbnRNb250aCk7XG4gICAgICAgIGNvbnN0IG9uZVRpbWVFeHBlbnNlcyA9IHRoaXMucGx1Z2luLmdldE9uZVRpbWVFeHBlbnNlc0Zvck1vbnRoKHRoaXMuY3VycmVudE1vbnRoKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdG90YWxzIGJ5IGN1cnJlbmN5XG4gICAgICAgIGNvbnN0IHRvdGFsczogeyBba2V5OiBzdHJpbmddOiB7IHRvdGFsOiBudW1iZXIsIHBhaWQ6IG51bWJlciwgdW5wYWlkQ291bnQ6IG51bWJlciB9IH0gPSB7fTtcbiAgICAgICAgbGV0IHRvdGFsQ291bnQgPSAwO1xuICAgICAgICBsZXQgdG90YWxVbnBhaWRDb3VudCA9IDA7XG5cbiAgICAgICAgY29uc3QgcHJvY2Vzc0V4cGVuc2UgPSAoYW1vdW50OiBudW1iZXIsIGN1cnJlbmN5OiBzdHJpbmcsIHBhaWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmICghdG90YWxzW2N1cnJlbmN5XSkgdG90YWxzW2N1cnJlbmN5XSA9IHsgdG90YWw6IDAsIHBhaWQ6IDAsIHVucGFpZENvdW50OiAwIH07XG4gICAgICAgICAgICB0b3RhbHNbY3VycmVuY3ldLnRvdGFsICs9IGFtb3VudDtcbiAgICAgICAgICAgIGlmIChwYWlkKSB7XG4gICAgICAgICAgICAgICAgdG90YWxzW2N1cnJlbmN5XS5wYWlkICs9IGFtb3VudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG90YWxzW2N1cnJlbmN5XS51bnBhaWRDb3VudCsrO1xuICAgICAgICAgICAgICAgIHRvdGFsVW5wYWlkQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdGFsQ291bnQrKztcbiAgICAgICAgfTtcblxuICAgICAgICByZWN1cnJpbmdFeHBlbnNlcy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZS5pZCwgdGhpcy5jdXJyZW50TW9udGgpO1xuICAgICAgICAgICAgY29uc3QgaXNQYWlkID0gcGF5bWVudD8ucGFpZCB8fCBmYWxzZTtcbiAgICAgICAgICAgIHByb2Nlc3NFeHBlbnNlKGUuYW1vdW50LCBlLmN1cnJlbmN5IHx8ICdVU0QnLCBpc1BhaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBvbmVUaW1lRXhwZW5zZXMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3NFeHBlbnNlKGUuYW1vdW50LCBlLmN1cnJlbmN5IHx8ICdVU0QnLCBlLnBhaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzdW1tYXJ5ID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS10cmFja2VyLXN1bW1hcnknKTtcblxuICAgICAgICAvLyBHZW5lcmFsIFN0YXRzXG4gICAgICAgIHN1bW1hcnkuY3JlYXRlRGl2KCdzdW1tYXJ5LWl0ZW0nKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktbGFiZWxcIj5Ub3RhbCBFeHBlbnNlczo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktdmFsdWVcIj4ke3RvdGFsQ291bnR9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICBzdW1tYXJ5LmNyZWF0ZURpdignc3VtbWFyeS1pdGVtJykuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWxhYmVsXCI+VW5wYWlkIENvdW50Ojwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS12YWx1ZSB1bnBhaWRcIj4ke3RvdGFsVW5wYWlkQ291bnR9PC9zcGFuPlxuICAgICAgICBgO1xuXG4gICAgICAgIC8vIEZpbmFuY2lhbCBUb3RhbHMgcGVyIEN1cnJlbmN5XG4gICAgICAgIGNvbnN0IGN1cnJlbmNpZXMgPSBPYmplY3Qua2V5cyh0b3RhbHMpLnNvcnQoKTtcbiAgICAgICAgaWYgKGN1cnJlbmNpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBzdW1tYXJ5LmNyZWF0ZURpdignc3VtbWFyeS1pdGVtJykuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS1sYWJlbFwiPlRvdGFsIEFtb3VudDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LXZhbHVlXCI+JDAuMDA8L3NwYW4+XG4gICAgICAgICAgICBgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdG90YWxzRGl2ID0gY29udGFpbmVyLmNyZWF0ZURpdignc3VtbWFyeS10b3RhbHMnKTtcbiAgICAgICAgICAgIHRvdGFsc0Rpdi5zdHlsZS5ncmlkQ29sdW1uID0gJzEgLyAtMSc7XG4gICAgICAgICAgICB0b3RhbHNEaXYuc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuICAgICAgICAgICAgdG90YWxzRGl2LnN0eWxlLmJvcmRlclRvcCA9ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJztcbiAgICAgICAgICAgIHRvdGFsc0Rpdi5zdHlsZS5wYWRkaW5nVG9wID0gJzEwcHgnO1xuXG4gICAgICAgICAgICBjdXJyZW5jaWVzLmZvckVhY2goY3VycmVuY3kgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IGN1cnJlbmN5ID09PSAnVVNEJyA/ICckJyA6IChjdXJyZW5jeSA9PT0gJ0JPQicgPyAnQnMgJyA6IGAke2N1cnJlbmN5fSBgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdG90YWxzW2N1cnJlbmN5XTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRvdGFsc0Rpdi5jcmVhdGVEaXYoJ2N1cnJlbmN5LXJvdycpO1xuICAgICAgICAgICAgICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICAgIHJvdy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdzcGFjZS1iZXR3ZWVuJztcbiAgICAgICAgICAgICAgICByb3cuc3R5bGUubWFyZ2luQm90dG9tID0gJzVweCc7XG5cbiAgICAgICAgICAgICAgICByb3cuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cImZvbnQtd2VpZ2h0OiBib2xkO1wiPiR7Y3VycmVuY3l9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Ub3RhbDogJHtzeW1ib2x9JHtkYXRhLnRvdGFsLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBhaWRcIj5QYWlkOiAke3N5bWJvbH0ke2RhdGEucGFpZC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1bnBhaWRcIj5VbnBhaWQ6ICR7c3ltYm9sfSR7KGRhdGEudG90YWwgLSBkYXRhLnBhaWQpLnRvRml4ZWQoMil9PC9zcGFuPlxuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGlvbiBidXR0b25zXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBjb250YWluZXIuY3JlYXRlRGl2KCdleHBlbnNlLXRyYWNrZXItYWN0aW9ucycpO1xuXG4gICAgICAgIGNvbnN0IGFkZEJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJysgQWRkIEV4cGVuc2UnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICAgICAgYWRkQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgQWRkRXhwZW5zZU1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbiwgbnVsbCkub3BlbigpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNyZWF0ZU5vdGVCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdUQ4M0RcdURDQzQgQ3JlYXRlIE1vbnRobHkgTm90ZScgfSk7XG4gICAgICAgIGNyZWF0ZU5vdGVCdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmNyZWF0ZU1vbnRobHlOb3RlKHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXBvcnRCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdUQ4M0RcdURDQ0EgR2VuZXJhdGUgUmVwb3J0JyB9KTtcbiAgICAgICAgcmVwb3J0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgUmVwb3J0TW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luKS5vcGVuKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgc3VwcG9ydEJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1RDgzRFx1REM5OSBTdXBwb3J0IFBsdWdpbicgfSk7XG4gICAgICAgIHN1cHBvcnRCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIG5ldyBTdXBwb3J0TW9kYWwodGhpcy5hcHApLm9wZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgc3VwcG9ydEJ0bi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuICAgICAgICBzdXBwb3J0QnRuLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtb24tYWNjZW50KSc7XG5cblxuICAgICAgICAvLyBFeHBlbnNlIGxpc3RcbiAgICAgICAgY29uc3QgZXhwZW5zZUxpc3QgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZXhwZW5zZS10cmFja2VyLWxpc3QnIH0pO1xuXG4gICAgICAgIGlmICh0b3RhbENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBleHBlbnNlTGlzdC5jcmVhdGVEaXYoJ2V4cGVuc2UtdHJhY2tlci1lbXB0eScpLnNldFRleHQoJ05vIGV4cGVuc2VzIGZvciB0aGlzIG1vbnRoJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVbnBhaWQgU2VjdGlvblxuICAgICAgICAgICAgaWYgKHRvdGFsVW5wYWlkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgZXhwZW5zZUxpc3QuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnVW5wYWlkJyB9KTtcblxuICAgICAgICAgICAgICAgIC8vIFJlY3VycmluZyBVbnBhaWRcbiAgICAgICAgICAgICAgICByZWN1cnJpbmdFeHBlbnNlcy5maWx0ZXIoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnQgPSB0aGlzLnBsdWdpbi5nZXRQYXltZW50KGUuaWQsIHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwYXltZW50Py5wYWlkO1xuICAgICAgICAgICAgICAgIH0pLmZvckVhY2goZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVjdXJyaW5nRXhwZW5zZUl0ZW0oZXhwZW5zZUxpc3QsIGV4cGVuc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gT25lLVRpbWUgVW5wYWlkXG4gICAgICAgICAgICAgICAgb25lVGltZUV4cGVuc2VzLmZpbHRlcihlID0+ICFlLnBhaWQpLmZvckVhY2goZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyT25lVGltZUV4cGVuc2VJdGVtKGV4cGVuc2VMaXN0LCBleHBlbnNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGFpZCBTZWN0aW9uXG4gICAgICAgICAgICBpZiAodG90YWxDb3VudCAtIHRvdGFsVW5wYWlkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgZXhwZW5zZUxpc3QuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGFpZCcgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZWN1cnJpbmcgUGFpZFxuICAgICAgICAgICAgICAgIHJlY3VycmluZ0V4cGVuc2VzLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZS5pZCwgdGhpcy5jdXJyZW50TW9udGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF5bWVudD8ucGFpZDtcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlY3VycmluZ0V4cGVuc2VJdGVtKGV4cGVuc2VMaXN0LCBleHBlbnNlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIE9uZS1UaW1lIFBhaWRcbiAgICAgICAgICAgICAgICBvbmVUaW1lRXhwZW5zZXMuZmlsdGVyKGUgPT4gZS5wYWlkKS5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck9uZVRpbWVFeHBlbnNlSXRlbShleHBlbnNlTGlzdCwgZXhwZW5zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcmNoaXZlZCBleHBlbnNlcyBzZWN0aW9uXG4gICAgICAgIGNvbnN0IGFyY2hpdmVkRXhwZW5zZXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWN1cnJpbmdFeHBlbnNlcy5maWx0ZXIoZSA9PiBlLmFyY2hpdmVkKTtcbiAgICAgICAgaWYgKGFyY2hpdmVkRXhwZW5zZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZWRTZWN0aW9uID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS10cmFja2VyLWFyY2hpdmVkJyk7XG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlZEhlYWRlciA9IGFyY2hpdmVkU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBcmNoaXZlZCBFeHBlbnNlcycgfSk7XG4gICAgICAgICAgICBhcmNoaXZlZEhlYWRlci5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG5cbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVkTGlzdCA9IGFyY2hpdmVkU2VjdGlvbi5jcmVhdGVEaXYoJ2V4cGVuc2UtdHJhY2tlci1hcmNoaXZlZC1saXN0Jyk7XG4gICAgICAgICAgICBhcmNoaXZlZExpc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgYXJjaGl2ZWRIZWFkZXIub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhcmNoaXZlZExpc3Quc3R5bGUuZGlzcGxheSA9IGFyY2hpdmVkTGlzdC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXJjaGl2ZWRFeHBlbnNlcy5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhcmNoaXZlZExpc3QuY3JlYXRlRGl2KCdleHBlbnNlLWl0ZW0gYXJjaGl2ZWQnKTtcbiAgICAgICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4cGVuc2UtbmFtZVwiPiR7ZXhwZW5zZS5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXhwZW5zZS1kZXRhaWxzXCI+JHtleHBlbnNlLmN1cnJlbmN5ID09PSAnVVNEJyA/ICckJyA6IChleHBlbnNlLmN1cnJlbmN5ID09PSAnQk9CJyA/ICdCcyAnIDogKGV4cGVuc2UuY3VycmVuY3kgKyAnICcpKX0ke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IC0gJHtleHBlbnNlLnBheW1lbnRNZXRob2R9PC9kaXY+XG4gICAgICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNldFRpdGxlKCdVbmFyY2hpdmUnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlbnNlLmFyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0RlbGV0ZScpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZUV4cGVuc2UoZXhwZW5zZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChlIGFzIE1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclJlY3VycmluZ0V4cGVuc2VJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UpIHtcbiAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZXhwZW5zZS5pZCwgdGhpcy5jdXJyZW50TW9udGgpO1xuICAgICAgICBjb25zdCBpc1BhaWQgPSBwYXltZW50Py5wYWlkIHx8IGZhbHNlO1xuICAgICAgICBjb25zdCBpc092ZXJkdWUgPSBleHBlbnNlLmR1ZURheSA8IHBhcnNlSW50KG1vbWVudCgpLmZvcm1hdCgnRCcpKSAmJiAhaXNQYWlkICYmIHRoaXMuY3VycmVudE1vbnRoID09PSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcblxuICAgICAgICBjb25zdCBpdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS1pdGVtJyk7XG4gICAgICAgIGlmIChpc1BhaWQpIGl0ZW0uYWRkQ2xhc3MoJ3BhaWQnKTtcbiAgICAgICAgaWYgKGlzT3ZlcmR1ZSkgaXRlbS5hZGRDbGFzcygnb3ZlcmR1ZScpO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaXRlbS5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBpc1BhaWQ7XG4gICAgICAgIGNoZWNrYm94Lm9uY2xpY2sgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghaXNQYWlkKSB7XG4gICAgICAgICAgICAgICAgbmV3IE1hcmtQYWlkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBleHBlbnNlLCB0aGlzLmN1cnJlbnRNb250aCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9KS5vcGVuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLm1hcmtFeHBlbnNlUGFpZChleHBlbnNlLmlkLCB0aGlzLmN1cnJlbnRNb250aCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLmNyZWF0ZURpdignZXhwZW5zZS1jb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IG5hbWVEaXYgPSBjb250ZW50LmNyZWF0ZURpdignZXhwZW5zZS1uYW1lJyk7XG4gICAgICAgIG5hbWVEaXYuc2V0VGV4dChleHBlbnNlLm5hbWUpO1xuICAgICAgICBpZiAoaXNPdmVyZHVlKSB7XG4gICAgICAgICAgICBuYW1lRGl2LmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIFx1MjZBMFx1RkUwRiBPVkVSRFVFJywgY2xzOiAnb3ZlcmR1ZS1iYWRnZScgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZXRhaWxzID0gY29udGVudC5jcmVhdGVEaXYoJ2V4cGVuc2UtZGV0YWlscycpO1xuICAgICAgICBjb25zdCBzeW1ib2wgPSAoZXhwZW5zZS5jdXJyZW5jeSB8fCAnVVNEJykgPT09ICdVU0QnID8gJyQnIDogKChleHBlbnNlLmN1cnJlbmN5IHx8ICdVU0QnKSA9PT0gJ0JPQicgPyAnQnMgJyA6IGAke2V4cGVuc2UuY3VycmVuY3l9IGApO1xuICAgICAgICBkZXRhaWxzLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICR7c3ltYm9sfSR7ZXhwZW5zZS5hbW91bnQudG9GaXhlZCgyKX0gXHUyMDIyIER1ZTogJHtleHBlbnNlLmR1ZURheX0gXHUyMDIyICR7ZXhwZW5zZS5wYXltZW50TWV0aG9kfVxuICAgICAgICAgICAgJHtwYXltZW50Py5jb25maXJtYXRpb25OdW1iZXIgPyBgPGJyPkNvbmZpcm1hdGlvbjogJHtwYXltZW50LmNvbmZpcm1hdGlvbk51bWJlcn1gIDogJyd9XG4gICAgICAgICAgICAke3BheW1lbnQ/LnBhaWREYXRlID8gYDxicj5QYWlkOiAke3BheW1lbnQucGFpZERhdGV9YCA6ICcnfVxuICAgICAgICBgO1xuXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBpdGVtLmNyZWF0ZURpdignZXhwZW5zZS1hY3Rpb25zJyk7XG4gICAgICAgIHRoaXMuYWRkQ29udGV4dE1lbnUoYWN0aW9ucywgZXhwZW5zZSwgJ3JlY3VycmluZycpO1xuICAgIH1cblxuICAgIHJlbmRlck9uZVRpbWVFeHBlbnNlSXRlbShjb250YWluZXI6IEhUTUxFbGVtZW50LCBleHBlbnNlOiBPbmVUaW1lRXhwZW5zZSkge1xuICAgICAgICBjb25zdCBpc1BhaWQgPSBleHBlbnNlLnBhaWQ7XG4gICAgICAgIGNvbnN0IGV4cGVuc2VEYXRlID0gbW9tZW50KGV4cGVuc2UuZGF0ZSk7XG4gICAgICAgIGNvbnN0IGlzT3ZlcmR1ZSA9IGV4cGVuc2VEYXRlLmlzQmVmb3JlKG1vbWVudCgpLCAnZGF5JykgJiYgIWlzUGFpZDtcblxuICAgICAgICBjb25zdCBpdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS1pdGVtJyk7XG4gICAgICAgIGlmIChpc1BhaWQpIGl0ZW0uYWRkQ2xhc3MoJ3BhaWQnKTtcbiAgICAgICAgaWYgKGlzT3ZlcmR1ZSkgaXRlbS5hZGRDbGFzcygnb3ZlcmR1ZScpO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaXRlbS5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBpc1BhaWQ7XG4gICAgICAgIGNoZWNrYm94Lm9uY2xpY2sgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghaXNQYWlkKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIG9uZS10aW1lIGV4cGVuc2VzLCB3ZSBjYW4ganVzdCBtYXJrL3VubWFyayBkaXJlY3RseSBvciBhc2sgZm9yIGNvbmZpcm1hdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICAvLyBSZXVzaW5nIE1hcmtQYWlkTW9kYWwgbG9naWMgYnV0IGFkYXB0ZWQgY291bGQgYmUgY29tcGxleCwgXG4gICAgICAgICAgICAgICAgLy8gc2ltcGxlciB0byBqdXN0IHRvZ2dsZSBvciB1c2UgYSBwcm9tcHQgaWYgY29uZmlybWF0aW9uICMgaXMgbmVlZGVkLlxuICAgICAgICAgICAgICAgIC8vIExldCdzIGltcGxlbWVudCBhIGRpcmVjdCB0b2dnbGUgd2l0aCBvcHRpb25hbCBwcm9tcHQgZm9yIG5vdyBvciBjdXN0b20gbW9kYWwuXG4gICAgICAgICAgICAgICAgLy8gVG8ga2VlcCBpdCBzaW1wbGUgZm9yIG5vdywgZGlyZWN0IHVwZGF0ZS4gXG4gICAgICAgICAgICAgICAgLy8gQWN0dWFsbHksIGxldCdzIGFsbG93IGFkZGluZyBjb25maXJtYXRpb24gbnVtYmVyLlxuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2ltcGxlIG9uZS10aW1lIHBheW1lbnQgbW9kYWwgb3IgcmV1c2UgbG9naWM/XG4gICAgICAgICAgICAgICAgLy8gUmV1c2UgTWFya1BhaWRNb2RhbCBtaWdodCBiZSB0cmlja3kgZHVlIHRvIHR5cGVzLlxuICAgICAgICAgICAgICAgIC8vIExldCdzIG1ha2UgYSBtaW5pLW1vZGFsIG9uIHRoZSBmbHkgb3IganVzdCB1cGRhdGUuXG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5tYXJrT25lVGltZUV4cGVuc2VQYWlkKGV4cGVuc2UuaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5tYXJrT25lVGltZUV4cGVuc2VQYWlkKGV4cGVuc2UuaWQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gaXRlbS5jcmVhdGVEaXYoJ2V4cGVuc2UtY29udGVudCcpO1xuICAgICAgICBjb25zdCBuYW1lRGl2ID0gY29udGVudC5jcmVhdGVEaXYoJ2V4cGVuc2UtbmFtZScpO1xuICAgICAgICBuYW1lRGl2LnNldFRleHQoZXhwZW5zZS5uYW1lKTtcbiAgICAgICAgY29uc3QgYmFkZ2UgPSBuYW1lRGl2LmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIChPbmUtVGltZSknLCBjbHM6ICdleHBlbnNlLXR5cGUtYmFkZ2UnIH0pO1xuICAgICAgICBiYWRnZS5zdHlsZS5mb250U2l6ZSA9ICcwLjhlbSc7XG4gICAgICAgIGJhZGdlLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtbXV0ZWQpJztcbiAgICAgICAgYmFkZ2Uuc3R5bGUubWFyZ2luTGVmdCA9ICc1cHgnO1xuXG4gICAgICAgIGlmIChpc092ZXJkdWUpIHtcbiAgICAgICAgICAgIG5hbWVEaXYuY3JlYXRlU3Bhbih7IHRleHQ6ICcgXHUyNkEwXHVGRTBGIE9WRVJEVUUnLCBjbHM6ICdvdmVyZHVlLWJhZGdlJyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBjb250ZW50LmNyZWF0ZURpdignZXhwZW5zZS1kZXRhaWxzJyk7XG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IChleHBlbnNlLmN1cnJlbmN5IHx8ICdVU0QnKSA9PT0gJ1VTRCcgPyAnJCcgOiAoKGV4cGVuc2UuY3VycmVuY3kgfHwgJ1VTRCcpID09PSAnQk9CJyA/ICdCcyAnIDogYCR7ZXhwZW5zZS5jdXJyZW5jeX0gYCk7XG4gICAgICAgIGRldGFpbHMuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgJHtzeW1ib2x9JHtleHBlbnNlLmFtb3VudC50b0ZpeGVkKDIpfSBcdTIwMjIgRGF0ZTogJHtleHBlbnNlLmRhdGV9IFx1MjAyMiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cbiAgICAgICAgICAgICR7ZXhwZW5zZS5jb25maXJtYXRpb25OdW1iZXIgPyBgPGJyPkNvbmZpcm1hdGlvbjogJHtleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlcn1gIDogJyd9XG4gICAgICAgICAgICAke2V4cGVuc2UucGFpZERhdGUgPyBgPGJyPlBhaWQ6ICR7ZXhwZW5zZS5wYWlkRGF0ZX1gIDogJyd9XG4gICAgICAgIGA7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IGl0ZW0uY3JlYXRlRGl2KCdleHBlbnNlLWFjdGlvbnMnKTtcbiAgICAgICAgdGhpcy5hZGRDb250ZXh0TWVudShhY3Rpb25zLCBleHBlbnNlLCAnb25ldGltZScpO1xuICAgIH1cblxuICAgIGFkZENvbnRleHRNZW51KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UgfCBPbmVUaW1lRXhwZW5zZSwgdHlwZTogJ3JlY3VycmluZycgfCAnb25ldGltZScpIHtcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyMkVFJyB9KTtcbiAgICAgICAgbWVudUJ0bi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcblxuICAgICAgICAgICAgbWVudS5hZGRJdGVtKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0VkaXQnKS5zZXRJY29uKCdwZW5jaWwnKS5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEFkZEV4cGVuc2VNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIGV4cGVuc2UpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3JlY3VycmluZycpIHtcbiAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ1ZpZXcgSGlzdG9yeScpLnNldEljb24oJ2hpc3RvcnknKS5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIaXN0b3J5TW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBleHBlbnNlIGFzIFJlY3VycmluZ0V4cGVuc2UpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0FyY2hpdmUnKS5zZXRJY29uKCdhcmNoaXZlJykub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcmNoaXZlRXhwZW5zZShleHBlbnNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRUaXRsZSgnRGVsZXRlJykuc2V0SWNvbigndHJhc2gnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZUV4cGVuc2UoZXhwZW5zZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRUaXRsZSgnRGVsZXRlJykuc2V0SWNvbigndHJhc2gnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZU9uZVRpbWVFeHBlbnNlKGV4cGVuc2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZW51LnNob3dBdE1vdXNlRXZlbnQoZSBhcyBNb3VzZUV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICAvLyBDbGVhbnVwXG4gICAgfVxufVxuXG4vLyBBZGQvRWRpdCBFeHBlbnNlIE1vZGFsXG5jbGFzcyBBZGRFeHBlbnNlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcGx1Z2luOiBNb250aGx5RXhwZW5zZVRyYWNrZXJQbHVnaW47XG4gICAgZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSB8IG51bGw7XG4gICAgb25lVGltZUV4cGVuc2U6IE9uZVRpbWVFeHBlbnNlIHwgbnVsbDtcbiAgICB0eXBlOiAncmVjdXJyaW5nJyB8ICdvbmV0aW1lJztcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbiwgZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSB8IE9uZVRpbWVFeHBlbnNlIHwgbnVsbCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgdHlwZSBiYXNlZCBvbiBpbnB1dCBleHBlbnNlIG9yIGRlZmF1bHQgdG8gcmVjdXJyaW5nXG4gICAgICAgIGlmIChleHBlbnNlICYmICdkYXRlJyBpbiBleHBlbnNlKSB7XG4gICAgICAgICAgICB0aGlzLm9uZVRpbWVFeHBlbnNlID0gZXhwZW5zZSBhcyBPbmVUaW1lRXhwZW5zZTtcbiAgICAgICAgICAgIHRoaXMuZXhwZW5zZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnb25ldGltZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cGVuc2UgPSBleHBlbnNlIGFzIFJlY3VycmluZ0V4cGVuc2U7XG4gICAgICAgICAgICB0aGlzLm9uZVRpbWVFeHBlbnNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdyZWN1cnJpbmcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdGhpcy5leHBlbnNlIHx8IHRoaXMub25lVGltZUV4cGVuc2UgPyAnRWRpdCBFeHBlbnNlJyA6ICdBZGQgRXhwZW5zZScgfSk7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ2V4cGVuc2UtZm9ybScpO1xuXG4gICAgICAgIC8vIFR5cGUgVG9nZ2xlIChvbmx5IGZvciBuZXcgZXhwZW5zZXMpXG4gICAgICAgIGlmICghdGhpcy5leHBlbnNlICYmICF0aGlzLm9uZVRpbWVFeHBlbnNlKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKCdFeHBlbnNlIFR5cGUnKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdyZWN1cnJpbmcnLCAnUmVjdXJyaW5nIChNb250aGx5KScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdvbmV0aW1lJywgJ09uZS1UaW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdmFsdWUgYXMgJ3JlY3VycmluZycgfCAnb25ldGltZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTsgLy8gUmUtcmVuZGVyIGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTmFtZVxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0V4cGVuc2UgTmFtZScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8ubmFtZSB8fCB0aGlzLm9uZVRpbWVFeHBlbnNlPy5uYW1lIHx8ICcnKTtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuaWQgPSAnZXhwZW5zZS1uYW1lJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEN1cnJlbmN5XG4gICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAuc2V0TmFtZSgnQ3VycmVuY3knKVxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcbiAgICAgICAgICAgICAgICBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdVU0QnLCAnVVNEICgkKScpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oJ0JPQicsICdCT0IgKEJzKScpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLmV4cGVuc2U/LmN1cnJlbmN5IHx8IHRoaXMub25lVGltZUV4cGVuc2U/LmN1cnJlbmN5IHx8ICdVU0QnKTtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5zZWxlY3RFbC5pZCA9ICdleHBlbnNlLWN1cnJlbmN5JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFtb3VudFxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0Ftb3VudCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8uYW1vdW50LnRvU3RyaW5nKCkgfHwgdGhpcy5vbmVUaW1lRXhwZW5zZT8uYW1vdW50LnRvU3RyaW5nKCkgfHwgJycpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC50eXBlID0gJ251bWJlcic7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnN0ZXAgPSAnMC4wMSc7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtYW1vdW50JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyZWN1cnJpbmcnKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnJpbmcgRmllbGRzXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKCdEdWUgRGF5IG9mIE1vbnRoJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnMS0zMScpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5leHBlbnNlPy5kdWVEYXkudG9TdHJpbmcoKSB8fCAnMScpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwudHlwZSA9ICdudW1iZXInO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwubWluID0gJzEnO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwubWF4ID0gJzMxJztcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtZHVlLWRheSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoJ1N0YXJ0IE1vbnRoJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTSBmb3JtYXQnKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8uc3RhcnREYXRlIHx8IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTScpKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2Utc3RhcnQtZGF0ZSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoJ0VuZCBNb250aCAoT3B0aW9uYWwpJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTSBmb3JtYXQgLSBsZWF2ZSBlbXB0eSBmb3Igb25nb2luZycpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5leHBlbnNlPy5lbmREYXRlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtZW5kLWRhdGUnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT25lLVRpbWUgRmllbGRzXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKCdEYXRlJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTS1ERCBmb3JtYXQnKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMub25lVGltZUV4cGVuc2U/LmRhdGUgfHwgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwudHlwZSA9ICdkYXRlJztcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtZGF0ZSc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXltZW50IE1ldGhvZFxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1BheW1lbnQgTWV0aG9kJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5leHBlbnNlPy5wYXltZW50TWV0aG9kIHx8IHRoaXMub25lVGltZUV4cGVuc2U/LnBheW1lbnRNZXRob2QgfHwgJycpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdleHBlbnNlLXBheW1lbnQtbWV0aG9kJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhdGVnb3J5XG4gICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAuc2V0TmFtZSgnQ2F0ZWdvcnkgKE9wdGlvbmFsKScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8uY2F0ZWdvcnkgfHwgdGhpcy5vbmVUaW1lRXhwZW5zZT8uY2F0ZWdvcnkgfHwgJycpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdleHBlbnNlLWNhdGVnb3J5JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJ1dHRvbnNcbiAgICAgICAgY29uc3QgYnV0dG9uRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdignbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIGNvbnN0IHNhdmVCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1NhdmUnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICAgICAgc2F2ZUJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWN1cnJlbmN5JykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWFtb3VudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1wYXltZW50LW1ldGhvZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1jYXRlZ29yeScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgICAgIGlmICghbmFtZSB8fCBpc05hTihhbW91bnQpIHx8ICFwYXltZW50TWV0aG9kKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAncmVjdXJyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgZHVlRGF5U3RyID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWR1ZS1kYXknKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1zdGFydC1kYXRlJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBlbmREYXRlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWVuZC1kYXRlJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBkdWVEYXkgPSBwYXJzZUludChkdWVEYXlTdHIpO1xuXG4gICAgICAgICAgICBpZiAoIWR1ZURheSB8fCAhc3RhcnREYXRlKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcyBmb3IgcmVjdXJyaW5nIGV4cGVuc2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuZXhwZW5zZT8uaWQgfHwgYGV4cC0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBkdWVEYXksXG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBhcmNoaXZlZDogdGhpcy5leHBlbnNlPy5hcmNoaXZlZCB8fCBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwZW5zZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZVJlY3VycmluZ0V4cGVuc2UoZXhwZW5zZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFkZFJlY3VycmluZ0V4cGVuc2UoZXhwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWRhdGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCBhIGRhdGUgZm9yIHRoZSBvbmUtdGltZSBleHBlbnNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBleHBlbnNlOiBPbmVUaW1lRXhwZW5zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5vbmVUaW1lRXhwZW5zZT8uaWQgfHwgYG9uZS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwYWlkOiB0aGlzLm9uZVRpbWVFeHBlbnNlPy5wYWlkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhaWREYXRlOiB0aGlzLm9uZVRpbWVFeHBlbnNlPy5wYWlkRGF0ZSxcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25OdW1iZXI6IHRoaXMub25lVGltZUV4cGVuc2U/LmNvbmZpcm1hdGlvbk51bWJlclxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25lVGltZUV4cGVuc2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVPbmVUaW1lRXhwZW5zZShleHBlbnNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYWRkT25lVGltZUV4cGVuc2UoZXhwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cbi8vIE1hcmsgUGFpZCBNb2RhbFxuY2xhc3MgTWFya1BhaWRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcbiAgICBleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlIHwgT25lVGltZUV4cGVuc2U7XG4gICAgbW9udGg6IHN0cmluZztcbiAgICBvbkNvbXBsZXRlOiAoKSA9PiB2b2lkO1xuICAgIGlzT25lVGltZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbiwgZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSB8IE9uZVRpbWVFeHBlbnNlLCBtb250aDogc3RyaW5nLCBvbkNvbXBsZXRlOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmV4cGVuc2UgPSBleHBlbnNlO1xuICAgICAgICB0aGlzLm1vbnRoID0gbW9udGg7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG9uQ29tcGxldGU7XG4gICAgICAgIHRoaXMuaXNPbmVUaW1lID0gJ2RhdGUnIGluIGV4cGVuc2U7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ01hcmsgYXMgUGFpZCcgfSk7XG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogYCR7dGhpcy5leHBlbnNlLm5hbWV9IC0gJCR7dGhpcy5leHBlbnNlLmFtb3VudC50b0ZpeGVkKDIpfWAgfSk7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0NvbmZpcm1hdGlvbiBOdW1iZXIgKE9wdGlvbmFsKScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuaWQgPSAnY29uZmlybWF0aW9uLW51bWJlcic7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBidXR0b25EaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdtb2RhbC1idXR0b24tY29udGFpbmVyJyk7XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJ0biA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnTWFyayBQYWlkJywgY2xzOiAnbW9kLWN0YScgfSk7XG4gICAgICAgIHNhdmVCdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbk51bWJlciA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybWF0aW9uLW51bWJlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc09uZVRpbWUpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5tYXJrT25lVGltZUV4cGVuc2VQYWlkKHRoaXMuZXhwZW5zZS5pZCwgdHJ1ZSwgY29uZmlybWF0aW9uTnVtYmVyIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLm1hcmtFeHBlbnNlUGFpZCh0aGlzLmV4cGVuc2UuaWQsIHRoaXMubW9udGgsIHRydWUsIGNvbmZpcm1hdGlvbk51bWJlciB8fCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8vIEhpc3RvcnkgTW9kYWxcbmNsYXNzIEhpc3RvcnlNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcbiAgICBleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luLCBleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmV4cGVuc2UgPSBleHBlbnNlO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IGBQYXltZW50IEhpc3Rvcnk6ICR7dGhpcy5leHBlbnNlLm5hbWV9YCB9KTtcblxuICAgICAgICBjb25zdCBoaXN0b3J5ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseVBheW1lbnRzXG4gICAgICAgICAgICAuZmlsdGVyKHAgPT4gcC5leHBlbnNlSWQgPT09IHRoaXMuZXhwZW5zZS5pZClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLm1vbnRoLmxvY2FsZUNvbXBhcmUoYS5tb250aCkpO1xuXG4gICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTm8gcGF5bWVudCBoaXN0b3J5JyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gY29udGVudEVsLmNyZWF0ZUVsKCd0YWJsZScsIHsgY2xzOiAnZXhwZW5zZS1oaXN0b3J5LXRhYmxlJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlRWwoJ3RoZWFkJyk7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJSb3cgPSB0aGVhZC5jcmVhdGVFbCgndHInKTtcbiAgICAgICAgICAgIGhlYWRlclJvdy5jcmVhdGVFbCgndGgnLCB7IHRleHQ6ICdNb250aCcgfSk7XG4gICAgICAgICAgICBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJywgeyB0ZXh0OiAnU3RhdHVzJyB9KTtcbiAgICAgICAgICAgIGhlYWRlclJvdy5jcmVhdGVFbCgndGgnLCB7IHRleHQ6ICdQYWlkIERhdGUnIH0pO1xuICAgICAgICAgICAgaGVhZGVyUm93LmNyZWF0ZUVsKCd0aCcsIHsgdGV4dDogJ0NvbmZpcm1hdGlvbicgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XG4gICAgICAgICAgICBoaXN0b3J5LmZvckVhY2gocGF5bWVudCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gICAgICAgICAgICAgICAgcm93LmNyZWF0ZUVsKCd0ZCcsIHsgdGV4dDogbW9tZW50KHBheW1lbnQubW9udGgsICdZWVlZLU1NJykuZm9ybWF0KCdNTU0gWVlZWScpIH0pO1xuICAgICAgICAgICAgICAgIHJvdy5jcmVhdGVFbCgndGQnLCB7IHRleHQ6IHBheW1lbnQucGFpZCA/ICdcdTI3MDUgUGFpZCcgOiAnXHUyQjFDIFVucGFpZCcgfSk7XG4gICAgICAgICAgICAgICAgcm93LmNyZWF0ZUVsKCd0ZCcsIHsgdGV4dDogcGF5bWVudC5wYWlkRGF0ZSB8fCAnLScgfSk7XG4gICAgICAgICAgICAgICAgcm93LmNyZWF0ZUVsKCd0ZCcsIHsgdGV4dDogcGF5bWVudC5jb25maXJtYXRpb25OdW1iZXIgfHwgJy0nIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbG9zZUJ0biA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2xvc2UnIH0pO1xuICAgICAgICBjbG9zZUJ0bi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8vIFN1cHBvcnQgTW9kYWxcbmNsYXNzIFN1cHBvcnRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2V4cGVuc2UtdHJhY2tlci1zdXBwb3J0LW1vZGFsJyk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1RDgzRFx1REM5OSBTdXBwb3J0IE1vbnRobHkgRXhwZW5zZSBUcmFja2VyJyB9KTtcbiAgICAgICAgaGVhZGVyLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHtcbiAgICAgICAgICAgIHRleHQ6ICdUaGFuayB5b3UgZm9yIGNvbnNpZGVyaW5nIHN1cHBvcnRpbmcgdGhpcyBwbHVnaW4hIFlvdXIgc3VwcG9ydCBoZWxwcyBtYWludGFpbiBhbmQgaW1wcm92ZSB0aGlzIHRvb2wuJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQYXlQYWwgU2VjdGlvblxuICAgICAgICBjb25zdCBwYXlwYWxTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIHBheXBhbFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0IzIFBheVBhbCcgfSk7XG4gICAgICAgIHBheXBhbFNlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdPbmUtdGltZSBvciByZWN1cnJpbmcgZG9uYXRpb25zIHZpYSBQYXlQYWw6JyB9KTtcbiAgICAgICAgY29uc3QgcGF5cGFsQnRuID0gcGF5cGFsU2VjdGlvbi5jcmVhdGVFbCgnYScsIHtcbiAgICAgICAgICAgIHRleHQ6ICdcdTIxOTIgRG9uYXRlIHZpYSBQYXlQYWwnLFxuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vd3d3LnBheXBhbC5jb20vcGF5cGFsbWUvVmljdG9yWmVudGVubydcbiAgICAgICAgfSk7XG4gICAgICAgIHBheXBhbEJ0bi5hZGRDbGFzcygnc3VwcG9ydC1saW5rJyk7XG5cbiAgICAgICAgLy8gQ3J5cHRvIFNlY3Rpb25cbiAgICAgICAgY29uc3QgY3J5cHRvU2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ3N1cHBvcnQtc2VjdGlvbicpO1xuICAgICAgICBjcnlwdG9TZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1RDgzRVx1REU5OSBDcnlwdG9jdXJyZW5jeSAoVVNEQy9VU0RUKScgfSk7XG4gICAgICAgIGNyeXB0b1NlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTdXBwb3J0IHdpdGggc3RhYmxlY29pbnMgb24gbXVsdGlwbGUgbmV0d29ya3M6JyB9KTtcblxuICAgICAgICBjb25zdCBjcnlwdG9BZGRyZXNzZXMgPSBjcnlwdG9TZWN0aW9uLmNyZWF0ZURpdignY3J5cHRvLWFkZHJlc3NlcycpO1xuXG4gICAgICAgIGNvbnN0IHVzZGNEaXYgPSBjcnlwdG9BZGRyZXNzZXMuY3JlYXRlRGl2KCdjcnlwdG8tYWRkcmVzcycpO1xuICAgICAgICB1c2RjRGl2LmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdVU0RDIChCYXNlIE5ldHdvcmsgLSBMb3cgRmVlcyk6JyB9KTtcbiAgICAgICAgY29uc3QgdXNkY0FkZHJlc3MgPSB1c2RjRGl2LmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiAnMHgxMDIzMTQyZDA1NDhiNjM1NDJmMmE0ODAzYjY3MjRkNGMyNmI4YmRhJyB9KTtcbiAgICAgICAgdXNkY0FkZHJlc3Muc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLm1hcmdpblRvcCA9ICc1cHgnO1xuICAgICAgICB1c2RjQWRkcmVzcy5zdHlsZS5wYWRkaW5nID0gJzVweCc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcbiAgICAgICAgdXNkY0FkZHJlc3Muc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLmZvbnRTaXplID0gJzAuODVlbSc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay1hbGwnO1xuXG4gICAgICAgIGNvbnN0IHVzZGNOb3RlID0gdXNkY0Rpdi5jcmVhdGVFbCgnc21hbGwnLCB7IHRleHQ6ICdBbHNvIHdvcmtzIG9uOiBFdGhlcmV1bSwgUG9seWdvbiwgQXJiaXRydW0sIE9wdGltaXNtJyB9KTtcbiAgICAgICAgdXNkY05vdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHVzZGNOb3RlLnN0eWxlLm1hcmdpblRvcCA9ICczcHgnO1xuICAgICAgICB1c2RjTm90ZS5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG5cbiAgICAgICAgY29uc3QgdXNkdERpdiA9IGNyeXB0b0FkZHJlc3Nlcy5jcmVhdGVEaXYoJ2NyeXB0by1hZGRyZXNzJyk7XG4gICAgICAgIHVzZHREaXYuY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogJ1VTRFQgKFRyb24gVFJDLTIwIC0gVWx0cmEgTG93IEZlZXMpOicgfSk7XG4gICAgICAgIGNvbnN0IHVzZHRBZGRyZXNzID0gdXNkdERpdi5jcmVhdGVFbCgnY29kZScsIHsgdGV4dDogJ1RBVjdxVEdndm44R25ZSmZYZmVzNzN0RDJkQVBRSjNMMlcnIH0pO1xuICAgICAgICB1c2R0QWRkcmVzcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUubWFyZ2luVG9wID0gJzVweCc7XG4gICAgICAgIHVzZHRBZGRyZXNzLnN0eWxlLnBhZGRpbmcgPSAnNXB4JztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgICB1c2R0QWRkcmVzcy5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNHB4JztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUuZm9udFNpemUgPSAnMC44NWVtJztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLWFsbCc7XG5cbiAgICAgICAgY29uc3QgY3J5cHRvTm90ZSA9IGNyeXB0b1NlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdcdTI2QTBcdUZFMEYgSW1wb3J0YW50OiBEb3VibGUtY2hlY2sgdGhlIG5ldHdvcmsgYmVmb3JlIHNlbmRpbmchJyB9KTtcbiAgICAgICAgY3J5cHRvTm90ZS5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LWVycm9yKSc7XG4gICAgICAgIGNyeXB0b05vdGUuc3R5bGUuZm9udFNpemUgPSAnMC45ZW0nO1xuICAgICAgICBjcnlwdG9Ob3RlLnN0eWxlLm1hcmdpblRvcCA9ICcxMHB4JztcblxuICAgICAgICBjb25zdCBjcnlwdG9UaXAgPSBjcnlwdG9TZWN0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0ExIFRpcDogVXNlIFRyb24gZm9yIFVTRFQgb3IgQmFzZSBmb3IgVVNEQyB0byBtaW5pbWl6ZSBmZWVzIScgfSk7XG4gICAgICAgIGNyeXB0b1RpcC5zdHlsZS5mb250U2l6ZSA9ICcwLjllbSc7XG4gICAgICAgIGNyeXB0b1RpcC5zdHlsZS5tYXJnaW5Ub3AgPSAnNXB4JztcbiAgICAgICAgY3J5cHRvVGlwLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtbXV0ZWQpJztcblxuICAgICAgICAvLyBCdXkgTWUgYSBDb2ZmZWUgU2VjdGlvblxuICAgICAgICBjb25zdCBjb2ZmZWVTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIGNvZmZlZVNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHUyNjE1IEJ1eSBNZSBhIENvZmZlZScgfSk7XG4gICAgICAgIGNvZmZlZVNlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTaW1wbGUsIGZyaWVuZGx5IHdheSB0byBzdXBwb3J0OicgfSk7XG4gICAgICAgIGNvbnN0IGNvZmZlZUJ0biA9IGNvZmZlZVNlY3Rpb24uY3JlYXRlRWwoJ2EnLCB7XG4gICAgICAgICAgICB0ZXh0OiAnXHUyMTkyIEJ1eSBNZSBhIENvZmZlZScsXG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9idXltZWFjb2ZmZWUuY29tL3J2emVuJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29mZmVlQnRuLmFkZENsYXNzKCdzdXBwb3J0LWxpbmsnKTtcblxuICAgICAgICAvLyBPdGhlciB3YXlzIHRvIHN1cHBvcnRcbiAgICAgICAgY29uc3Qgb3RoZXJTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIG90aGVyU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdUQ4M0NcdURGMUYgT3RoZXIgV2F5cyB0byBTdXBwb3J0JyB9KTtcbiAgICAgICAgY29uc3Qgb3RoZXJMaXN0ID0gb3RoZXJTZWN0aW9uLmNyZWF0ZUVsKCd1bCcpO1xuICAgICAgICBvdGhlckxpc3QuY3JlYXRlRWwoJ2xpJywgeyB0ZXh0OiAnXHUyQjUwIFN0YXIgdGhlIEdpdEh1YiByZXBvc2l0b3J5JyB9KTtcbiAgICAgICAgb3RoZXJMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ1x1RDgzRFx1REMxQiBSZXBvcnQgYnVncyBhbmQgaXNzdWVzJyB9KTtcbiAgICAgICAgb3RoZXJMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ1x1RDgzRFx1RENBMSBTdWdnZXN0IG5ldyBmZWF0dXJlcycgfSk7XG4gICAgICAgIG90aGVyTGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6ICdcdUQ4M0RcdURDREQgSW1wcm92ZSBkb2N1bWVudGF0aW9uJyB9KTtcbiAgICAgICAgb3RoZXJMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ1x1RDgzRFx1RERFM1x1RkUwRiBUZWxsIG90aGVycyBhYm91dCB0aGUgcGx1Z2luJyB9KTtcblxuICAgICAgICAvLyBGb290ZXJcbiAgICAgICAgY29uc3QgZm9vdGVyID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1mb290ZXInKTtcbiAgICAgICAgZm9vdGVyLnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgICAgICAgZm9vdGVyLnN0eWxlLnBhZGRpbmcgPSAnMTVweCc7XG4gICAgICAgIGZvb3Rlci5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSc7XG4gICAgICAgIGZvb3Rlci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnOHB4JztcbiAgICAgICAgZm9vdGVyLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICBmb290ZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdUaGFuayB5b3UgZm9yIHlvdXIgc3VwcG9ydCEgXHVEODNEXHVERTRGJyB9KTtcbiAgICAgICAgZm9vdGVyLmNyZWF0ZUVsKCdzbWFsbCcsIHsgdGV4dDogJ0FsbCBkb25hdGlvbnMgaGVscCBtYWludGFpbiBhbmQgaW1wcm92ZSB0aGlzIHBsdWdpbicgfSk7XG5cbiAgICAgICAgLy8gQ2xvc2UgYnV0dG9uXG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gY29udGVudEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDbG9zZScgfSk7XG4gICAgICAgIGNsb3NlQnRuLnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgICAgICAgY2xvc2VCdG4uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cblxuLy8gUmVwb3J0IE1vZGFsXG5jbGFzcyBSZXBvcnRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbikge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnRXhwZW5zZSBSZXBvcnQnIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvcm0gPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoZm9ybSlcbiAgICAgICAgICAgIC5zZXROYW1lKCdTdGFydCBNb250aCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTSBmb3JtYXQnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZShtb21lbnQoKS5zdWJ0cmFjdCg1LCAnbW9udGhzJykuZm9ybWF0KCdZWVlZLU1NJykpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdyZXBvcnQtc3RhcnQnO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoZm9ybSlcbiAgICAgICAgICAgIC5zZXROYW1lKCdFbmQgTW9udGgnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1lZWVktTU0gZm9ybWF0JylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUobW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NJykpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdyZXBvcnQtZW5kJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ21vZGFsLWJ1dHRvbi1jb250YWluZXInKTtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZUJ0biA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnR2VuZXJhdGUnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICAgICAgZ2VuZXJhdGVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVSZXBvcnQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIGdlbmVyYXRlUmVwb3J0KCkge1xuICAgICAgICBjb25zdCBzdGFydE1vbnRoID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnQtc3RhcnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgY29uc3QgZW5kTW9udGggPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydC1lbmQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcblxuICAgICAgICBjb25zdCByZXBvcnQgPSB0aGlzLmJ1aWxkUmVwb3J0KHN0YXJ0TW9udGgsIGVuZE1vbnRoKTtcblxuICAgICAgICAvLyBDcmVhdGUgcmVwb3J0IGluIE1vbnRobHkgRXhwZW5zZXMvRXhwZW5zZSBSZXBvcnRzIGZvbGRlclxuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyfS9FeHBlbnNlIFJlcG9ydHNgO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGBFeHBlbnNlIFJlcG9ydCAke3N0YXJ0TW9udGh9IHRvICR7ZW5kTW9udGh9Lm1kYDtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtmb2xkZXJQYXRofS8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgLy8gRW5zdXJlIGZvbGRlciBleGlzdHNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXJQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGZvbGRlclBhdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgb3Igb3ZlcndyaXRlIHRoZSByZXBvcnRcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZXhpc3RpbmdGaWxlLCByZXBvcnQpO1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1JlcG9ydCB1cGRhdGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgcmVwb3J0KTtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdSZXBvcnQgZ2VuZXJhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyByZXBvcnQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnRXJyb3IgY3JlYXRpbmcgcmVwb3J0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBidWlsZFJlcG9ydChzdGFydE1vbnRoOiBzdHJpbmcsIGVuZE1vbnRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVwb3J0ID0gYCMgRXhwZW5zZSBSZXBvcnRcXG5cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCoqUGVyaW9kOioqICR7bW9tZW50KHN0YXJ0TW9udGgsICdZWVlZLU1NJykuZm9ybWF0KCdNTU0gWVlZWScpfSAtICR7bW9tZW50KGVuZE1vbnRoLCAnWVlZWS1NTScpLmZvcm1hdCgnTU1NIFlZWVknKX1cXG5cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCoqR2VuZXJhdGVkOioqICR7bW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyl9XFxuXFxuLS0tXFxuXFxuYDtcblxuICAgICAgICBjb25zdCBzdGFydCA9IG1vbWVudChzdGFydE1vbnRoLCAnWVlZWS1NTScpO1xuICAgICAgICBjb25zdCBlbmQgPSBtb21lbnQoZW5kTW9udGgsICdZWVlZLU1NJyk7XG5cbiAgICAgICAgLy8gQWdncmVnYXRlIHRvdGFscyBieSBjdXJyZW5jeVxuICAgICAgICBjb25zdCB0b3RhbEFtb3VudDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgICAgICBjb25zdCB0b3RhbFBhaWQ6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICAgICAgY29uc3QgdG90YWxVbnBhaWQ6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuICAgICAgICByZXBvcnQgKz0gYCMjIE1vbnRobHkgQnJlYWtkb3duXFxuXFxuYDtcblxuICAgICAgICBsZXQgY3VycmVudCA9IHN0YXJ0LmNsb25lKCk7XG4gICAgICAgIHdoaWxlIChjdXJyZW50LmlzU2FtZU9yQmVmb3JlKGVuZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gY3VycmVudC5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgICAgIGNvbnN0IHJlY3VycmluZ0V4cGVuc2VzID0gdGhpcy5wbHVnaW4uZ2V0RXhwZW5zZXNGb3JNb250aChtb250aCk7XG4gICAgICAgICAgICBjb25zdCBvbmVUaW1lRXhwZW5zZXMgPSB0aGlzLnBsdWdpbi5nZXRPbmVUaW1lRXhwZW5zZXNGb3JNb250aChtb250aCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vbnRoVG90YWxzOiB7IFtrZXk6IHN0cmluZ106IHsgdG90YWw6IG51bWJlciwgcGFpZDogbnVtYmVyIH0gfSA9IHt9O1xuXG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzID0gKGFtb3VudDogbnVtYmVyLCBjdXJyZW5jeTogc3RyaW5nLCBwYWlkOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFtb250aFRvdGFsc1tjdXJyZW5jeV0pIG1vbnRoVG90YWxzW2N1cnJlbmN5XSA9IHsgdG90YWw6IDAsIHBhaWQ6IDAgfTtcbiAgICAgICAgICAgICAgICBtb250aFRvdGFsc1tjdXJyZW5jeV0udG90YWwgKz0gYW1vdW50O1xuICAgICAgICAgICAgICAgIGlmIChwYWlkKSBtb250aFRvdGFsc1tjdXJyZW5jeV0ucGFpZCArPSBhbW91bnQ7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gZ2xvYmFsIHRvdGFsc1xuICAgICAgICAgICAgICAgIGlmICghdG90YWxBbW91bnRbY3VycmVuY3ldKSB0b3RhbEFtb3VudFtjdXJyZW5jeV0gPSAwO1xuICAgICAgICAgICAgICAgIGlmICghdG90YWxQYWlkW2N1cnJlbmN5XSkgdG90YWxQYWlkW2N1cnJlbmN5XSA9IDA7XG4gICAgICAgICAgICAgICAgdG90YWxBbW91bnRbY3VycmVuY3ldICs9IGFtb3VudDtcbiAgICAgICAgICAgICAgICBpZiAocGFpZCkgdG90YWxQYWlkW2N1cnJlbmN5XSArPSBhbW91bnQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBSZWN1cnJpbmdcbiAgICAgICAgICAgIHJlY3VycmluZ0V4cGVuc2VzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZS5pZCwgbW9udGgpO1xuICAgICAgICAgICAgICAgIHByb2Nlc3MoZS5hbW91bnQsIGUuY3VycmVuY3kgfHwgJ1VTRCcsIHBheW1lbnQ/LnBhaWQgfHwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIE9uZS1UaW1lXG4gICAgICAgICAgICBvbmVUaW1lRXhwZW5zZXMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzKGUuYW1vdW50LCBlLmN1cnJlbmN5IHx8ICdVU0QnLCBlLnBhaWQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJlcG9ydCArPSBgIyMjICR7Y3VycmVudC5mb3JtYXQoJ01NTU0gWVlZWScpfVxcblxcbmA7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmNpZXMgPSBPYmplY3Qua2V5cyhtb250aFRvdGFscykuc29ydCgpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbmNpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGAtIE5vIGV4cGVuc2VzXFxuYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVuY2llcy5mb3JFYWNoKGN1cnJlbmN5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gY3VycmVuY3kgPT09ICdVU0QnID8gJyQnIDogKGN1cnJlbmN5ID09PSAnQk9CJyA/ICdCcyAnIDogYCR7Y3VycmVuY3l9IGApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbW9udGhUb3RhbHNbY3VycmVuY3ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBhaWQgPSBkYXRhLnRvdGFsIC0gZGF0YS5wYWlkO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQgKz0gYC0gKioke2N1cnJlbmN5fSoqOiBUb3RhbDogJHtzeW1ib2x9JHtkYXRhLnRvdGFsLnRvRml4ZWQoMil9IHwgUGFpZDogJHtzeW1ib2x9JHtkYXRhLnBhaWQudG9GaXhlZCgyKX0gfCBVbnBhaWQ6ICR7c3ltYm9sfSR7dW5wYWlkLnRvRml4ZWQoMil9XFxuYDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcG9ydCArPSBgXFxuYDtcblxuICAgICAgICAgICAgY3VycmVudC5hZGQoMSwgJ21vbnRoJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXBvcnQgKz0gYCMjIFN1bW1hcnlcXG5cXG5gO1xuICAgICAgICBjb25zdCBhbGxDdXJyZW5jaWVzID0gT2JqZWN0LmtleXModG90YWxBbW91bnQpLnNvcnQoKTtcblxuICAgICAgICBpZiAoYWxsQ3VycmVuY2llcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgTm8gZXhwZW5zZXMgZm91bmQgaW4gdGhpcyBwZXJpb2QuXFxuXFxuYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsbEN1cnJlbmNpZXMuZm9yRWFjaChjdXJyZW5jeSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gY3VycmVuY3kgPT09ICdVU0QnID8gJyQnIDogKGN1cnJlbmN5ID09PSAnQk9CJyA/ICdCcyAnIDogYCR7Y3VycmVuY3l9IGApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gdG90YWxBbW91bnRbY3VycmVuY3ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhaWQgPSB0b3RhbFBhaWRbY3VycmVuY3ldIHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5wYWlkID0gdG90YWwgLSBwYWlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSB0b3RhbCA+IDAgPyAoKHBhaWQgLyB0b3RhbCkgKiAxMDApLnRvRml4ZWQoMSkgOiAnMCc7XG5cbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYCMjIyAke2N1cnJlbmN5fVxcbmA7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGAtICoqVG90YWwgQW1vdW50OioqICR7c3ltYm9sfSR7dG90YWwudG9GaXhlZCgyKX1cXG5gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgLSAqKlRvdGFsIFBhaWQ6KiogJHtzeW1ib2x9JHtwYWlkLnRvRml4ZWQoMil9XFxuYDtcbiAgICAgICAgICAgICAgICByZXBvcnQgKz0gYC0gKipUb3RhbCBVbnBhaWQ6KiogJHtzeW1ib2x9JHt1bnBhaWQudG9GaXhlZCgyKX1cXG5gO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgLSAqKlBheW1lbnQgUmF0ZToqKiAke3JhdGV9JVxcblxcbmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeHBlbnNlIGJyZWFrZG93biAoUmVjdXJyaW5nIG9ubHkgZm9yIGRldGFpbGVkIGhpc3RvcnkgdXN1YWxseSwgYnV0IG1heWJlIGxpc3Qgb25lLXRpbWUgc2lnbmlmaWNhbnQgb25lcz8pXG4gICAgICAgIC8vIExldCdzIGtlZXAgZXhpc3RpbmcgYnJlYWtkb3duIGZvciByZWN1cnJpbmcgYXMgdGhleSB0cmFjayBvdmVyIHRpbWUuXG4gICAgICAgIHJlcG9ydCArPSBgIyMgUmVjdXJyaW5nIEV4cGVuc2UgQnJlYWtkb3duXFxuXFxuYDtcbiAgICAgICAgY29uc3QgYWxsRXhwZW5zZXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWN1cnJpbmdFeHBlbnNlcy5maWx0ZXIoZSA9PiAhZS5hcmNoaXZlZCk7XG4gICAgICAgIGFsbEV4cGVuc2VzLmZvckVhY2goZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50cyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vbnRobHlQYXltZW50cy5maWx0ZXIocCA9PlxuICAgICAgICAgICAgICAgIHAuZXhwZW5zZUlkID09PSBleHBlbnNlLmlkICYmXG4gICAgICAgICAgICAgICAgbW9tZW50KHAubW9udGgsICdZWVlZLU1NJykuaXNCZXR3ZWVuKHN0YXJ0LCBlbmQsIG51bGwsICdbXScpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcGFpZENvdW50ID0gcGF5bWVudHMuZmlsdGVyKHAgPT4gcC5wYWlkKS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB0b3RhbENvdW50ID0gcGF5bWVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBjb25zdCBzeW1ib2wgPSAoZXhwZW5zZS5jdXJyZW5jeSB8fCAnVVNEJykgPT09ICdVU0QnID8gJyQnIDogKChleHBlbnNlLmN1cnJlbmN5IHx8ICdVU0QnKSA9PT0gJ0JPQicgPyAnQnMgJyA6IGAke2V4cGVuc2UuY3VycmVuY3l9IGApO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAjIyMgJHtleHBlbnNlLm5hbWV9XFxuXFxuYDtcbiAgICAgICAgICAgIHJlcG9ydCArPSBgLSBBbW91bnQ6ICR7c3ltYm9sfSR7ZXhwZW5zZS5hbW91bnQudG9GaXhlZCgyKX1cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIFBheW1lbnQgTWV0aG9kOiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIFBhaWQ6ICR7cGFpZENvdW50fS8ke3RvdGFsQ291bnR9IG1vbnRoc1xcbmA7XG4gICAgICAgICAgICByZXBvcnQgKz0gYC0gVG90YWwgUGFpZDogJHtzeW1ib2x9JHsocGFpZENvdW50ICogZXhwZW5zZS5hbW91bnQpLnRvRml4ZWQoMil9XFxuXFxuYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTWF5YmUgYWRkIE9uZS1UaW1lIGxpc3Q/XG4gICAgICAgIHJlcG9ydCArPSBgIyMgT25lLVRpbWUgRXhwZW5zZXMgTGlzdFxcblxcbmA7XG4gICAgICAgIGNvbnN0IGFsbE9uZVRpbWUgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5vbmVUaW1lRXhwZW5zZXMuZmlsdGVyKGUgPT5cbiAgICAgICAgICAgIG1vbWVudChlLmRhdGUpLmlzQmV0d2VlbihzdGFydCwgZW5kLCBudWxsLCAnW10nKVxuICAgICAgICApLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xuXG4gICAgICAgIGlmIChhbGxPbmVUaW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFsbE9uZVRpbWUuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBlLnBhaWQgPyAnUGFpZCcgOiAnVW5wYWlkJztcbiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2wgPSAoZS5jdXJyZW5jeSB8fCAnVVNEJykgPT09ICdVU0QnID8gJyQnIDogKChlLmN1cnJlbmN5IHx8ICdVU0QnKSA9PT0gJ0JPQicgPyAnQnMgJyA6IGAke2UuY3VycmVuY3l9IGApO1xuICAgICAgICAgICAgICAgIHJlcG9ydCArPSBgLSAke2UuZGF0ZX06ICoqJHtlLm5hbWV9KiogLSAke3N5bWJvbH0ke2UuYW1vdW50LnRvRml4ZWQoMil9ICgke3N0YXR1c30pXFxuYDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBObyBvbmUtdGltZSBleHBlbnNlcyBpbiB0aGlzIHBlcmlvZC5cXG5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufVxuXG4vLyBTZXR0aW5ncyBUYWJcbmNsYXNzIEV4cGVuc2VUcmFja2VyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdNb250aGx5IEV4cGVuc2UgVHJhY2tlciBTZXR0aW5ncycgfSk7XG5cbiAgICAgICAgLy8gU3VwcG9ydCBTZWN0aW9uXG4gICAgICAgIGNvbnN0IHN1cHBvcnRTZWN0aW9uID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdleHBlbnNlLXRyYWNrZXItc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIHN1cHBvcnRTZWN0aW9uLnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7XG4gICAgICAgIHN1cHBvcnRTZWN0aW9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JztcbiAgICAgICAgc3VwcG9ydFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgICBzdXBwb3J0U2VjdGlvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnOHB4JztcbiAgICAgICAgc3VwcG9ydFNlY3Rpb24uc3R5bGUuYm9yZGVyID0gJzJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblxuICAgICAgICBjb25zdCBzdXBwb3J0SGVhZGVyID0gc3VwcG9ydFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHVEODNEXHVEQzk5IFN1cHBvcnQgVGhpcyBQbHVnaW4nIH0pO1xuICAgICAgICBzdXBwb3J0SGVhZGVyLnN0eWxlLm1hcmdpblRvcCA9ICcwJztcbiAgICAgICAgc3VwcG9ydEhlYWRlci5zdHlsZS5jb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblxuICAgICAgICBzdXBwb3J0U2VjdGlvbi5jcmVhdGVFbCgncCcsIHtcbiAgICAgICAgICAgIHRleHQ6ICdJZiB5b3UgZmluZCB0aGlzIHBsdWdpbiBoZWxwZnVsLCBjb25zaWRlciBzdXBwb3J0aW5nIGl0cyBkZXZlbG9wbWVudCEnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN1cHBvcnRMaW5rcyA9IHN1cHBvcnRTZWN0aW9uLmNyZWF0ZURpdigpO1xuICAgICAgICBzdXBwb3J0TGlua3Muc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgc3VwcG9ydExpbmtzLnN0eWxlLmdhcCA9ICcxMHB4JztcbiAgICAgICAgc3VwcG9ydExpbmtzLnN0eWxlLmZsZXhXcmFwID0gJ3dyYXAnO1xuICAgICAgICBzdXBwb3J0TGlua3Muc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuXG4gICAgICAgIC8vIFBheVBhbCBidXR0b25cbiAgICAgICAgY29uc3QgcGF5cGFsQnRuID0gc3VwcG9ydExpbmtzLmNyZWF0ZUVsKCdhJywge1xuICAgICAgICAgICAgdGV4dDogJ1x1RDgzRFx1RENCMyBQYXlQYWwnLFxuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vd3d3LnBheXBhbC5jb20vcGF5cGFsbWUvVmljdG9yWmVudGVubydcbiAgICAgICAgfSk7XG4gICAgICAgIHBheXBhbEJ0bi5zdHlsZS5jc3NUZXh0ID0gJ3BhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpOyBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpOyBib3JkZXItcmFkaXVzOiA0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsnO1xuXG4gICAgICAgIC8vIENyeXB0byBidXR0b25cbiAgICAgICAgY29uc3QgY3J5cHRvQnRuID0gc3VwcG9ydExpbmtzLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgICB0ZXh0OiAnXHVEODNFXHVERTk5IFVTREMvVVNEVCdcbiAgICAgICAgfSk7XG4gICAgICAgIGNyeXB0b0J0bi5zdHlsZS5jc3NUZXh0ID0gJ3BhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpOyBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpOyBib3JkZXItcmFkaXVzOiA0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXI6IG5vbmU7JztcbiAgICAgICAgY3J5cHRvQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgU3VwcG9ydE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQnV5IE1lIGEgQ29mZmVlIGJ1dHRvblxuICAgICAgICBjb25zdCBjb2ZmZWVCdG4gPSBzdXBwb3J0TGlua3MuY3JlYXRlRWwoJ2EnLCB7XG4gICAgICAgICAgICB0ZXh0OiAnXHUyNjE1IENvZmZlZScsXG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9idXltZWFjb2ZmZWUuY29tL3J2emVuJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29mZmVlQnRuLnN0eWxlLmNzc1RleHQgPSAncGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7IGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7IGJvcmRlci1yYWRpdXM6IDRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBmb250LXdlaWdodDogNjAwOyc7XG5cbiAgICAgICAgY29uc3Qgc3VwcG9ydE5vdGUgPSBzdXBwb3J0U2VjdGlvbi5jcmVhdGVFbCgncCcsIHtcbiAgICAgICAgICAgIHRleHQ6ICdZb3VyIHN1cHBvcnQgaGVscHMgbWFpbnRhaW4gYW5kIGltcHJvdmUgdGhpcyBwbHVnaW4uIFRoYW5rIHlvdSEgXHVEODNEXHVERTRGJ1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwcG9ydE5vdGUuc3R5bGUubWFyZ2luQm90dG9tID0gJzAnO1xuICAgICAgICBzdXBwb3J0Tm90ZS5zdHlsZS5mb250U2l6ZSA9ICcwLjllbSc7XG4gICAgICAgIHN1cHBvcnROb3RlLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtbXV0ZWQpJztcbiAgICAgICAgc3VwcG9ydE5vdGUuc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdocicsIHsgY2xzOiAnZXhwZW5zZS10cmFja2VyLWRpdmlkZXInIH0pO1xuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdQbHVnaW4gU2V0dGluZ3MnIH0pO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ01vbnRobHkgTm90ZXMgRm9sZGVyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdGb2xkZXIgd2hlcmUgbW9udGhseSBleHBlbnNlIG5vdGVzIHdpbGwgYmUgY3JlYXRlZCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdBdXRvLWNyZWF0ZSBNb250aGx5IE5vdGVzJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IGNyZWF0ZSBtb250aGx5IG5vdGVzIHdoZW4gYSBuZXcgbW9udGggYmVnaW5zJylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvQ3JlYXRlTW9udGhseU5vdGVzKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0NyZWF0ZU1vbnRobHlOb3RlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnU2hvdyBTdGF0dXMgQmFyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdEaXNwbGF5IHVucGFpZCBleHBlbnNlIGNvdW50IGluIHN0YXR1cyBiYXInKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dTdGF0dXNCYXIpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3RhdHVzQmFyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhdGhpcy5wbHVnaW4uc3RhdHVzQmFySXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RhdHVzQmFySXRlbSA9IHRoaXMucGx1Z2luLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnVwZGF0ZVN0YXR1c0JhcigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ01vbnRobHkgTm90ZSBUZW1wbGF0ZScpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGVtcGxhdGUgZm9yIG1vbnRobHkgbm90ZXMuIFVzZSB7e21vbnRofX0gYW5kIHt7ZXhwZW5zZXN9fSBhcyBwbGFjZWhvbGRlcnMuJylcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vbnRobHlOb3RlVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gMTA7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmNvbHMgPSA1MDtcbiAgICAgICAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb250aGx5Tm90ZVRlbXBsYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFZTztBQStDUCxJQUFNLG1CQUEyQztBQUFBLEVBQzdDLG1CQUFtQixDQUFDO0FBQUEsRUFDcEIsaUJBQWlCLENBQUM7QUFBQSxFQUNsQixpQkFBaUIsQ0FBQztBQUFBLEVBQ2xCLG9CQUFvQjtBQUFBLEVBQ3BCLHFCQUFxQjtBQUFBLEVBQ3JCLHdCQUF3QjtBQUFBLEVBQ3hCLGVBQWU7QUFDbkI7QUFFQSxJQUFNLHNCQUFzQjtBQUc1QixJQUFxQiw4QkFBckIsY0FBeUQsdUJBQU87QUFBQSxFQUk1RCxNQUFNLFNBQVM7QUFDWCxVQUFNLEtBQUssYUFBYTtBQUd4QixTQUFLO0FBQUEsTUFDRDtBQUFBLE1BQ0EsQ0FBQyxTQUFTLElBQUksY0FBYyxNQUFNLElBQUk7QUFBQSxJQUMxQztBQUdBLFNBQUssY0FBYyxVQUFVLDJCQUEyQixNQUFNO0FBQzFELFdBQUssc0JBQXNCO0FBQUEsSUFDL0IsQ0FBQztBQUdELFNBQUssV0FBVztBQUFBLE1BQ1osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ1osYUFBSyxzQkFBc0I7QUFBQSxNQUMvQjtBQUFBLElBQ0osQ0FBQztBQUVELFNBQUssV0FBVztB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
