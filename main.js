var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MonthlyExpenseTrackerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  recurringExpenses: [],
  oneTimeExpenses: [],
  monthlyPayments: [],
  monthlyNotesFolder: "Monthly Expenses",
  monthlyNoteTemplate: "# {{month}} - Monthly Expenses\n\n## Expense Tracker\n\n{{expenses}}\n\n---\n*Generated by Monthly Expense Tracker*",
  autoCreateMonthlyNotes: true,
  showStatusBar: true
};
var VIEW_TYPE_DASHBOARD = "expense-tracker-dashboard";
var MonthlyExpenseTrackerPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_DASHBOARD,
      (leaf) => new DashboardView(leaf, this)
    );
    this.addRibbonIcon("wallet", "Monthly Expense Tracker", () => {
      this.activateDashboardView();
    });
    this.addCommand({
      id: "open-expense-dashboard",
      name: "Open Expense Dashboard",
      callback: () => {
        this.activateDashboardView();
      }
    });
    this.addCommand({
      id: "add-recurring-expense",
      name: "Add Expense",
      callback: () => {
        new AddExpenseModal(this.app, this, null).open();
      }
    });
    this.addCommand({
      id: "create-current-month-note",
      name: "Create Current Month Note",
      callback: async () => {
        const currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
        await this.createMonthlyNote(currentMonth);
      }
    });
    this.addCommand({
      id: "generate-expense-report",
      name: "Generate Expense Report",
      callback: () => {
        new ReportModal(this.app, this).open();
      }
    });
    if (this.settings.showStatusBar) {
      this.statusBarItem = this.addStatusBarItem();
      this.updateStatusBar();
    }
    if (this.settings.autoCreateMonthlyNotes) {
      this.checkAndCreateMonthlyNote();
    }
    this.addSettingTab(new ExpenseTrackerSettingTab(this.app, this));
    console.log("Monthly Expense Tracker plugin loaded");
  }
  async activateDashboardView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(VIEW_TYPE_DASHBOARD)[0];
    if (!leaf) {
      const newLeaf = workspace.getLeaf("tab");
      if (newLeaf) {
        await newLeaf.setViewState({
          type: VIEW_TYPE_DASHBOARD,
          active: true
        });
        leaf = newLeaf;
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
  async checkAndCreateMonthlyNote() {
    const currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
    const monthlyNote = await this.getMonthlyNoteFile(currentMonth);
    if (!monthlyNote) {
      await this.createMonthlyNote(currentMonth);
    }
  }
  async createMonthlyNote(month) {
    const folderPath = this.settings.monthlyNotesFolder;
    const fileName = `${month}.md`;
    const filePath = `${folderPath}/${fileName}`;
    const folder = this.app.vault.getAbstractFileByPath(folderPath);
    if (!folder) {
      await this.app.vault.createFolder(folderPath);
    }
    let file = this.app.vault.getAbstractFileByPath(filePath);
    if (file instanceof import_obsidian.TFile) {
      new import_obsidian.Notice(`Monthly note for ${month} already exists`);
      return file;
    }
    const expenses = this.getExpensesForMonth(month);
    const oneTimeExpenses = this.getOneTimeExpensesForMonth(month);
    const prevMonth = (0, import_obsidian.moment)(month, "YYYY-MM").subtract(1, "month").format("YYYY-MM");
    const unpaidFromPrev = this.getUnpaidExpenses(prevMonth);
    let expenseList = "## Recurring Expenses\n\n";
    expenses.forEach((expense) => {
      const payment = this.getPayment(expense.id, month);
      const status = (payment == null ? void 0 : payment.paid) ? "x" : " ";
      const statusIcon = (payment == null ? void 0 : payment.paid) ? "\u2705" : "\u2B1C";
      expenseList += `- [${status}] ${statusIcon} **${expense.name}** - $${expense.amount.toFixed(2)} - Due: ${expense.dueDay} - Method: ${expense.paymentMethod}
`;
      expenseList += `  - ID: \`${expense.id}\`
`;
      if (payment == null ? void 0 : payment.confirmationNumber) {
        expenseList += `  - Confirmation: ${payment.confirmationNumber}
`;
      }
      expenseList += "\n";
    });
    if (oneTimeExpenses.length > 0) {
      expenseList += "## One-Time Expenses\n\n";
      oneTimeExpenses.forEach((expense) => {
        const status = expense.paid ? "x" : " ";
        const statusIcon = expense.paid ? "\u2705" : "\u2B1C";
        expenseList += `- [${status}] ${statusIcon} **${expense.name}** - $${expense.amount.toFixed(2)} - Date: ${expense.date} - Method: ${expense.paymentMethod}
`;
        expenseList += `  - ID: \`${expense.id}\`
`;
        if (expense.confirmationNumber) {
          expenseList += `  - Confirmation: ${expense.confirmationNumber}
`;
        }
        expenseList += "\n";
      });
    }
    if (unpaidFromPrev.length > 0) {
      expenseList += "\n## Unpaid from Previous Month\n\n";
      unpaidFromPrev.forEach((expense) => {
        expenseList += `- [ ] \u26A0\uFE0F **${expense.name}** - $${expense.amount.toFixed(2)} - OVERDUE
`;
        expenseList += `  - ID: \`${expense.id}\`

`;
      });
    }
    if (expenses.length === 0 && oneTimeExpenses.length === 0) {
      expenseList += '\n*No expenses set up for this month yet. Click "**+ Add Expense**" in the dashboard to add expenses.*\n\n';
    }
    const content = this.settings.monthlyNoteTemplate.replace("{{month}}", (0, import_obsidian.moment)(month, "YYYY-MM").format("MMMM YYYY")).replace("{{expenses}}", expenseList);
    file = await this.app.vault.create(filePath, content);
    new import_obsidian.Notice(`Created monthly note for ${month}`);
    return file;
  }
  async getMonthlyNoteFile(month) {
    const filePath = `${this.settings.monthlyNotesFolder}/${month}.md`;
    const file = this.app.vault.getAbstractFileByPath(filePath);
    return file instanceof import_obsidian.TFile ? file : null;
  }
  getExpensesForMonth(month) {
    return this.settings.recurringExpenses.filter((expense) => {
      if (expense.archived) return false;
      const expenseStart = (0, import_obsidian.moment)(expense.startDate, "YYYY-MM");
      const expenseEnd = expense.endDate ? (0, import_obsidian.moment)(expense.endDate, "YYYY-MM") : null;
      const checkMonth = (0, import_obsidian.moment)(month, "YYYY-MM");
      const afterStart = checkMonth.isSameOrAfter(expenseStart);
      const beforeEnd = !expenseEnd || checkMonth.isSameOrBefore(expenseEnd);
      return afterStart && beforeEnd;
    });
  }
  getUnpaidExpenses(month) {
    const expenses = this.getExpensesForMonth(month);
    return expenses.filter((expense) => {
      const payment = this.getPayment(expense.id, month);
      return !payment || !payment.paid;
    });
  }
  getPayment(expenseId, month) {
    return this.settings.monthlyPayments.find(
      (p) => p.expenseId === expenseId && p.month === month
    );
  }
  async markExpensePaid(expenseId, month, paid, confirmationNumber) {
    const existingPayment = this.getPayment(expenseId, month);
    if (existingPayment) {
      existingPayment.paid = paid;
      existingPayment.paidDate = paid ? (0, import_obsidian.moment)().format("YYYY-MM-DD") : void 0;
      existingPayment.confirmationNumber = confirmationNumber;
    } else {
      this.settings.monthlyPayments.push({
        expenseId,
        month,
        paid,
        paidDate: paid ? (0, import_obsidian.moment)().format("YYYY-MM-DD") : void 0,
        confirmationNumber
      });
    }
    await this.saveSettings();
    this.updateStatusBar();
  }
  async addRecurringExpense(expense) {
    this.settings.recurringExpenses.push(expense);
    await this.saveSettings();
    new import_obsidian.Notice(`Added recurring expense: ${expense.name}`);
  }
  async addOneTimeExpense(expense) {
    this.settings.oneTimeExpenses.push(expense);
    await this.saveSettings();
    new import_obsidian.Notice(`Added one-time expense: ${expense.name}`);
  }
  getOneTimeExpensesForMonth(month) {
    return this.settings.oneTimeExpenses.filter((expense) => {
      const expenseDate = (0, import_obsidian.moment)(expense.date);
      return expenseDate.format("YYYY-MM") === month;
    });
  }
  async markOneTimeExpensePaid(expenseId, paid, confirmationNumber) {
    const expense = this.settings.oneTimeExpenses.find((e) => e.id === expenseId);
    if (expense) {
      expense.paid = paid;
      expense.paidDate = paid ? (0, import_obsidian.moment)().format("YYYY-MM-DD") : void 0;
      if (confirmationNumber) expense.confirmationNumber = confirmationNumber;
      await this.saveSettings();
      this.updateStatusBar();
    }
  }
  async updateOneTimeExpense(expense) {
    const index = this.settings.oneTimeExpenses.findIndex((e) => e.id === expense.id);
    if (index !== -1) {
      this.settings.oneTimeExpenses[index] = expense;
      await this.saveSettings();
      new import_obsidian.Notice(`Updated expense: ${expense.name}`);
    }
  }
  async deleteOneTimeExpense(expenseId) {
    this.settings.oneTimeExpenses = this.settings.oneTimeExpenses.filter((e) => e.id !== expenseId);
    await this.saveSettings();
    new import_obsidian.Notice("Expense deleted");
  }
  async updateRecurringExpense(expense) {
    const index = this.settings.recurringExpenses.findIndex((e) => e.id === expense.id);
    if (index !== -1) {
      this.settings.recurringExpenses[index] = expense;
      await this.saveSettings();
      new import_obsidian.Notice(`Updated expense: ${expense.name}`);
    }
  }
  async archiveExpense(expenseId) {
    const expense = this.settings.recurringExpenses.find((e) => e.id === expenseId);
    if (expense) {
      expense.archived = true;
      await this.saveSettings();
      new import_obsidian.Notice(`Archived expense: ${expense.name}`);
    }
  }
  async deleteExpense(expenseId) {
    this.settings.recurringExpenses = this.settings.recurringExpenses.filter((e) => e.id !== expenseId);
    this.settings.monthlyPayments = this.settings.monthlyPayments.filter((p) => p.expenseId !== expenseId);
    await this.saveSettings();
    new import_obsidian.Notice("Expense deleted");
  }
  updateStatusBar() {
    if (!this.statusBarItem) return;
    const currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
    const unpaid = this.getUnpaidExpenses(currentMonth);
    const recurringTotal = this.getExpensesForMonth(currentMonth).length;
    const oneTime = this.getOneTimeExpensesForMonth(currentMonth);
    const oneTimeUnpaid = oneTime.filter((e) => !e.paid);
    const totalUnpaidCount = unpaid.length + oneTimeUnpaid.length;
    const totalCount = recurringTotal + oneTime.length;
    if (totalUnpaidCount > 0) {
      this.statusBarItem.textContent = `\u{1F4B3} ${totalUnpaidCount}/${totalCount} unpaid`;
      this.statusBarItem.classList.add("expense-tracker-unpaid");
    } else if (totalCount > 0) {
      this.statusBarItem.textContent = `\u{1F4B3} All paid`;
      this.statusBarItem.classList.remove("expense-tracker-unpaid");
    } else {
      this.statusBarItem.textContent = "\u{1F4B3}";
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    const leaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_DASHBOARD);
    leaves.forEach((leaf) => {
      if (leaf.view instanceof DashboardView) {
        leaf.view.refresh();
      }
    });
  }
  onunload() {
    console.log("Monthly Expense Tracker plugin unloaded");
  }
};
var DashboardView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
    this.currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
  }
  getViewType() {
    return VIEW_TYPE_DASHBOARD;
  }
  getDisplayText() {
    return "Expense Dashboard";
  }
  getIcon() {
    return "wallet";
  }
  async onOpen() {
    this.refresh();
  }
  refresh() {
    const container = this.containerEl.children[1];
    container.empty();
    container.addClass("expense-tracker-dashboard");
    const header = container.createDiv("expense-tracker-header");
    header.createEl("h2", { text: "Monthly Expense Tracker" });
    const monthSelector = container.createDiv("expense-tracker-month-selector");
    const prevBtn = monthSelector.createEl("button", { text: "\u25C0" });
    prevBtn.onclick = () => {
      this.currentMonth = (0, import_obsidian.moment)(this.currentMonth, "YYYY-MM").subtract(1, "month").format("YYYY-MM");
      this.refresh();
    };
    const monthDisplay = monthSelector.createEl("span", {
      text: (0, import_obsidian.moment)(this.currentMonth, "YYYY-MM").format("MMMM YYYY"),
      cls: "expense-tracker-month-display"
    });
    const nextBtn = monthSelector.createEl("button", { text: "\u25B6" });
    nextBtn.onclick = () => {
      this.currentMonth = (0, import_obsidian.moment)(this.currentMonth, "YYYY-MM").add(1, "month").format("YYYY-MM");
      this.refresh();
    };
    const todayBtn = monthSelector.createEl("button", { text: "Today" });
    todayBtn.onclick = () => {
      this.currentMonth = (0, import_obsidian.moment)().format("YYYY-MM");
      this.refresh();
    };
    const recurringExpenses = this.plugin.getExpensesForMonth(this.currentMonth);
    const oneTimeExpenses = this.plugin.getOneTimeExpensesForMonth(this.currentMonth);
    const recurringTotal = recurringExpenses.reduce((sum, e) => sum + e.amount, 0);
    const oneTimeTotal = oneTimeExpenses.reduce((sum, e) => sum + e.amount, 0);
    const totalAmount = recurringTotal + oneTimeTotal;
    const recurringPaid = recurringExpenses.filter((e) => {
      const payment = this.plugin.getPayment(e.id, this.currentMonth);
      return payment == null ? void 0 : payment.paid;
    }).reduce((sum, e) => sum + e.amount, 0);
    const oneTimePaid = oneTimeExpenses.filter((e) => e.paid).reduce((sum, e) => sum + e.amount, 0);
    const paidAmount = recurringPaid + oneTimePaid;
    const recurringUnpaidCount = recurringExpenses.filter((e) => {
      const payment = this.plugin.getPayment(e.id, this.currentMonth);
      return !payment || !payment.paid;
    }).length;
    const oneTimeUnpaidCount = oneTimeExpenses.filter((e) => !e.paid).length;
    const totalUnpaidCount = recurringUnpaidCount + oneTimeUnpaidCount;
    const totalCount = recurringExpenses.length + oneTimeExpenses.length;
    const summary = container.createDiv("expense-tracker-summary");
    summary.createDiv("summary-item").innerHTML = `
            <span class="summary-label">Total Expenses:</span>
            <span class="summary-value">${totalCount}</span>
        `;
    summary.createDiv("summary-item").innerHTML = `
            <span class="summary-label">Unpaid:</span>
            <span class="summary-value unpaid">${totalUnpaidCount}</span>
        `;
    summary.createDiv("summary-item").innerHTML = `
            <span class="summary-label">Total Amount:</span>
            <span class="summary-value">$${totalAmount.toFixed(2)}</span>
        `;
    summary.createDiv("summary-item").innerHTML = `
            <span class="summary-label">Paid:</span>
            <span class="summary-value paid">$${paidAmount.toFixed(2)}</span>
        `;
    const actions = container.createDiv("expense-tracker-actions");
    const addBtn = actions.createEl("button", { text: "+ Add Expense", cls: "mod-cta" });
    addBtn.onclick = () => {
      new AddExpenseModal(this.app, this.plugin, null).open();
    };
    const createNoteBtn = actions.createEl("button", { text: "\u{1F4C4} Create Monthly Note" });
    createNoteBtn.onclick = async () => {
      await this.plugin.createMonthlyNote(this.currentMonth);
    };
    const reportBtn = actions.createEl("button", { text: "\u{1F4CA} Generate Report" });
    reportBtn.onclick = () => {
      new ReportModal(this.app, this.plugin).open();
    };
    const supportBtn = actions.createEl("button", { text: "\u{1F499} Support Plugin" });
    supportBtn.onclick = () => {
      new SupportModal(this.app).open();
    };
    supportBtn.style.background = "var(--interactive-accent)";
    supportBtn.style.color = "var(--text-on-accent)";
    const expenseList = container.createEl("div", { cls: "expense-tracker-list" });
    if (totalCount === 0) {
      expenseList.createDiv("expense-tracker-empty").setText("No expenses for this month");
    } else {
      if (totalUnpaidCount > 0) {
        expenseList.createEl("h3", { text: "Unpaid" });
        recurringExpenses.filter((e) => {
          const payment = this.plugin.getPayment(e.id, this.currentMonth);
          return !(payment == null ? void 0 : payment.paid);
        }).forEach((expense) => {
          this.renderRecurringExpenseItem(expenseList, expense);
        });
        oneTimeExpenses.filter((e) => !e.paid).forEach((expense) => {
          this.renderOneTimeExpenseItem(expenseList, expense);
        });
      }
      if (totalCount - totalUnpaidCount > 0) {
        expenseList.createEl("h3", { text: "Paid" });
        recurringExpenses.filter((e) => {
          const payment = this.plugin.getPayment(e.id, this.currentMonth);
          return payment == null ? void 0 : payment.paid;
        }).forEach((expense) => {
          this.renderRecurringExpenseItem(expenseList, expense);
        });
        oneTimeExpenses.filter((e) => e.paid).forEach((expense) => {
          this.renderOneTimeExpenseItem(expenseList, expense);
        });
      }
    }
    const archivedExpenses = this.plugin.settings.recurringExpenses.filter((e) => e.archived);
    if (archivedExpenses.length > 0) {
      const archivedSection = container.createDiv("expense-tracker-archived");
      const archivedHeader = archivedSection.createEl("h3", { text: "Archived Expenses" });
      archivedHeader.style.cursor = "pointer";
      const archivedList = archivedSection.createDiv("expense-tracker-archived-list");
      archivedList.style.display = "none";
      archivedHeader.onclick = () => {
        archivedList.style.display = archivedList.style.display === "none" ? "block" : "none";
      };
      archivedExpenses.forEach((expense) => {
        const item = archivedList.createDiv("expense-item archived");
        item.innerHTML = `
                    <div class="expense-name">${expense.name}</div>
                    <div class="expense-details">$${expense.amount.toFixed(2)} - ${expense.paymentMethod}</div>
                `;
        item.onclick = (e) => {
          const menu = new import_obsidian.Menu();
          menu.addItem((item2) => {
            item2.setTitle("Unarchive").onClick(async () => {
              expense.archived = false;
              await this.plugin.saveSettings();
              this.refresh();
            });
          });
          menu.addItem((item2) => {
            item2.setTitle("Delete").onClick(async () => {
              await this.plugin.deleteExpense(expense.id);
              this.refresh();
            });
          });
          menu.showAtMouseEvent(e);
        };
      });
    }
  }
  renderRecurringExpenseItem(container, expense) {
    const payment = this.plugin.getPayment(expense.id, this.currentMonth);
    const isPaid = (payment == null ? void 0 : payment.paid) || false;
    const isOverdue = expense.dueDay < parseInt((0, import_obsidian.moment)().format("D")) && !isPaid && this.currentMonth === (0, import_obsidian.moment)().format("YYYY-MM");
    const item = container.createDiv("expense-item");
    if (isPaid) item.addClass("paid");
    if (isOverdue) item.addClass("overdue");
    const checkbox = item.createEl("input", { type: "checkbox" });
    checkbox.checked = isPaid;
    checkbox.onclick = async (e) => {
      e.stopPropagation();
      if (!isPaid) {
        new MarkPaidModal(this.app, this.plugin, expense, this.currentMonth, () => {
          this.refresh();
        }).open();
      } else {
        await this.plugin.markExpensePaid(expense.id, this.currentMonth, false);
        this.refresh();
      }
    };
    const content = item.createDiv("expense-content");
    const nameDiv = content.createDiv("expense-name");
    nameDiv.setText(expense.name);
    if (isOverdue) {
      nameDiv.createSpan({ text: " \u26A0\uFE0F OVERDUE", cls: "overdue-badge" });
    }
    const details = content.createDiv("expense-details");
    details.innerHTML = `
            $${expense.amount.toFixed(2)} \u2022 Due: ${expense.dueDay} \u2022 ${expense.paymentMethod}
            ${(payment == null ? void 0 : payment.confirmationNumber) ? `<br>Confirmation: ${payment.confirmationNumber}` : ""}
            ${(payment == null ? void 0 : payment.paidDate) ? `<br>Paid: ${payment.paidDate}` : ""}
        `;
    const actions = item.createDiv("expense-actions");
    this.addContextMenu(actions, expense, "recurring");
  }
  renderOneTimeExpenseItem(container, expense) {
    const isPaid = expense.paid;
    const expenseDate = (0, import_obsidian.moment)(expense.date);
    const isOverdue = expenseDate.isBefore((0, import_obsidian.moment)(), "day") && !isPaid;
    const item = container.createDiv("expense-item");
    if (isPaid) item.addClass("paid");
    if (isOverdue) item.addClass("overdue");
    const checkbox = item.createEl("input", { type: "checkbox" });
    checkbox.checked = isPaid;
    checkbox.onclick = async (e) => {
      e.stopPropagation();
      if (!isPaid) {
        await this.plugin.markOneTimeExpensePaid(expense.id, true);
        this.refresh();
      } else {
        await this.plugin.markOneTimeExpensePaid(expense.id, false);
        this.refresh();
      }
    };
    const content = item.createDiv("expense-content");
    const nameDiv = content.createDiv("expense-name");
    nameDiv.setText(expense.name);
    nameDiv.createSpan({ text: " (One-Time)", cls: "expense-type-badge", style: "font-size: 0.8em; color: var(--text-muted); margin-left: 5px;" });
    if (isOverdue) {
      nameDiv.createSpan({ text: " \u26A0\uFE0F OVERDUE", cls: "overdue-badge" });
    }
    const details = content.createDiv("expense-details");
    details.innerHTML = `
            $${expense.amount.toFixed(2)} \u2022 Date: ${expense.date} \u2022 ${expense.paymentMethod}
            ${expense.confirmationNumber ? `<br>Confirmation: ${expense.confirmationNumber}` : ""}
            ${expense.paidDate ? `<br>Paid: ${expense.paidDate}` : ""}
        `;
    const actions = item.createDiv("expense-actions");
    this.addContextMenu(actions, expense, "onetime");
  }
  addContextMenu(container, expense, type) {
    const menuBtn = container.createEl("button", { text: "\u22EE" });
    menuBtn.onclick = (e) => {
      e.stopPropagation();
      const menu = new import_obsidian.Menu();
      menu.addItem((item) => {
        item.setTitle("Edit").setIcon("pencil").onClick(() => {
          new AddExpenseModal(this.app, this.plugin, expense).open();
        });
      });
      if (type === "recurring") {
        menu.addItem((item) => {
          item.setTitle("View History").setIcon("history").onClick(() => {
            new HistoryModal(this.app, this.plugin, expense).open();
          });
        });
        menu.addItem((item) => {
          item.setTitle("Archive").setIcon("archive").onClick(async () => {
            await this.plugin.archiveExpense(expense.id);
            this.refresh();
          });
        });
        menu.addItem((item) => {
          item.setTitle("Delete").setIcon("trash").onClick(async () => {
            await this.plugin.deleteExpense(expense.id);
            this.refresh();
          });
        });
      } else {
        menu.addItem((item) => {
          item.setTitle("Delete").setIcon("trash").onClick(async () => {
            await this.plugin.deleteOneTimeExpense(expense.id);
            this.refresh();
          });
        });
      }
      menu.showAtMouseEvent(e);
    };
  }
  async onClose() {
  }
};
var AddExpenseModal = class extends import_obsidian.Modal {
  constructor(app, plugin, expense) {
    super(app);
    this.plugin = plugin;
    if (expense && "date" in expense) {
      this.oneTimeExpense = expense;
      this.expense = null;
      this.type = "onetime";
    } else {
      this.expense = expense;
      this.oneTimeExpense = null;
      this.type = "recurring";
    }
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: this.expense || this.oneTimeExpense ? "Edit Expense" : "Add Expense" });
    const form = contentEl.createDiv("expense-form");
    if (!this.expense && !this.oneTimeExpense) {
      new import_obsidian.Setting(form).setName("Expense Type").addDropdown((dropdown) => {
        dropdown.addOption("recurring", "Recurring (Monthly)").addOption("onetime", "One-Time").setValue(this.type).onChange(async (value) => {
          this.type = value;
          this.onOpen();
        });
      });
    }
    new import_obsidian.Setting(form).setName("Expense Name").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.name) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.name) || "");
      text.inputEl.id = "expense-name";
    });
    new import_obsidian.Setting(form).setName("Amount").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.amount.toString()) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.amount.toString()) || "");
      text.inputEl.type = "number";
      text.inputEl.step = "0.01";
      text.inputEl.id = "expense-amount";
    });
    if (this.type === "recurring") {
      new import_obsidian.Setting(form).setName("Due Day of Month").setDesc("1-31").addText((text) => {
        var _a;
        text.setValue(((_a = this.expense) == null ? void 0 : _a.dueDay.toString()) || "1");
        text.inputEl.type = "number";
        text.inputEl.min = "1";
        text.inputEl.max = "31";
        text.inputEl.id = "expense-due-day";
      });
      new import_obsidian.Setting(form).setName("Start Month").setDesc("YYYY-MM format").addText((text) => {
        var _a;
        text.setValue(((_a = this.expense) == null ? void 0 : _a.startDate) || (0, import_obsidian.moment)().format("YYYY-MM"));
        text.inputEl.id = "expense-start-date";
      });
      new import_obsidian.Setting(form).setName("End Month (Optional)").setDesc("YYYY-MM format - leave empty for ongoing").addText((text) => {
        var _a;
        text.setValue(((_a = this.expense) == null ? void 0 : _a.endDate) || "");
        text.inputEl.id = "expense-end-date";
      });
    } else {
      new import_obsidian.Setting(form).setName("Date").setDesc("YYYY-MM-DD format").addText((text) => {
        var _a;
        text.setValue(((_a = this.oneTimeExpense) == null ? void 0 : _a.date) || (0, import_obsidian.moment)().format("YYYY-MM-DD"));
        text.inputEl.type = "date";
        text.inputEl.id = "expense-date";
      });
    }
    new import_obsidian.Setting(form).setName("Payment Method").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.paymentMethod) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.paymentMethod) || "");
      text.inputEl.id = "expense-payment-method";
    });
    new import_obsidian.Setting(form).setName("Category (Optional)").addText((text) => {
      var _a, _b;
      text.setValue(((_a = this.expense) == null ? void 0 : _a.category) || ((_b = this.oneTimeExpense) == null ? void 0 : _b.category) || "");
      text.inputEl.id = "expense-category";
    });
    const buttonDiv = contentEl.createDiv("modal-button-container");
    const saveBtn = buttonDiv.createEl("button", { text: "Save", cls: "mod-cta" });
    saveBtn.onclick = async () => {
      await this.handleSubmit();
    };
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    cancelBtn.onclick = () => {
      this.close();
    };
  }
  async handleSubmit() {
    var _a, _b, _c, _d, _e, _f;
    const name = document.getElementById("expense-name").value;
    const amount = parseFloat(document.getElementById("expense-amount").value);
    const paymentMethod = document.getElementById("expense-payment-method").value;
    const category = document.getElementById("expense-category").value;
    if (!name || isNaN(amount) || !paymentMethod) {
      new import_obsidian.Notice("Please fill in all required fields");
      return;
    }
    if (this.type === "recurring") {
      const dueDayStr = document.getElementById("expense-due-day").value;
      const startDate = document.getElementById("expense-start-date").value;
      const endDate = document.getElementById("expense-end-date").value;
      const dueDay = parseInt(dueDayStr);
      if (!dueDay || !startDate) {
        new import_obsidian.Notice("Please fill in all required fields for recurring expense");
        return;
      }
      const expense = {
        id: ((_a = this.expense) == null ? void 0 : _a.id) || `exp-${Date.now()}`,
        name,
        amount,
        dueDay,
        paymentMethod,
        startDate,
        endDate: endDate || void 0,
        category: category || void 0,
        archived: ((_b = this.expense) == null ? void 0 : _b.archived) || false
      };
      if (this.expense) {
        await this.plugin.updateRecurringExpense(expense);
      } else {
        await this.plugin.addRecurringExpense(expense);
      }
    } else {
      const date = document.getElementById("expense-date").value;
      if (!date) {
        new import_obsidian.Notice("Please select a date for the one-time expense");
        return;
      }
      const expense = {
        id: ((_c = this.oneTimeExpense) == null ? void 0 : _c.id) || `one-${Date.now()}`,
        name,
        amount,
        date,
        paymentMethod,
        category: category || void 0,
        paid: ((_d = this.oneTimeExpense) == null ? void 0 : _d.paid) || false,
        paidDate: (_e = this.oneTimeExpense) == null ? void 0 : _e.paidDate,
        confirmationNumber: (_f = this.oneTimeExpense) == null ? void 0 : _f.confirmationNumber
      };
      if (this.oneTimeExpense) {
        await this.plugin.updateOneTimeExpense(expense);
      } else {
        await this.plugin.addOneTimeExpense(expense);
      }
    }
    this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var MarkPaidModal = class extends import_obsidian.Modal {
  constructor(app, plugin, expense, month, onComplete) {
    super(app);
    this.plugin = plugin;
    this.expense = expense;
    this.month = month;
    this.onComplete = onComplete;
    this.isOneTime = "date" in expense;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Mark as Paid" });
    contentEl.createEl("p", { text: `${this.expense.name} - $${this.expense.amount.toFixed(2)}` });
    const form = contentEl.createDiv();
    new import_obsidian.Setting(form).setName("Confirmation Number (Optional)").addText((text) => {
      text.inputEl.id = "confirmation-number";
    });
    const buttonDiv = contentEl.createDiv("modal-button-container");
    const saveBtn = buttonDiv.createEl("button", { text: "Mark Paid", cls: "mod-cta" });
    saveBtn.onclick = async () => {
      const confirmationNumber = document.getElementById("confirmation-number").value;
      if (this.isOneTime) {
        await this.plugin.markOneTimeExpensePaid(this.expense.id, true, confirmationNumber || void 0);
      } else {
        await this.plugin.markExpensePaid(this.expense.id, this.month, true, confirmationNumber || void 0);
      }
      this.onComplete();
      this.close();
    };
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    cancelBtn.onclick = () => {
      this.close();
    };
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var HistoryModal = class extends import_obsidian.Modal {
  constructor(app, plugin, expense) {
    super(app);
    this.plugin = plugin;
    this.expense = expense;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: `Payment History: ${this.expense.name}` });
    const history = this.plugin.settings.monthlyPayments.filter((p) => p.expenseId === this.expense.id).sort((a, b) => b.month.localeCompare(a.month));
    if (history.length === 0) {
      contentEl.createEl("p", { text: "No payment history" });
    } else {
      const table = contentEl.createEl("table", { cls: "expense-history-table" });
      const thead = table.createEl("thead");
      const headerRow = thead.createEl("tr");
      headerRow.createEl("th", { text: "Month" });
      headerRow.createEl("th", { text: "Status" });
      headerRow.createEl("th", { text: "Paid Date" });
      headerRow.createEl("th", { text: "Confirmation" });
      const tbody = table.createEl("tbody");
      history.forEach((payment) => {
        const row = tbody.createEl("tr");
        row.createEl("td", { text: (0, import_obsidian.moment)(payment.month, "YYYY-MM").format("MMM YYYY") });
        row.createEl("td", { text: payment.paid ? "\u2705 Paid" : "\u2B1C Unpaid" });
        row.createEl("td", { text: payment.paidDate || "-" });
        row.createEl("td", { text: payment.confirmationNumber || "-" });
      });
    }
    const closeBtn = contentEl.createEl("button", { text: "Close" });
    closeBtn.onclick = () => this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var SupportModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.addClass("expense-tracker-support-modal");
    const header = contentEl.createEl("h2", { text: "\u{1F499} Support Monthly Expense Tracker" });
    header.style.color = "var(--interactive-accent)";
    contentEl.createEl("p", {
      text: "Thank you for considering supporting this plugin! Your support helps maintain and improve this tool."
    });
    const paypalSection = contentEl.createDiv("support-section");
    paypalSection.createEl("h3", { text: "\u{1F4B3} PayPal" });
    paypalSection.createEl("p", { text: "One-time or recurring donations via PayPal:" });
    const paypalBtn = paypalSection.createEl("a", {
      text: "\u2192 Donate via PayPal",
      href: "https://www.paypal.com/paypalme/VictorZenteno"
    });
    paypalBtn.addClass("support-link");
    const cryptoSection = contentEl.createDiv("support-section");
    cryptoSection.createEl("h3", { text: "\u{1FA99} Cryptocurrency (USDC/USDT)" });
    cryptoSection.createEl("p", { text: "Support with stablecoins on multiple networks:" });
    const cryptoAddresses = cryptoSection.createDiv("crypto-addresses");
    const usdcDiv = cryptoAddresses.createDiv("crypto-address");
    usdcDiv.createEl("strong", { text: "USDC (Base Network - Low Fees):" });
    const usdcAddress = usdcDiv.createEl("code", { text: "0x1023142d0548b63542f2a4803b6724d4c26b8bda" });
    usdcAddress.style.display = "block";
    usdcAddress.style.marginTop = "5px";
    usdcAddress.style.padding = "5px";
    usdcAddress.style.background = "var(--background-secondary)";
    usdcAddress.style.borderRadius = "4px";
    usdcAddress.style.fontSize = "0.85em";
    usdcAddress.style.wordBreak = "break-all";
    const usdcNote = usdcDiv.createEl("small", { text: "Also works on: Ethereum, Polygon, Arbitrum, Optimism" });
    usdcNote.style.display = "block";
    usdcNote.style.marginTop = "3px";
    usdcNote.style.color = "var(--text-muted)";
    const usdtDiv = cryptoAddresses.createDiv("crypto-address");
    usdtDiv.createEl("strong", { text: "USDT (Tron TRC-20 - Ultra Low Fees):" });
    const usdtAddress = usdtDiv.createEl("code", { text: "TAV7qTGgvn8GnYJfXfes73tD2dAPQJ3L2W" });
    usdtAddress.style.display = "block";
    usdtAddress.style.marginTop = "5px";
    usdtAddress.style.padding = "5px";
    usdtAddress.style.background = "var(--background-secondary)";
    usdtAddress.style.borderRadius = "4px";
    usdtAddress.style.fontSize = "0.85em";
    usdtAddress.style.wordBreak = "break-all";
    const cryptoNote = cryptoSection.createEl("p", { text: "\u26A0\uFE0F Important: Double-check the network before sending!" });
    cryptoNote.style.color = "var(--text-error)";
    cryptoNote.style.fontSize = "0.9em";
    cryptoNote.style.marginTop = "10px";
    const cryptoTip = cryptoSection.createEl("p", { text: "\u{1F4A1} Tip: Use Tron for USDT or Base for USDC to minimize fees!" });
    cryptoTip.style.fontSize = "0.9em";
    cryptoTip.style.marginTop = "5px";
    cryptoTip.style.color = "var(--text-muted)";
    const coffeeSection = contentEl.createDiv("support-section");
    coffeeSection.createEl("h3", { text: "\u2615 Buy Me a Coffee" });
    coffeeSection.createEl("p", { text: "Simple, friendly way to support:" });
    const coffeeBtn = coffeeSection.createEl("a", {
      text: "\u2192 Buy Me a Coffee",
      href: "https://buymeacoffee.com/rvzen"
    });
    coffeeBtn.addClass("support-link");
    const otherSection = contentEl.createDiv("support-section");
    otherSection.createEl("h3", { text: "\u{1F31F} Other Ways to Support" });
    const otherList = otherSection.createEl("ul");
    otherList.createEl("li", { text: "\u2B50 Star the GitHub repository" });
    otherList.createEl("li", { text: "\u{1F41B} Report bugs and issues" });
    otherList.createEl("li", { text: "\u{1F4A1} Suggest new features" });
    otherList.createEl("li", { text: "\u{1F4DD} Improve documentation" });
    otherList.createEl("li", { text: "\u{1F5E3}\uFE0F Tell others about the plugin" });
    const footer = contentEl.createDiv("support-footer");
    footer.style.marginTop = "20px";
    footer.style.padding = "15px";
    footer.style.background = "var(--background-secondary)";
    footer.style.borderRadius = "8px";
    footer.style.textAlign = "center";
    footer.createEl("p", { text: "Thank you for your support! \u{1F64F}" });
    footer.createEl("small", { text: "All donations help maintain and improve this plugin" });
    const closeBtn = contentEl.createEl("button", { text: "Close" });
    closeBtn.style.marginTop = "20px";
    closeBtn.style.width = "100%";
    closeBtn.onclick = () => this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var ReportModal = class extends import_obsidian.Modal {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    contentEl.createEl("h2", { text: "Expense Report" });
    const form = contentEl.createDiv();
    new import_obsidian.Setting(form).setName("Start Month").setDesc("YYYY-MM format").addText((text) => {
      text.setValue((0, import_obsidian.moment)().subtract(5, "months").format("YYYY-MM"));
      text.inputEl.id = "report-start";
    });
    new import_obsidian.Setting(form).setName("End Month").setDesc("YYYY-MM format").addText((text) => {
      text.setValue((0, import_obsidian.moment)().format("YYYY-MM"));
      text.inputEl.id = "report-end";
    });
    const buttonDiv = contentEl.createDiv("modal-button-container");
    const generateBtn = buttonDiv.createEl("button", { text: "Generate", cls: "mod-cta" });
    generateBtn.onclick = () => {
      this.generateReport();
    };
    const cancelBtn = buttonDiv.createEl("button", { text: "Cancel" });
    cancelBtn.onclick = () => {
      this.close();
    };
  }
  async generateReport() {
    const startMonth = document.getElementById("report-start").value;
    const endMonth = document.getElementById("report-end").value;
    const report = this.buildReport(startMonth, endMonth);
    const folderPath = `${this.plugin.settings.monthlyNotesFolder}/Expense Reports`;
    const fileName = `Expense Report ${startMonth} to ${endMonth}.md`;
    const filePath = `${folderPath}/${fileName}`;
    try {
      const folder = this.app.vault.getAbstractFileByPath(folderPath);
      if (!folder) {
        await this.app.vault.createFolder(folderPath);
      }
      const existingFile = this.app.vault.getAbstractFileByPath(filePath);
      if (existingFile instanceof import_obsidian.TFile) {
        await this.app.vault.modify(existingFile, report);
        new import_obsidian.Notice("Report updated");
      } else {
        await this.app.vault.create(filePath, report);
        new import_obsidian.Notice("Report generated");
      }
      this.close();
    } catch (error) {
      console.error("Error creating report:", error);
      new import_obsidian.Notice("Error creating report");
    }
  }
  buildReport(startMonth, endMonth) {
    let report = `# Expense Report

`;
    report += `**Period:** ${(0, import_obsidian.moment)(startMonth, "YYYY-MM").format("MMM YYYY")} - ${(0, import_obsidian.moment)(endMonth, "YYYY-MM").format("MMM YYYY")}

`;
    report += `**Generated:** ${(0, import_obsidian.moment)().format("YYYY-MM-DD HH:mm")}

---

`;
    const start = (0, import_obsidian.moment)(startMonth, "YYYY-MM");
    const end = (0, import_obsidian.moment)(endMonth, "YYYY-MM");
    let totalAmount = 0;
    let totalPaid = 0;
    let totalUnpaid = 0;
    report += `## Monthly Breakdown

`;
    let current = start.clone();
    while (current.isSameOrBefore(end)) {
      const month = current.format("YYYY-MM");
      const recurringExpenses = this.plugin.getExpensesForMonth(month);
      const oneTimeExpenses = this.plugin.getOneTimeExpensesForMonth(month);
      const recurringTotal = recurringExpenses.reduce((sum, e) => sum + e.amount, 0);
      const recurringPaid = recurringExpenses.filter((e) => {
        const payment = this.plugin.getPayment(e.id, month);
        return payment == null ? void 0 : payment.paid;
      }).reduce((sum, e) => sum + e.amount, 0);
      const oneTimeTotal = oneTimeExpenses.reduce((sum, e) => sum + e.amount, 0);
      const oneTimePaid = oneTimeExpenses.filter((e) => e.paid).reduce((sum, e) => sum + e.amount, 0);
      const monthTotal = recurringTotal + oneTimeTotal;
      const monthPaid = recurringPaid + oneTimePaid;
      const monthUnpaid = monthTotal - monthPaid;
      totalAmount += monthTotal;
      totalPaid += monthPaid;
      totalUnpaid += monthUnpaid;
      report += `### ${current.format("MMMM YYYY")}

`;
      report += `- Total: $${monthTotal.toFixed(2)}
`;
      report += `- Paid: $${monthPaid.toFixed(2)}
`;
      report += `- Unpaid: $${monthUnpaid.toFixed(2)}
`;
      report += `- Recurring Expenses: ${recurringExpenses.length}
`;
      report += `- One-Time Expenses: ${oneTimeExpenses.length}

`;
      current.add(1, "month");
    }
    report += `## Summary

`;
    report += `- **Total Amount:** $${totalAmount.toFixed(2)}
`;
    report += `- **Total Paid:** $${totalPaid.toFixed(2)}
`;
    report += `- **Total Unpaid:** $${totalUnpaid.toFixed(2)}
`;
    report += `- **Payment Rate:** ${totalAmount > 0 ? (totalPaid / totalAmount * 100).toFixed(1) : 0}%

`;
    report += `## Recurring Expense Breakdown

`;
    const allExpenses = this.plugin.settings.recurringExpenses.filter((e) => !e.archived);
    allExpenses.forEach((expense) => {
      const payments = this.plugin.settings.monthlyPayments.filter(
        (p) => p.expenseId === expense.id && (0, import_obsidian.moment)(p.month, "YYYY-MM").isBetween(start, end, null, "[]")
      );
      const paidCount = payments.filter((p) => p.paid).length;
      const totalCount = payments.length;
      report += `### ${expense.name}

`;
      report += `- Amount: $${expense.amount.toFixed(2)}
`;
      report += `- Payment Method: ${expense.paymentMethod}
`;
      report += `- Paid: ${paidCount}/${totalCount} months
`;
      report += `- Total Paid: $${(paidCount * expense.amount).toFixed(2)}

`;
    });
    report += `## One-Time Expenses List

`;
    const allOneTime = this.plugin.settings.oneTimeExpenses.filter(
      (e) => (0, import_obsidian.moment)(e.date).isBetween(start, end, null, "[]")
    ).sort((a, b) => a.date.localeCompare(b.date));
    if (allOneTime.length > 0) {
      allOneTime.forEach((e) => {
        const status = e.paid ? "Paid" : "Unpaid";
        report += `- ${e.date}: **${e.name}** - $${e.amount.toFixed(2)} (${status})
`;
      });
    } else {
      report += `No one-time expenses in this period.
`;
    }
    return report;
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var ExpenseTrackerSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Monthly Expense Tracker Settings" });
    const supportSection = containerEl.createDiv("expense-tracker-support-section");
    supportSection.style.padding = "20px";
    supportSection.style.marginBottom = "20px";
    supportSection.style.background = "var(--background-secondary)";
    supportSection.style.borderRadius = "8px";
    supportSection.style.border = "2px solid var(--interactive-accent)";
    const supportHeader = supportSection.createEl("h3", { text: "\u{1F499} Support This Plugin" });
    supportHeader.style.marginTop = "0";
    supportHeader.style.color = "var(--interactive-accent)";
    supportSection.createEl("p", {
      text: "If you find this plugin helpful, consider supporting its development!"
    });
    const supportLinks = supportSection.createDiv();
    supportLinks.style.display = "flex";
    supportLinks.style.gap = "10px";
    supportLinks.style.flexWrap = "wrap";
    supportLinks.style.marginTop = "10px";
    const paypalBtn = supportLinks.createEl("a", {
      text: "\u{1F4B3} PayPal",
      href: "https://www.paypal.com/paypalme/VictorZenteno"
    });
    paypalBtn.style.cssText = "padding: 8px 16px; background: var(--interactive-accent); color: var(--text-on-accent); border-radius: 4px; text-decoration: none; font-weight: 600;";
    const cryptoBtn = supportLinks.createEl("button", {
      text: "\u{1FA99} USDC/USDT"
    });
    cryptoBtn.style.cssText = "padding: 8px 16px; background: var(--interactive-accent); color: var(--text-on-accent); border-radius: 4px; text-decoration: none; font-weight: 600; cursor: pointer; border: none;";
    cryptoBtn.onclick = () => {
      new SupportModal(this.app).open();
    };
    const coffeeBtn = supportLinks.createEl("a", {
      text: "\u2615 Coffee",
      href: "https://buymeacoffee.com/rvzen"
    });
    coffeeBtn.style.cssText = "padding: 8px 16px; background: var(--interactive-accent); color: var(--text-on-accent); border-radius: 4px; text-decoration: none; font-weight: 600;";
    const supportNote = supportSection.createEl("p", {
      text: "Your support helps maintain and improve this plugin. Thank you! \u{1F64F}"
    });
    supportNote.style.marginBottom = "0";
    supportNote.style.fontSize = "0.9em";
    supportNote.style.color = "var(--text-muted)";
    supportNote.style.marginTop = "10px";
    containerEl.createEl("hr", { cls: "expense-tracker-divider" });
    containerEl.createEl("h2", { text: "Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Monthly Notes Folder").setDesc("Folder where monthly expense notes will be created").addText((text) => text.setValue(this.plugin.settings.monthlyNotesFolder).onChange(async (value) => {
      this.plugin.settings.monthlyNotesFolder = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Auto-create Monthly Notes").setDesc("Automatically create monthly notes when a new month begins").addToggle((toggle) => toggle.setValue(this.plugin.settings.autoCreateMonthlyNotes).onChange(async (value) => {
      this.plugin.settings.autoCreateMonthlyNotes = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Show Status Bar").setDesc("Display unpaid expense count in status bar").addToggle((toggle) => toggle.setValue(this.plugin.settings.showStatusBar).onChange(async (value) => {
      this.plugin.settings.showStatusBar = value;
      await this.plugin.saveSettings();
      if (value && !this.plugin.statusBarItem) {
        this.plugin.statusBarItem = this.plugin.addStatusBarItem();
        this.plugin.updateStatusBar();
      } else if (!value && this.plugin.statusBarItem) {
        this.plugin.statusBarItem.remove();
      }
    }));
    new import_obsidian.Setting(containerEl).setName("Monthly Note Template").setDesc("Template for monthly notes. Use {{month}} and {{expenses}} as placeholders.").addTextArea((text) => {
      text.setValue(this.plugin.settings.monthlyNoteTemplate);
      text.inputEl.rows = 10;
      text.inputEl.cols = 50;
      text.onChange(async (value) => {
        this.plugin.settings.monthlyNoteTemplate = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgUGx1Z2luLFxuICAgIFBsdWdpblNldHRpbmdUYWIsXG4gICAgU2V0dGluZyxcbiAgICBURmlsZSxcbiAgICBXb3Jrc3BhY2VMZWFmLFxuICAgIEl0ZW1WaWV3LFxuICAgIE5vdGljZSxcbiAgICBNb2RhbCxcbiAgICBtb21lbnQsXG4gICAgTWVudVxufSBmcm9tICdvYnNpZGlhbic7XG5cbmludGVyZmFjZSBSZWN1cnJpbmdFeHBlbnNlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBkdWVEYXk6IG51bWJlcjsgLy8gRGF5IG9mIG1vbnRoICgxLTMxKVxuICAgIHBheW1lbnRNZXRob2Q6IHN0cmluZztcbiAgICBzdGFydERhdGU6IHN0cmluZzsgLy8gWVlZWS1NTSBmb3JtYXRcbiAgICBlbmREYXRlPzogc3RyaW5nOyAvLyBZWVlZLU1NIGZvcm1hdCwgb3B0aW9uYWxcbiAgICBhcmNoaXZlZDogYm9vbGVhbjtcbiAgICBjYXRlZ29yeT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE9uZVRpbWVFeHBlbnNlIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBkYXRlOiBzdHJpbmc7IC8vIFlZWVktTU0tRERcbiAgICBwYXltZW50TWV0aG9kOiBzdHJpbmc7XG4gICAgcGFpZDogYm9vbGVhbjtcbiAgICBwYWlkRGF0ZT86IHN0cmluZztcbiAgICBjYXRlZ29yeT86IHN0cmluZztcbiAgICBjb25maXJtYXRpb25OdW1iZXI/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNb250aGx5UGF5bWVudCB7XG4gICAgZXhwZW5zZUlkOiBzdHJpbmc7XG4gICAgbW9udGg6IHN0cmluZzsgLy8gWVlZWS1NTSBmb3JtYXRcbiAgICBwYWlkOiBib29sZWFuO1xuICAgIHBhaWREYXRlPzogc3RyaW5nO1xuICAgIGNvbmZpcm1hdGlvbk51bWJlcj86IHN0cmluZztcbiAgICBub3Rlcz86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEV4cGVuc2VUcmFja2VyU2V0dGluZ3Mge1xuICAgIHJlY3VycmluZ0V4cGVuc2VzOiBSZWN1cnJpbmdFeHBlbnNlW107XG4gICAgb25lVGltZUV4cGVuc2VzOiBPbmVUaW1lRXhwZW5zZVtdO1xuICAgIG1vbnRobHlQYXltZW50czogTW9udGhseVBheW1lbnRbXTtcbiAgICBtb250aGx5Tm90ZXNGb2xkZXI6IHN0cmluZztcbiAgICBtb250aGx5Tm90ZVRlbXBsYXRlOiBzdHJpbmc7XG4gICAgYXV0b0NyZWF0ZU1vbnRobHlOb3RlczogYm9vbGVhbjtcbiAgICBzaG93U3RhdHVzQmFyOiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBFeHBlbnNlVHJhY2tlclNldHRpbmdzID0ge1xuICAgIHJlY3VycmluZ0V4cGVuc2VzOiBbXSxcbiAgICBvbmVUaW1lRXhwZW5zZXM6IFtdLFxuICAgIG1vbnRobHlQYXltZW50czogW10sXG4gICAgbW9udGhseU5vdGVzRm9sZGVyOiAnTW9udGhseSBFeHBlbnNlcycsXG4gICAgbW9udGhseU5vdGVUZW1wbGF0ZTogJyMge3ttb250aH19IC0gTW9udGhseSBFeHBlbnNlc1xcblxcbiMjIEV4cGVuc2UgVHJhY2tlclxcblxcbnt7ZXhwZW5zZXN9fVxcblxcbi0tLVxcbipHZW5lcmF0ZWQgYnkgTW9udGhseSBFeHBlbnNlIFRyYWNrZXIqJyxcbiAgICBhdXRvQ3JlYXRlTW9udGhseU5vdGVzOiB0cnVlLFxuICAgIHNob3dTdGF0dXNCYXI6IHRydWVcbn07XG5cbmNvbnN0IFZJRVdfVFlQRV9EQVNIQk9BUkQgPSAnZXhwZW5zZS10cmFja2VyLWRhc2hib2FyZCc7XG5jb25zdCBWSUVXX1RZUEVfQ0FMRU5EQVIgPSAnZXhwZW5zZS10cmFja2VyLWNhbGVuZGFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBzZXR0aW5nczogRXhwZW5zZVRyYWNrZXJTZXR0aW5ncztcbiAgICBzdGF0dXNCYXJJdGVtOiBIVE1MRWxlbWVudDtcblxuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgICAgICAvLyBSZWdpc3RlciB2aWV3c1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhcbiAgICAgICAgICAgIFZJRVdfVFlQRV9EQVNIQk9BUkQsXG4gICAgICAgICAgICAobGVhZikgPT4gbmV3IERhc2hib2FyZFZpZXcobGVhZiwgdGhpcylcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBBZGQgcmliYm9uIGljb25cbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCd3YWxsZXQnLCAnTW9udGhseSBFeHBlbnNlIFRyYWNrZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlRGFzaGJvYXJkVmlldygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgY29tbWFuZHNcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnb3Blbi1leHBlbnNlLWRhc2hib2FyZCcsXG4gICAgICAgICAgICBuYW1lOiAnT3BlbiBFeHBlbnNlIERhc2hib2FyZCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVEYXNoYm9hcmRWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogJ2FkZC1yZWN1cnJpbmctZXhwZW5zZScsXG4gICAgICAgICAgICBuYW1lOiAnQWRkIEV4cGVuc2UnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBuZXcgQWRkRXhwZW5zZU1vZGFsKHRoaXMuYXBwLCB0aGlzLCBudWxsKS5vcGVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogJ2NyZWF0ZS1jdXJyZW50LW1vbnRoLW5vdGUnLFxuICAgICAgICAgICAgbmFtZTogJ0NyZWF0ZSBDdXJyZW50IE1vbnRoIE5vdGUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TW9udGggPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZU1vbnRobHlOb3RlKGN1cnJlbnRNb250aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogJ2dlbmVyYXRlLWV4cGVuc2UtcmVwb3J0JyxcbiAgICAgICAgICAgIG5hbWU6ICdHZW5lcmF0ZSBFeHBlbnNlIFJlcG9ydCcsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIG5ldyBSZXBvcnRNb2RhbCh0aGlzLmFwcCwgdGhpcykub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTdGF0dXMgYmFyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dTdGF0dXNCYXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbSA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF1dG8tY3JlYXRlIG1vbnRobHkgbm90ZSBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYXV0b0NyZWF0ZU1vbnRobHlOb3Rlcykge1xuICAgICAgICAgICAgdGhpcy5jaGVja0FuZENyZWF0ZU1vbnRobHlOb3RlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXR0aW5ncyB0YWJcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBFeHBlbnNlVHJhY2tlclNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnTW9udGhseSBFeHBlbnNlIFRyYWNrZXIgcGx1Z2luIGxvYWRlZCcpO1xuICAgIH1cblxuICAgIGFzeW5jIGFjdGl2YXRlRGFzaGJvYXJkVmlldygpIHtcbiAgICAgICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXG4gICAgICAgIGxldCBsZWFmID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfREFTSEJPQVJEKVswXTtcblxuICAgICAgICBpZiAoIWxlYWYpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0xlYWYgPSB3b3Jrc3BhY2UuZ2V0TGVhZigndGFiJyk7XG4gICAgICAgICAgICBpZiAobmV3TGVhZikge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ld0xlYWYuc2V0Vmlld1N0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogVklFV19UWVBFX0RBU0hCT0FSRCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGVhZiA9IG5ld0xlYWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVhZikge1xuICAgICAgICAgICAgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjaGVja0FuZENyZWF0ZU1vbnRobHlOb3RlKCkge1xuICAgICAgICBjb25zdCBjdXJyZW50TW9udGggPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgY29uc3QgbW9udGhseU5vdGUgPSBhd2FpdCB0aGlzLmdldE1vbnRobHlOb3RlRmlsZShjdXJyZW50TW9udGgpO1xuXG4gICAgICAgIGlmICghbW9udGhseU5vdGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlTW9udGhseU5vdGUoY3VycmVudE1vbnRoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZU1vbnRobHlOb3RlKG1vbnRoOiBzdHJpbmcpOiBQcm9taXNlPFRGaWxlPiB7XG4gICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSB0aGlzLnNldHRpbmdzLm1vbnRobHlOb3Rlc0ZvbGRlcjtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHttb250aH0ubWRgO1xuICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGAke2ZvbGRlclBhdGh9LyR7ZmlsZU5hbWV9YDtcblxuICAgICAgICAvLyBFbnN1cmUgZm9sZGVyIGV4aXN0c1xuICAgICAgICBjb25zdCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZm9sZGVyUGF0aCk7XG4gICAgICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoZm9sZGVyUGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBmaWxlIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGxldCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKTtcbiAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShgTW9udGhseSBub3RlIGZvciAke21vbnRofSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgcmVjdXJyaW5nIGV4cGVuc2VzIGZvciB0aGlzIG1vbnRoXG4gICAgICAgIGNvbnN0IGV4cGVuc2VzID0gdGhpcy5nZXRFeHBlbnNlc0Zvck1vbnRoKG1vbnRoKTtcblxuICAgICAgICAvLyBHZXQgb25lLXRpbWUgZXhwZW5zZXMgZm9yIHRoaXMgbW9udGhcbiAgICAgICAgY29uc3Qgb25lVGltZUV4cGVuc2VzID0gdGhpcy5nZXRPbmVUaW1lRXhwZW5zZXNGb3JNb250aChtb250aCk7XG5cbiAgICAgICAgLy8gQ29weSB1bnBhaWQgZXhwZW5zZXMgZnJvbSBwcmV2aW91cyBtb250aFxuICAgICAgICBjb25zdCBwcmV2TW9udGggPSBtb21lbnQobW9udGgsICdZWVlZLU1NJykuc3VidHJhY3QoMSwgJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NJyk7XG4gICAgICAgIGNvbnN0IHVucGFpZEZyb21QcmV2ID0gdGhpcy5nZXRVbnBhaWRFeHBlbnNlcyhwcmV2TW9udGgpO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIGV4cGVuc2UgbGlzdFxuICAgICAgICBsZXQgZXhwZW5zZUxpc3QgPSAnIyMgUmVjdXJyaW5nIEV4cGVuc2VzXFxuXFxuJztcbiAgICAgICAgZXhwZW5zZXMuZm9yRWFjaChleHBlbnNlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnQgPSB0aGlzLmdldFBheW1lbnQoZXhwZW5zZS5pZCwgbW9udGgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcGF5bWVudD8ucGFpZCA/ICd4JyA6ICcgJztcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0ljb24gPSBwYXltZW50Py5wYWlkID8gJ1x1MjcwNScgOiAnXHUyQjFDJztcbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAtIFske3N0YXR1c31dICR7c3RhdHVzSWNvbn0gKioke2V4cGVuc2UubmFtZX0qKiAtICQke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IC0gRHVlOiAke2V4cGVuc2UuZHVlRGF5fSAtIE1ldGhvZDogJHtleHBlbnNlLnBheW1lbnRNZXRob2R9XFxuYDtcbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAgIC0gSUQ6IFxcYCR7ZXhwZW5zZS5pZH1cXGBcXG5gO1xuICAgICAgICAgICAgaWYgKHBheW1lbnQ/LmNvbmZpcm1hdGlvbk51bWJlcikge1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAgIC0gQ29uZmlybWF0aW9uOiAke3BheW1lbnQuY29uZmlybWF0aW9uTnVtYmVyfVxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBlbnNlTGlzdCArPSAnXFxuJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9uZVRpbWVFeHBlbnNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBleHBlbnNlTGlzdCArPSAnIyMgT25lLVRpbWUgRXhwZW5zZXNcXG5cXG4nO1xuICAgICAgICAgICAgb25lVGltZUV4cGVuc2VzLmZvckVhY2goZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZXhwZW5zZS5wYWlkID8gJ3gnIDogJyAnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0ljb24gPSBleHBlbnNlLnBhaWQgPyAnXHUyNzA1JyA6ICdcdTJCMUMnO1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAtIFske3N0YXR1c31dICR7c3RhdHVzSWNvbn0gKioke2V4cGVuc2UubmFtZX0qKiAtICQke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IC0gRGF0ZTogJHtleHBlbnNlLmRhdGV9IC0gTWV0aG9kOiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cXG5gO1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAgIC0gSUQ6IFxcYCR7ZXhwZW5zZS5pZH1cXGBcXG5gO1xuICAgICAgICAgICAgICAgIGlmIChleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBleHBlbnNlTGlzdCArPSBgICAtIENvbmZpcm1hdGlvbjogJHtleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlcn1cXG5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleHBlbnNlTGlzdCArPSAnXFxuJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVucGFpZEZyb21QcmV2Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9ICdcXG4jIyBVbnBhaWQgZnJvbSBQcmV2aW91cyBNb250aFxcblxcbic7XG4gICAgICAgICAgICB1bnBhaWRGcm9tUHJldi5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0ICs9IGAtIFsgXSBcdTI2QTBcdUZFMEYgKioke2V4cGVuc2UubmFtZX0qKiAtICQke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IC0gT1ZFUkRVRVxcbmA7XG4gICAgICAgICAgICAgICAgZXhwZW5zZUxpc3QgKz0gYCAgLSBJRDogXFxgJHtleHBlbnNlLmlkfVxcYFxcblxcbmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIG5vIGV4cGVuc2VzLCBhZGQgYSBoZWxwZnVsIG1lc3NhZ2VcbiAgICAgICAgaWYgKGV4cGVuc2VzLmxlbmd0aCA9PT0gMCAmJiBvbmVUaW1lRXhwZW5zZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBleHBlbnNlTGlzdCArPSAnXFxuKk5vIGV4cGVuc2VzIHNldCB1cCBmb3IgdGhpcyBtb250aCB5ZXQuIENsaWNrIFwiKiorIEFkZCBFeHBlbnNlKipcIiBpbiB0aGUgZGFzaGJvYXJkIHRvIGFkZCBleHBlbnNlcy4qXFxuXFxuJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdlbmVyYXRlIGNvbnRlbnQgZnJvbSB0ZW1wbGF0ZVxuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5zZXR0aW5ncy5tb250aGx5Tm90ZVRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne3ttb250aH19JywgbW9tZW50KG1vbnRoLCAnWVlZWS1NTScpLmZvcm1hdCgnTU1NTSBZWVlZJykpXG4gICAgICAgICAgICAucmVwbGFjZSgne3tleHBlbnNlc319JywgZXhwZW5zZUxpc3QpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBmaWxlXG4gICAgICAgIGZpbGUgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIGNvbnRlbnQpO1xuICAgICAgICBuZXcgTm90aWNlKGBDcmVhdGVkIG1vbnRobHkgbm90ZSBmb3IgJHttb250aH1gKTtcblxuICAgICAgICByZXR1cm4gZmlsZSBhcyBURmlsZTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRNb250aGx5Tm90ZUZpbGUobW9udGg6IHN0cmluZyk6IFByb21pc2U8VEZpbGUgfCBudWxsPiB7XG4gICAgICAgIGNvbnN0IGZpbGVQYXRoID0gYCR7dGhpcy5zZXR0aW5ncy5tb250aGx5Tm90ZXNGb2xkZXJ9LyR7bW9udGh9Lm1kYDtcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG4gICAgICAgIHJldHVybiBmaWxlIGluc3RhbmNlb2YgVEZpbGUgPyBmaWxlIDogbnVsbDtcbiAgICB9XG5cbiAgICBnZXRFeHBlbnNlc0Zvck1vbnRoKG1vbnRoOiBzdHJpbmcpOiBSZWN1cnJpbmdFeHBlbnNlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5yZWN1cnJpbmdFeHBlbnNlcy5maWx0ZXIoZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICBpZiAoZXhwZW5zZS5hcmNoaXZlZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBleHBlbnNlU3RhcnQgPSBtb21lbnQoZXhwZW5zZS5zdGFydERhdGUsICdZWVlZLU1NJyk7XG4gICAgICAgICAgICBjb25zdCBleHBlbnNlRW5kID0gZXhwZW5zZS5lbmREYXRlID8gbW9tZW50KGV4cGVuc2UuZW5kRGF0ZSwgJ1lZWVktTU0nKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBjaGVja01vbnRoID0gbW9tZW50KG1vbnRoLCAnWVlZWS1NTScpO1xuXG4gICAgICAgICAgICBjb25zdCBhZnRlclN0YXJ0ID0gY2hlY2tNb250aC5pc1NhbWVPckFmdGVyKGV4cGVuc2VTdGFydCk7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmVFbmQgPSAhZXhwZW5zZUVuZCB8fCBjaGVja01vbnRoLmlzU2FtZU9yQmVmb3JlKGV4cGVuc2VFbmQpO1xuXG4gICAgICAgICAgICByZXR1cm4gYWZ0ZXJTdGFydCAmJiBiZWZvcmVFbmQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFVucGFpZEV4cGVuc2VzKG1vbnRoOiBzdHJpbmcpOiBSZWN1cnJpbmdFeHBlbnNlW10ge1xuICAgICAgICBjb25zdCBleHBlbnNlcyA9IHRoaXMuZ2V0RXhwZW5zZXNGb3JNb250aChtb250aCk7XG4gICAgICAgIHJldHVybiBleHBlbnNlcy5maWx0ZXIoZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50ID0gdGhpcy5nZXRQYXltZW50KGV4cGVuc2UuaWQsIG1vbnRoKTtcbiAgICAgICAgICAgIHJldHVybiAhcGF5bWVudCB8fCAhcGF5bWVudC5wYWlkO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRQYXltZW50KGV4cGVuc2VJZDogc3RyaW5nLCBtb250aDogc3RyaW5nKTogTW9udGhseVBheW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tb250aGx5UGF5bWVudHMuZmluZChcbiAgICAgICAgICAgIHAgPT4gcC5leHBlbnNlSWQgPT09IGV4cGVuc2VJZCAmJiBwLm1vbnRoID09PSBtb250aFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIG1hcmtFeHBlbnNlUGFpZChleHBlbnNlSWQ6IHN0cmluZywgbW9udGg6IHN0cmluZywgcGFpZDogYm9vbGVhbiwgY29uZmlybWF0aW9uTnVtYmVyPzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUGF5bWVudCA9IHRoaXMuZ2V0UGF5bWVudChleHBlbnNlSWQsIG1vbnRoKTtcblxuICAgICAgICBpZiAoZXhpc3RpbmdQYXltZW50KSB7XG4gICAgICAgICAgICBleGlzdGluZ1BheW1lbnQucGFpZCA9IHBhaWQ7XG4gICAgICAgICAgICBleGlzdGluZ1BheW1lbnQucGFpZERhdGUgPSBwYWlkID8gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBleGlzdGluZ1BheW1lbnQuY29uZmlybWF0aW9uTnVtYmVyID0gY29uZmlybWF0aW9uTnVtYmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tb250aGx5UGF5bWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZW5zZUlkLFxuICAgICAgICAgICAgICAgIG1vbnRoLFxuICAgICAgICAgICAgICAgIHBhaWQsXG4gICAgICAgICAgICAgICAgcGFpZERhdGU6IHBhaWQgPyBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25OdW1iZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRSZWN1cnJpbmdFeHBlbnNlKGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5yZWN1cnJpbmdFeHBlbnNlcy5wdXNoKGV4cGVuc2UpO1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICBuZXcgTm90aWNlKGBBZGRlZCByZWN1cnJpbmcgZXhwZW5zZTogJHtleHBlbnNlLm5hbWV9YCk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkT25lVGltZUV4cGVuc2UoZXhwZW5zZTogT25lVGltZUV4cGVuc2UpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5vbmVUaW1lRXhwZW5zZXMucHVzaChleHBlbnNlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgbmV3IE5vdGljZShgQWRkZWQgb25lLXRpbWUgZXhwZW5zZTogJHtleHBlbnNlLm5hbWV9YCk7XG4gICAgfVxuXG4gICAgZ2V0T25lVGltZUV4cGVuc2VzRm9yTW9udGgobW9udGg6IHN0cmluZyk6IE9uZVRpbWVFeHBlbnNlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmVUaW1lRXhwZW5zZXMuZmlsdGVyKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhwZW5zZURhdGUgPSBtb21lbnQoZXhwZW5zZS5kYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBleHBlbnNlRGF0ZS5mb3JtYXQoJ1lZWVktTU0nKSA9PT0gbW9udGg7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIG1hcmtPbmVUaW1lRXhwZW5zZVBhaWQoZXhwZW5zZUlkOiBzdHJpbmcsIHBhaWQ6IGJvb2xlYW4sIGNvbmZpcm1hdGlvbk51bWJlcj86IHN0cmluZykge1xuICAgICAgICBjb25zdCBleHBlbnNlID0gdGhpcy5zZXR0aW5ncy5vbmVUaW1lRXhwZW5zZXMuZmluZChlID0+IGUuaWQgPT09IGV4cGVuc2VJZCk7XG4gICAgICAgIGlmIChleHBlbnNlKSB7XG4gICAgICAgICAgICBleHBlbnNlLnBhaWQgPSBwYWlkO1xuICAgICAgICAgICAgZXhwZW5zZS5wYWlkRGF0ZSA9IHBhaWQgPyBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChjb25maXJtYXRpb25OdW1iZXIpIGV4cGVuc2UuY29uZmlybWF0aW9uTnVtYmVyID0gY29uZmlybWF0aW9uTnVtYmVyO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdHVzQmFyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVPbmVUaW1lRXhwZW5zZShleHBlbnNlOiBPbmVUaW1lRXhwZW5zZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc2V0dGluZ3Mub25lVGltZUV4cGVuc2VzLmZpbmRJbmRleChlID0+IGUuaWQgPT09IGV4cGVuc2UuaWQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm9uZVRpbWVFeHBlbnNlc1tpbmRleF0gPSBleHBlbnNlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFVwZGF0ZWQgZXhwZW5zZTogJHtleHBlbnNlLm5hbWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBkZWxldGVPbmVUaW1lRXhwZW5zZShleHBlbnNlSWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNldHRpbmdzLm9uZVRpbWVFeHBlbnNlcyA9IHRoaXMuc2V0dGluZ3Mub25lVGltZUV4cGVuc2VzLmZpbHRlcihlID0+IGUuaWQgIT09IGV4cGVuc2VJZCk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ0V4cGVuc2UgZGVsZXRlZCcpO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZVJlY3VycmluZ0V4cGVuc2UoZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gZXhwZW5zZS5pZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXNbaW5kZXhdID0gZXhwZW5zZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBVcGRhdGVkIGV4cGVuc2U6ICR7ZXhwZW5zZS5uYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgYXJjaGl2ZUV4cGVuc2UoZXhwZW5zZUlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZXhwZW5zZSA9IHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMuZmluZChlID0+IGUuaWQgPT09IGV4cGVuc2VJZCk7XG4gICAgICAgIGlmIChleHBlbnNlKSB7XG4gICAgICAgICAgICBleHBlbnNlLmFyY2hpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBBcmNoaXZlZCBleHBlbnNlOiAke2V4cGVuc2UubmFtZX1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGRlbGV0ZUV4cGVuc2UoZXhwZW5zZUlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5yZWN1cnJpbmdFeHBlbnNlcyA9IHRoaXMuc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMuZmlsdGVyKGUgPT4gZS5pZCAhPT0gZXhwZW5zZUlkKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5tb250aGx5UGF5bWVudHMgPSB0aGlzLnNldHRpbmdzLm1vbnRobHlQYXltZW50cy5maWx0ZXIocCA9PiBwLmV4cGVuc2VJZCAhPT0gZXhwZW5zZUlkKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgbmV3IE5vdGljZSgnRXhwZW5zZSBkZWxldGVkJyk7XG4gICAgfVxuXG4gICAgdXBkYXRlU3RhdHVzQmFyKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdHVzQmFySXRlbSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTScpO1xuICAgICAgICBjb25zdCB1bnBhaWQgPSB0aGlzLmdldFVucGFpZEV4cGVuc2VzKGN1cnJlbnRNb250aCk7XG4gICAgICAgIGNvbnN0IHJlY3VycmluZ1RvdGFsID0gdGhpcy5nZXRFeHBlbnNlc0Zvck1vbnRoKGN1cnJlbnRNb250aCkubGVuZ3RoO1xuXG4gICAgICAgIC8vIE9uZSB0aW1lIGV4cGVuc2VzXG4gICAgICAgIGNvbnN0IG9uZVRpbWUgPSB0aGlzLmdldE9uZVRpbWVFeHBlbnNlc0Zvck1vbnRoKGN1cnJlbnRNb250aCk7XG4gICAgICAgIGNvbnN0IG9uZVRpbWVVbnBhaWQgPSBvbmVUaW1lLmZpbHRlcihlID0+ICFlLnBhaWQpO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsVW5wYWlkQ291bnQgPSB1bnBhaWQubGVuZ3RoICsgb25lVGltZVVucGFpZC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSByZWN1cnJpbmdUb3RhbCArIG9uZVRpbWUubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbFVucGFpZENvdW50ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLnRleHRDb250ZW50ID0gYFx1RDgzRFx1RENCMyAke3RvdGFsVW5wYWlkQ291bnR9LyR7dG90YWxDb3VudH0gdW5wYWlkYDtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5jbGFzc0xpc3QuYWRkKCdleHBlbnNlLXRyYWNrZXItdW5wYWlkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodG90YWxDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS50ZXh0Q29udGVudCA9IGBcdUQ4M0RcdURDQjMgQWxsIHBhaWRgO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2V4cGVuc2UtdHJhY2tlci11bnBhaWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS50ZXh0Q29udGVudCA9ICdcdUQ4M0RcdURDQjMnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCBkYXNoYm9hcmQgaWYgb3BlblxuICAgICAgICBjb25zdCBsZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9EQVNIQk9BUkQpO1xuICAgICAgICBsZWF2ZXMuZm9yRWFjaChsZWFmID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBEYXNoYm9hcmRWaWV3KSB7XG4gICAgICAgICAgICAgICAgbGVhZi52aWV3LnJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb251bmxvYWQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNb250aGx5IEV4cGVuc2UgVHJhY2tlciBwbHVnaW4gdW5sb2FkZWQnKTtcbiAgICB9XG59XG4vLyBEYXNoYm9hcmQgVmlld1xuY2xhc3MgRGFzaGJvYXJkVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcbiAgICBjdXJyZW50TW9udGg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGxlYWYpO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICB9XG5cbiAgICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gVklFV19UWVBFX0RBU0hCT0FSRDtcbiAgICB9XG5cbiAgICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ0V4cGVuc2UgRGFzaGJvYXJkJztcbiAgICB9XG5cbiAgICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnd2FsbGV0JztcbiAgICB9XG5cbiAgICBhc3luYyBvbk9wZW4oKSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cblxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XG4gICAgICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoJ2V4cGVuc2UtdHJhY2tlci1kYXNoYm9hcmQnKTtcblxuICAgICAgICAvLyBIZWFkZXJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS10cmFja2VyLWhlYWRlcicpO1xuICAgICAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTW9udGhseSBFeHBlbnNlIFRyYWNrZXInIH0pO1xuXG4gICAgICAgIC8vIE1vbnRoIHNlbGVjdG9yXG4gICAgICAgIGNvbnN0IG1vbnRoU2VsZWN0b3IgPSBjb250YWluZXIuY3JlYXRlRGl2KCdleHBlbnNlLXRyYWNrZXItbW9udGgtc2VsZWN0b3InKTtcblxuICAgICAgICBjb25zdCBwcmV2QnRuID0gbW9udGhTZWxlY3Rvci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyNUMwJyB9KTtcbiAgICAgICAgcHJldkJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSBtb21lbnQodGhpcy5jdXJyZW50TW9udGgsICdZWVlZLU1NJykuc3VidHJhY3QoMSwgJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NJyk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBtb250aERpc3BsYXkgPSBtb250aFNlbGVjdG9yLmNyZWF0ZUVsKCdzcGFuJywge1xuICAgICAgICAgICAgdGV4dDogbW9tZW50KHRoaXMuY3VycmVudE1vbnRoLCAnWVlZWS1NTScpLmZvcm1hdCgnTU1NTSBZWVlZJyksXG4gICAgICAgICAgICBjbHM6ICdleHBlbnNlLXRyYWNrZXItbW9udGgtZGlzcGxheSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IG1vbnRoU2VsZWN0b3IuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1x1MjVCNicgfSk7XG4gICAgICAgIG5leHRCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gbW9tZW50KHRoaXMuY3VycmVudE1vbnRoLCAnWVlZWS1NTScpLmFkZCgxLCAnbW9udGgnKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHRvZGF5QnRuID0gbW9udGhTZWxlY3Rvci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVG9kYXknIH0pO1xuICAgICAgICB0b2RheUJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFN1bW1hcnkgc3RhdHNcbiAgICAgICAgY29uc3QgcmVjdXJyaW5nRXhwZW5zZXMgPSB0aGlzLnBsdWdpbi5nZXRFeHBlbnNlc0Zvck1vbnRoKHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICAgICAgY29uc3Qgb25lVGltZUV4cGVuc2VzID0gdGhpcy5wbHVnaW4uZ2V0T25lVGltZUV4cGVuc2VzRm9yTW9udGgodGhpcy5jdXJyZW50TW9udGgpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbHNcbiAgICAgICAgY29uc3QgcmVjdXJyaW5nVG90YWwgPSByZWN1cnJpbmdFeHBlbnNlcy5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5hbW91bnQsIDApO1xuICAgICAgICBjb25zdCBvbmVUaW1lVG90YWwgPSBvbmVUaW1lRXhwZW5zZXMucmVkdWNlKChzdW0sIGUpID0+IHN1bSArIGUuYW1vdW50LCAwKTtcbiAgICAgICAgY29uc3QgdG90YWxBbW91bnQgPSByZWN1cnJpbmdUb3RhbCArIG9uZVRpbWVUb3RhbDtcblxuICAgICAgICBjb25zdCByZWN1cnJpbmdQYWlkID0gcmVjdXJyaW5nRXhwZW5zZXNcbiAgICAgICAgICAgIC5maWx0ZXIoZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZS5pZCwgdGhpcy5jdXJyZW50TW9udGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXltZW50Py5wYWlkO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5hbW91bnQsIDApO1xuXG4gICAgICAgIGNvbnN0IG9uZVRpbWVQYWlkID0gb25lVGltZUV4cGVuc2VzXG4gICAgICAgICAgICAuZmlsdGVyKGUgPT4gZS5wYWlkKVxuICAgICAgICAgICAgLnJlZHVjZSgoc3VtLCBlKSA9PiBzdW0gKyBlLmFtb3VudCwgMCk7XG5cbiAgICAgICAgY29uc3QgcGFpZEFtb3VudCA9IHJlY3VycmluZ1BhaWQgKyBvbmVUaW1lUGFpZDtcblxuICAgICAgICBjb25zdCByZWN1cnJpbmdVbnBhaWRDb3VudCA9IHJlY3VycmluZ0V4cGVuc2VzLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnQgPSB0aGlzLnBsdWdpbi5nZXRQYXltZW50KGUuaWQsIHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICAgICAgICAgIHJldHVybiAhcGF5bWVudCB8fCAhcGF5bWVudC5wYWlkO1xuICAgICAgICB9KS5sZW5ndGg7XG5cbiAgICAgICAgY29uc3Qgb25lVGltZVVucGFpZENvdW50ID0gb25lVGltZUV4cGVuc2VzLmZpbHRlcihlID0+ICFlLnBhaWQpLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdG90YWxVbnBhaWRDb3VudCA9IHJlY3VycmluZ1VucGFpZENvdW50ICsgb25lVGltZVVucGFpZENvdW50O1xuICAgICAgICBjb25zdCB0b3RhbENvdW50ID0gcmVjdXJyaW5nRXhwZW5zZXMubGVuZ3RoICsgb25lVGltZUV4cGVuc2VzLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBzdW1tYXJ5ID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS10cmFja2VyLXN1bW1hcnknKTtcbiAgICAgICAgc3VtbWFyeS5jcmVhdGVEaXYoJ3N1bW1hcnktaXRlbScpLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS1sYWJlbFwiPlRvdGFsIEV4cGVuc2VzOjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS12YWx1ZVwiPiR7dG90YWxDb3VudH08L3NwYW4+XG4gICAgICAgIGA7XG4gICAgICAgIHN1bW1hcnkuY3JlYXRlRGl2KCdzdW1tYXJ5LWl0ZW0nKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktbGFiZWxcIj5VbnBhaWQ6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LXZhbHVlIHVucGFpZFwiPiR7dG90YWxVbnBhaWRDb3VudH08L3NwYW4+XG4gICAgICAgIGA7XG4gICAgICAgIHN1bW1hcnkuY3JlYXRlRGl2KCdzdW1tYXJ5LWl0ZW0nKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktbGFiZWxcIj5Ub3RhbCBBbW91bnQ6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LXZhbHVlXCI+JCR7dG90YWxBbW91bnQudG9GaXhlZCgyKX08L3NwYW4+XG4gICAgICAgIGA7XG4gICAgICAgIHN1bW1hcnkuY3JlYXRlRGl2KCdzdW1tYXJ5LWl0ZW0nKS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktbGFiZWxcIj5QYWlkOjwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS12YWx1ZSBwYWlkXCI+JCR7cGFpZEFtb3VudC50b0ZpeGVkKDIpfTwvc3Bhbj5cbiAgICAgICAgYDtcblxuICAgICAgICAvLyBBY3Rpb24gYnV0dG9uc1xuICAgICAgICBjb25zdCBhY3Rpb25zID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS10cmFja2VyLWFjdGlvbnMnKTtcblxuICAgICAgICBjb25zdCBhZGRCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICcrIEFkZCBFeHBlbnNlJywgY2xzOiAnbW9kLWN0YScgfSk7XG4gICAgICAgIGFkZEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgbmV3IEFkZEV4cGVuc2VNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIG51bGwpLm9wZW4oKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjcmVhdGVOb3RlQnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0M0IENyZWF0ZSBNb250aGx5IE5vdGUnIH0pO1xuICAgICAgICBjcmVhdGVOb3RlQnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5jcmVhdGVNb250aGx5Tm90ZSh0aGlzLmN1cnJlbnRNb250aCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVwb3J0QnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0NBIEdlbmVyYXRlIFJlcG9ydCcgfSk7XG4gICAgICAgIHJlcG9ydEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgbmV3IFJlcG9ydE1vZGFsKHRoaXMuYXBwLCB0aGlzLnBsdWdpbikub3BlbigpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHN1cHBvcnRCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdcdUQ4M0RcdURDOTkgU3VwcG9ydCBQbHVnaW4nIH0pO1xuICAgICAgICBzdXBwb3J0QnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgU3VwcG9ydE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHN1cHBvcnRCdG4uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcbiAgICAgICAgc3VwcG9ydEJ0bi5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW9uLWFjY2VudCknO1xuXG5cbiAgICAgICAgLy8gRXhwZW5zZSBsaXN0XG4gICAgICAgIGNvbnN0IGV4cGVuc2VMaXN0ID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ2V4cGVuc2UtdHJhY2tlci1saXN0JyB9KTtcblxuICAgICAgICBpZiAodG90YWxDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgZXhwZW5zZUxpc3QuY3JlYXRlRGl2KCdleHBlbnNlLXRyYWNrZXItZW1wdHknKS5zZXRUZXh0KCdObyBleHBlbnNlcyBmb3IgdGhpcyBtb250aCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVW5wYWlkIFNlY3Rpb25cbiAgICAgICAgICAgIGlmICh0b3RhbFVucGFpZENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0LmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1VucGFpZCcgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZWN1cnJpbmcgVW5wYWlkXG4gICAgICAgICAgICAgICAgcmVjdXJyaW5nRXhwZW5zZXMuZmlsdGVyKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50ID0gdGhpcy5wbHVnaW4uZ2V0UGF5bWVudChlLmlkLCB0aGlzLmN1cnJlbnRNb250aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGF5bWVudD8ucGFpZDtcbiAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlY3VycmluZ0V4cGVuc2VJdGVtKGV4cGVuc2VMaXN0LCBleHBlbnNlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIE9uZS1UaW1lIFVucGFpZFxuICAgICAgICAgICAgICAgIG9uZVRpbWVFeHBlbnNlcy5maWx0ZXIoZSA9PiAhZS5wYWlkKS5mb3JFYWNoKGV4cGVuc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck9uZVRpbWVFeHBlbnNlSXRlbShleHBlbnNlTGlzdCwgZXhwZW5zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFBhaWQgU2VjdGlvblxuICAgICAgICAgICAgaWYgKHRvdGFsQ291bnQgLSB0b3RhbFVucGFpZENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIGV4cGVuc2VMaXN0LmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1BhaWQnIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVjdXJyaW5nIFBhaWRcbiAgICAgICAgICAgICAgICByZWN1cnJpbmdFeHBlbnNlcy5maWx0ZXIoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheW1lbnQgPSB0aGlzLnBsdWdpbi5nZXRQYXltZW50KGUuaWQsIHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBheW1lbnQ/LnBhaWQ7XG4gICAgICAgICAgICAgICAgfSkuZm9yRWFjaChleHBlbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJSZWN1cnJpbmdFeHBlbnNlSXRlbShleHBlbnNlTGlzdCwgZXhwZW5zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBPbmUtVGltZSBQYWlkXG4gICAgICAgICAgICAgICAgb25lVGltZUV4cGVuc2VzLmZpbHRlcihlID0+IGUucGFpZCkuZm9yRWFjaChleHBlbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJPbmVUaW1lRXhwZW5zZUl0ZW0oZXhwZW5zZUxpc3QsIGV4cGVuc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXJjaGl2ZWQgZXhwZW5zZXMgc2VjdGlvblxuICAgICAgICBjb25zdCBhcmNoaXZlZEV4cGVuc2VzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MucmVjdXJyaW5nRXhwZW5zZXMuZmlsdGVyKGUgPT4gZS5hcmNoaXZlZCk7XG4gICAgICAgIGlmIChhcmNoaXZlZEV4cGVuc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVkU2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2V4cGVuc2UtdHJhY2tlci1hcmNoaXZlZCcpO1xuICAgICAgICAgICAgY29uc3QgYXJjaGl2ZWRIZWFkZXIgPSBhcmNoaXZlZFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQXJjaGl2ZWQgRXhwZW5zZXMnIH0pO1xuICAgICAgICAgICAgYXJjaGl2ZWRIZWFkZXIuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXG4gICAgICAgICAgICBjb25zdCBhcmNoaXZlZExpc3QgPSBhcmNoaXZlZFNlY3Rpb24uY3JlYXRlRGl2KCdleHBlbnNlLXRyYWNrZXItYXJjaGl2ZWQtbGlzdCcpO1xuICAgICAgICAgICAgYXJjaGl2ZWRMaXN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIGFyY2hpdmVkSGVhZGVyLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXJjaGl2ZWRMaXN0LnN0eWxlLmRpc3BsYXkgPSBhcmNoaXZlZExpc3Quc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGFyY2hpdmVkRXhwZW5zZXMuZm9yRWFjaChleHBlbnNlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gYXJjaGl2ZWRMaXN0LmNyZWF0ZURpdignZXhwZW5zZS1pdGVtIGFyY2hpdmVkJyk7XG4gICAgICAgICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleHBlbnNlLW5hbWVcIj4ke2V4cGVuc2UubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4cGVuc2UtZGV0YWlsc1wiPiQke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IC0gJHtleHBlbnNlLnBheW1lbnRNZXRob2R9PC9kaXY+XG4gICAgICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgICAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNldFRpdGxlKCdVbmFyY2hpdmUnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlbnNlLmFyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0RlbGV0ZScpLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZUV4cGVuc2UoZXhwZW5zZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1lbnUuc2hvd0F0TW91c2VFdmVudChlIGFzIE1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclJlY3VycmluZ0V4cGVuc2VJdGVtKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UpIHtcbiAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZXhwZW5zZS5pZCwgdGhpcy5jdXJyZW50TW9udGgpO1xuICAgICAgICBjb25zdCBpc1BhaWQgPSBwYXltZW50Py5wYWlkIHx8IGZhbHNlO1xuICAgICAgICBjb25zdCBpc092ZXJkdWUgPSBleHBlbnNlLmR1ZURheSA8IHBhcnNlSW50KG1vbWVudCgpLmZvcm1hdCgnRCcpKSAmJiAhaXNQYWlkICYmIHRoaXMuY3VycmVudE1vbnRoID09PSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0nKTtcblxuICAgICAgICBjb25zdCBpdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignZXhwZW5zZS1pdGVtJyk7XG4gICAgICAgIGlmIChpc1BhaWQpIGl0ZW0uYWRkQ2xhc3MoJ3BhaWQnKTtcbiAgICAgICAgaWYgKGlzT3ZlcmR1ZSkgaXRlbS5hZGRDbGFzcygnb3ZlcmR1ZScpO1xuXG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gaXRlbS5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBpc1BhaWQ7XG4gICAgICAgIGNoZWNrYm94Lm9uY2xpY2sgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGlmICghaXNQYWlkKSB7XG4gICAgICAgICAgICAgICAgbmV3IE1hcmtQYWlkTW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBleHBlbnNlLCB0aGlzLmN1cnJlbnRNb250aCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9KS5vcGVuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLm1hcmtFeHBlbnNlUGFpZChleHBlbnNlLmlkLCB0aGlzLmN1cnJlbnRNb250aCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLmNyZWF0ZURpdignZXhwZW5zZS1jb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IG5hbWVEaXYgPSBjb250ZW50LmNyZWF0ZURpdignZXhwZW5zZS1uYW1lJyk7XG4gICAgICAgIG5hbWVEaXYuc2V0VGV4dChleHBlbnNlLm5hbWUpO1xuICAgICAgICBpZiAoaXNPdmVyZHVlKSB7XG4gICAgICAgICAgICBuYW1lRGl2LmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIFx1MjZBMFx1RkUwRiBPVkVSRFVFJywgY2xzOiAnb3ZlcmR1ZS1iYWRnZScgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZXRhaWxzID0gY29udGVudC5jcmVhdGVEaXYoJ2V4cGVuc2UtZGV0YWlscycpO1xuICAgICAgICBkZXRhaWxzLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICQke2V4cGVuc2UuYW1vdW50LnRvRml4ZWQoMil9IFx1MjAyMiBEdWU6ICR7ZXhwZW5zZS5kdWVEYXl9IFx1MjAyMiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cbiAgICAgICAgICAgICR7cGF5bWVudD8uY29uZmlybWF0aW9uTnVtYmVyID8gYDxicj5Db25maXJtYXRpb246ICR7cGF5bWVudC5jb25maXJtYXRpb25OdW1iZXJ9YCA6ICcnfVxuICAgICAgICAgICAgJHtwYXltZW50Py5wYWlkRGF0ZSA/IGA8YnI+UGFpZDogJHtwYXltZW50LnBhaWREYXRlfWAgOiAnJ31cbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBhY3Rpb25zID0gaXRlbS5jcmVhdGVEaXYoJ2V4cGVuc2UtYWN0aW9ucycpO1xuICAgICAgICB0aGlzLmFkZENvbnRleHRNZW51KGFjdGlvbnMsIGV4cGVuc2UsICdyZWN1cnJpbmcnKTtcbiAgICB9XG5cbiAgICByZW5kZXJPbmVUaW1lRXhwZW5zZUl0ZW0oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZXhwZW5zZTogT25lVGltZUV4cGVuc2UpIHtcbiAgICAgICAgY29uc3QgaXNQYWlkID0gZXhwZW5zZS5wYWlkO1xuICAgICAgICBjb25zdCBleHBlbnNlRGF0ZSA9IG1vbWVudChleHBlbnNlLmRhdGUpO1xuICAgICAgICBjb25zdCBpc092ZXJkdWUgPSBleHBlbnNlRGF0ZS5pc0JlZm9yZShtb21lbnQoKSwgJ2RheScpICYmICFpc1BhaWQ7XG5cbiAgICAgICAgY29uc3QgaXRlbSA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2V4cGVuc2UtaXRlbScpO1xuICAgICAgICBpZiAoaXNQYWlkKSBpdGVtLmFkZENsYXNzKCdwYWlkJyk7XG4gICAgICAgIGlmIChpc092ZXJkdWUpIGl0ZW0uYWRkQ2xhc3MoJ292ZXJkdWUnKTtcblxuICAgICAgICBjb25zdCBjaGVja2JveCA9IGl0ZW0uY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0pO1xuICAgICAgICBjaGVja2JveC5jaGVja2VkID0gaXNQYWlkO1xuICAgICAgICBjaGVja2JveC5vbmNsaWNrID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIWlzUGFpZCkge1xuICAgICAgICAgICAgICAgIC8vIEZvciBvbmUtdGltZSBleHBlbnNlcywgd2UgY2FuIGp1c3QgbWFyay91bm1hcmsgZGlyZWN0bHkgb3IgYXNrIGZvciBjb25maXJtYXRpb24gaWYgbmVlZGVkXG4gICAgICAgICAgICAgICAgLy8gUmV1c2luZyBNYXJrUGFpZE1vZGFsIGxvZ2ljIGJ1dCBhZGFwdGVkIGNvdWxkIGJlIGNvbXBsZXgsIFxuICAgICAgICAgICAgICAgIC8vIHNpbXBsZXIgdG8ganVzdCB0b2dnbGUgb3IgdXNlIGEgcHJvbXB0IGlmIGNvbmZpcm1hdGlvbiAjIGlzIG5lZWRlZC5cbiAgICAgICAgICAgICAgICAvLyBMZXQncyBpbXBsZW1lbnQgYSBkaXJlY3QgdG9nZ2xlIHdpdGggb3B0aW9uYWwgcHJvbXB0IGZvciBub3cgb3IgY3VzdG9tIG1vZGFsLlxuICAgICAgICAgICAgICAgIC8vIFRvIGtlZXAgaXQgc2ltcGxlIGZvciBub3csIGRpcmVjdCB1cGRhdGUuIFxuICAgICAgICAgICAgICAgIC8vIEFjdHVhbGx5LCBsZXQncyBhbGxvdyBhZGRpbmcgY29uZmlybWF0aW9uIG51bWJlci5cblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHNpbXBsZSBvbmUtdGltZSBwYXltZW50IG1vZGFsIG9yIHJldXNlIGxvZ2ljP1xuICAgICAgICAgICAgICAgIC8vIFJldXNlIE1hcmtQYWlkTW9kYWwgbWlnaHQgYmUgdHJpY2t5IGR1ZSB0byB0eXBlcy5cbiAgICAgICAgICAgICAgICAvLyBMZXQncyBtYWtlIGEgbWluaS1tb2RhbCBvbiB0aGUgZmx5IG9yIGp1c3QgdXBkYXRlLlxuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4ubWFya09uZVRpbWVFeHBlbnNlUGFpZChleHBlbnNlLmlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4ubWFya09uZVRpbWVFeHBlbnNlUGFpZChleHBlbnNlLmlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29udGVudCA9IGl0ZW0uY3JlYXRlRGl2KCdleHBlbnNlLWNvbnRlbnQnKTtcbiAgICAgICAgY29uc3QgbmFtZURpdiA9IGNvbnRlbnQuY3JlYXRlRGl2KCdleHBlbnNlLW5hbWUnKTtcbiAgICAgICAgbmFtZURpdi5zZXRUZXh0KGV4cGVuc2UubmFtZSk7XG4gICAgICAgIG5hbWVEaXYuY3JlYXRlU3Bhbih7IHRleHQ6ICcgKE9uZS1UaW1lKScsIGNsczogJ2V4cGVuc2UtdHlwZS1iYWRnZScsIHN0eWxlOiAnZm9udC1zaXplOiAwLjhlbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyBtYXJnaW4tbGVmdDogNXB4OycgfSk7XG5cbiAgICAgICAgaWYgKGlzT3ZlcmR1ZSkge1xuICAgICAgICAgICAgbmFtZURpdi5jcmVhdGVTcGFuKHsgdGV4dDogJyBcdTI2QTBcdUZFMEYgT1ZFUkRVRScsIGNsczogJ292ZXJkdWUtYmFkZ2UnIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGV0YWlscyA9IGNvbnRlbnQuY3JlYXRlRGl2KCdleHBlbnNlLWRldGFpbHMnKTtcbiAgICAgICAgZGV0YWlscy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAkJHtleHBlbnNlLmFtb3VudC50b0ZpeGVkKDIpfSBcdTIwMjIgRGF0ZTogJHtleHBlbnNlLmRhdGV9IFx1MjAyMiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cbiAgICAgICAgICAgICR7ZXhwZW5zZS5jb25maXJtYXRpb25OdW1iZXIgPyBgPGJyPkNvbmZpcm1hdGlvbjogJHtleHBlbnNlLmNvbmZpcm1hdGlvbk51bWJlcn1gIDogJyd9XG4gICAgICAgICAgICAke2V4cGVuc2UucGFpZERhdGUgPyBgPGJyPlBhaWQ6ICR7ZXhwZW5zZS5wYWlkRGF0ZX1gIDogJyd9XG4gICAgICAgIGA7XG5cbiAgICAgICAgY29uc3QgYWN0aW9ucyA9IGl0ZW0uY3JlYXRlRGl2KCdleHBlbnNlLWFjdGlvbnMnKTtcbiAgICAgICAgdGhpcy5hZGRDb250ZXh0TWVudShhY3Rpb25zLCBleHBlbnNlLCAnb25ldGltZScpO1xuICAgIH1cblxuICAgIGFkZENvbnRleHRNZW51KGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UgfCBPbmVUaW1lRXhwZW5zZSwgdHlwZTogJ3JlY3VycmluZycgfCAnb25ldGltZScpIHtcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IGNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnXHUyMkVFJyB9KTtcbiAgICAgICAgbWVudUJ0bi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcblxuICAgICAgICAgICAgbWVudS5hZGRJdGVtKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0VkaXQnKS5zZXRJY29uKCdwZW5jaWwnKS5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IEFkZEV4cGVuc2VNb2RhbCh0aGlzLmFwcCwgdGhpcy5wbHVnaW4sIGV4cGVuc2UpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3JlY3VycmluZycpIHtcbiAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ1ZpZXcgSGlzdG9yeScpLnNldEljb24oJ2hpc3RvcnknKS5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBIaXN0b3J5TW9kYWwodGhpcy5hcHAsIHRoaXMucGx1Z2luLCBleHBlbnNlIGFzIFJlY3VycmluZ0V4cGVuc2UpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0FyY2hpdmUnKS5zZXRJY29uKCdhcmNoaXZlJykub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hcmNoaXZlRXhwZW5zZShleHBlbnNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRUaXRsZSgnRGVsZXRlJykuc2V0SWNvbigndHJhc2gnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZUV4cGVuc2UoZXhwZW5zZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zZXRUaXRsZSgnRGVsZXRlJykuc2V0SWNvbigndHJhc2gnKS5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRlbGV0ZU9uZVRpbWVFeHBlbnNlKGV4cGVuc2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZW51LnNob3dBdE1vdXNlRXZlbnQoZSBhcyBNb3VzZUV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICAvLyBDbGVhbnVwXG4gICAgfVxufVxuXG4vLyBBZGQvRWRpdCBFeHBlbnNlIE1vZGFsXG5jbGFzcyBBZGRFeHBlbnNlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcGx1Z2luOiBNb250aGx5RXhwZW5zZVRyYWNrZXJQbHVnaW47XG4gICAgZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSB8IG51bGw7XG4gICAgb25lVGltZUV4cGVuc2U6IE9uZVRpbWVFeHBlbnNlIHwgbnVsbDtcbiAgICB0eXBlOiAncmVjdXJyaW5nJyB8ICdvbmV0aW1lJztcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbiwgZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSB8IE9uZVRpbWVFeHBlbnNlIHwgbnVsbCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgdHlwZSBiYXNlZCBvbiBpbnB1dCBleHBlbnNlIG9yIGRlZmF1bHQgdG8gcmVjdXJyaW5nXG4gICAgICAgIGlmIChleHBlbnNlICYmICdkYXRlJyBpbiBleHBlbnNlKSB7XG4gICAgICAgICAgICB0aGlzLm9uZVRpbWVFeHBlbnNlID0gZXhwZW5zZSBhcyBPbmVUaW1lRXhwZW5zZTtcbiAgICAgICAgICAgIHRoaXMuZXhwZW5zZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAnb25ldGltZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cGVuc2UgPSBleHBlbnNlIGFzIFJlY3VycmluZ0V4cGVuc2U7XG4gICAgICAgICAgICB0aGlzLm9uZVRpbWVFeHBlbnNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9ICdyZWN1cnJpbmcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogdGhpcy5leHBlbnNlIHx8IHRoaXMub25lVGltZUV4cGVuc2UgPyAnRWRpdCBFeHBlbnNlJyA6ICdBZGQgRXhwZW5zZScgfSk7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ2V4cGVuc2UtZm9ybScpO1xuXG4gICAgICAgIC8vIFR5cGUgVG9nZ2xlIChvbmx5IGZvciBuZXcgZXhwZW5zZXMpXG4gICAgICAgIGlmICghdGhpcy5leHBlbnNlICYmICF0aGlzLm9uZVRpbWVFeHBlbnNlKSB7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKCdFeHBlbnNlIFR5cGUnKVxuICAgICAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdyZWN1cnJpbmcnLCAnUmVjdXJyaW5nIChNb250aGx5KScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdvbmV0aW1lJywgJ09uZS1UaW1lJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdmFsdWUgYXMgJ3JlY3VycmluZycgfCAnb25ldGltZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTsgLy8gUmUtcmVuZGVyIGZvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTmFtZVxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0V4cGVuc2UgTmFtZScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8ubmFtZSB8fCB0aGlzLm9uZVRpbWVFeHBlbnNlPy5uYW1lIHx8ICcnKTtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuaWQgPSAnZXhwZW5zZS1uYW1lJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFtb3VudFxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0Ftb3VudCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8uYW1vdW50LnRvU3RyaW5nKCkgfHwgdGhpcy5vbmVUaW1lRXhwZW5zZT8uYW1vdW50LnRvU3RyaW5nKCkgfHwgJycpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC50eXBlID0gJ251bWJlcic7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLnN0ZXAgPSAnMC4wMSc7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtYW1vdW50JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyZWN1cnJpbmcnKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnJpbmcgRmllbGRzXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKCdEdWUgRGF5IG9mIE1vbnRoJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnMS0zMScpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5leHBlbnNlPy5kdWVEYXkudG9TdHJpbmcoKSB8fCAnMScpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwudHlwZSA9ICdudW1iZXInO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwubWluID0gJzEnO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwubWF4ID0gJzMxJztcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtZHVlLWRheSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoJ1N0YXJ0IE1vbnRoJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTSBmb3JtYXQnKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8uc3RhcnREYXRlIHx8IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTScpKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2Utc3RhcnQtZGF0ZSc7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoJ0VuZCBNb250aCAoT3B0aW9uYWwpJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTSBmb3JtYXQgLSBsZWF2ZSBlbXB0eSBmb3Igb25nb2luZycpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5leHBlbnNlPy5lbmREYXRlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtZW5kLWRhdGUnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT25lLVRpbWUgRmllbGRzXG4gICAgICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKCdEYXRlJylcbiAgICAgICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTS1ERCBmb3JtYXQnKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMub25lVGltZUV4cGVuc2U/LmRhdGUgfHwgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwudHlwZSA9ICdkYXRlJztcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmlkID0gJ2V4cGVuc2UtZGF0ZSc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXltZW50IE1ldGhvZFxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ1BheW1lbnQgTWV0aG9kJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUodGhpcy5leHBlbnNlPy5wYXltZW50TWV0aG9kIHx8IHRoaXMub25lVGltZUV4cGVuc2U/LnBheW1lbnRNZXRob2QgfHwgJycpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdleHBlbnNlLXBheW1lbnQtbWV0aG9kJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhdGVnb3J5XG4gICAgICAgIG5ldyBTZXR0aW5nKGZvcm0pXG4gICAgICAgICAgICAuc2V0TmFtZSgnQ2F0ZWdvcnkgKE9wdGlvbmFsKScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMuZXhwZW5zZT8uY2F0ZWdvcnkgfHwgdGhpcy5vbmVUaW1lRXhwZW5zZT8uY2F0ZWdvcnkgfHwgJycpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdleHBlbnNlLWNhdGVnb3J5JztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJ1dHRvbnNcbiAgICAgICAgY29uc3QgYnV0dG9uRGl2ID0gY29udGVudEVsLmNyZWF0ZURpdignbW9kYWwtYnV0dG9uLWNvbnRhaW5lcicpO1xuXG4gICAgICAgIGNvbnN0IHNhdmVCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1NhdmUnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICAgICAgc2F2ZUJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1uYW1lJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWFtb3VudCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcbiAgICAgICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1wYXltZW50LW1ldGhvZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1jYXRlZ29yeScpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgICAgIGlmICghbmFtZSB8fCBpc05hTihhbW91bnQpIHx8ICFwYXltZW50TWV0aG9kKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZmlsbCBpbiBhbGwgcmVxdWlyZWQgZmllbGRzJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAncmVjdXJyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgZHVlRGF5U3RyID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWR1ZS1kYXknKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZW5zZS1zdGFydC1kYXRlJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBlbmREYXRlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWVuZC1kYXRlJykgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBkdWVEYXkgPSBwYXJzZUludChkdWVEYXlTdHIpO1xuXG4gICAgICAgICAgICBpZiAoIWR1ZURheSB8fCAhc3RhcnREYXRlKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIGZpbGwgaW4gYWxsIHJlcXVpcmVkIGZpZWxkcyBmb3IgcmVjdXJyaW5nIGV4cGVuc2UnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV4cGVuc2U6IFJlY3VycmluZ0V4cGVuc2UgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuZXhwZW5zZT8uaWQgfHwgYGV4cC0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBkdWVEYXksXG4gICAgICAgICAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBhcmNoaXZlZDogdGhpcy5leHBlbnNlPy5hcmNoaXZlZCB8fCBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwZW5zZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZVJlY3VycmluZ0V4cGVuc2UoZXhwZW5zZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFkZFJlY3VycmluZ0V4cGVuc2UoZXhwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlbnNlLWRhdGUnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCBhIGRhdGUgZm9yIHRoZSBvbmUtdGltZSBleHBlbnNlJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBleHBlbnNlOiBPbmVUaW1lRXhwZW5zZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5vbmVUaW1lRXhwZW5zZT8uaWQgfHwgYG9uZS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2QsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBwYWlkOiB0aGlzLm9uZVRpbWVFeHBlbnNlPy5wYWlkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhaWREYXRlOiB0aGlzLm9uZVRpbWVFeHBlbnNlPy5wYWlkRGF0ZSxcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25OdW1iZXI6IHRoaXMub25lVGltZUV4cGVuc2U/LmNvbmZpcm1hdGlvbk51bWJlclxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25lVGltZUV4cGVuc2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVPbmVUaW1lRXhwZW5zZShleHBlbnNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYWRkT25lVGltZUV4cGVuc2UoZXhwZW5zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cbi8vIE1hcmsgUGFpZCBNb2RhbFxuY2xhc3MgTWFya1BhaWRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcbiAgICBleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlIHwgT25lVGltZUV4cGVuc2U7XG4gICAgbW9udGg6IHN0cmluZztcbiAgICBvbkNvbXBsZXRlOiAoKSA9PiB2b2lkO1xuICAgIGlzT25lVGltZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbiwgZXhwZW5zZTogUmVjdXJyaW5nRXhwZW5zZSB8IE9uZVRpbWVFeHBlbnNlLCBtb250aDogc3RyaW5nLCBvbkNvbXBsZXRlOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmV4cGVuc2UgPSBleHBlbnNlO1xuICAgICAgICB0aGlzLm1vbnRoID0gbW9udGg7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG9uQ29tcGxldGU7XG4gICAgICAgIHRoaXMuaXNPbmVUaW1lID0gJ2RhdGUnIGluIGV4cGVuc2U7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ01hcmsgYXMgUGFpZCcgfSk7XG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogYCR7dGhpcy5leHBlbnNlLm5hbWV9IC0gJCR7dGhpcy5leHBlbnNlLmFtb3VudC50b0ZpeGVkKDIpfWAgfSk7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhmb3JtKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0NvbmZpcm1hdGlvbiBOdW1iZXIgKE9wdGlvbmFsKScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LmlucHV0RWwuaWQgPSAnY29uZmlybWF0aW9uLW51bWJlcic7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBidXR0b25EaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdtb2RhbC1idXR0b24tY29udGFpbmVyJyk7XG5cbiAgICAgICAgY29uc3Qgc2F2ZUJ0biA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnTWFyayBQYWlkJywgY2xzOiAnbW9kLWN0YScgfSk7XG4gICAgICAgIHNhdmVCdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbk51bWJlciA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybWF0aW9uLW51bWJlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc09uZVRpbWUpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5tYXJrT25lVGltZUV4cGVuc2VQYWlkKHRoaXMuZXhwZW5zZS5pZCwgdHJ1ZSwgY29uZmlybWF0aW9uTnVtYmVyIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLm1hcmtFeHBlbnNlUGFpZCh0aGlzLmV4cGVuc2UuaWQsIHRoaXMubW9udGgsIHRydWUsIGNvbmZpcm1hdGlvbk51bWJlciB8fCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8vIEhpc3RvcnkgTW9kYWxcbmNsYXNzIEhpc3RvcnlNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcbiAgICBleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luLCBleHBlbnNlOiBSZWN1cnJpbmdFeHBlbnNlKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmV4cGVuc2UgPSBleHBlbnNlO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6IGBQYXltZW50IEhpc3Rvcnk6ICR7dGhpcy5leHBlbnNlLm5hbWV9YCB9KTtcblxuICAgICAgICBjb25zdCBoaXN0b3J5ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseVBheW1lbnRzXG4gICAgICAgICAgICAuZmlsdGVyKHAgPT4gcC5leHBlbnNlSWQgPT09IHRoaXMuZXhwZW5zZS5pZClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLm1vbnRoLmxvY2FsZUNvbXBhcmUoYS5tb250aCkpO1xuXG4gICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGVudEVsLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnTm8gcGF5bWVudCBoaXN0b3J5JyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlID0gY29udGVudEVsLmNyZWF0ZUVsKCd0YWJsZScsIHsgY2xzOiAnZXhwZW5zZS1oaXN0b3J5LXRhYmxlJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlRWwoJ3RoZWFkJyk7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJSb3cgPSB0aGVhZC5jcmVhdGVFbCgndHInKTtcbiAgICAgICAgICAgIGhlYWRlclJvdy5jcmVhdGVFbCgndGgnLCB7IHRleHQ6ICdNb250aCcgfSk7XG4gICAgICAgICAgICBoZWFkZXJSb3cuY3JlYXRlRWwoJ3RoJywgeyB0ZXh0OiAnU3RhdHVzJyB9KTtcbiAgICAgICAgICAgIGhlYWRlclJvdy5jcmVhdGVFbCgndGgnLCB7IHRleHQ6ICdQYWlkIERhdGUnIH0pO1xuICAgICAgICAgICAgaGVhZGVyUm93LmNyZWF0ZUVsKCd0aCcsIHsgdGV4dDogJ0NvbmZpcm1hdGlvbicgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gdGFibGUuY3JlYXRlRWwoJ3Rib2R5Jyk7XG4gICAgICAgICAgICBoaXN0b3J5LmZvckVhY2gocGF5bWVudCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93ID0gdGJvZHkuY3JlYXRlRWwoJ3RyJyk7XG4gICAgICAgICAgICAgICAgcm93LmNyZWF0ZUVsKCd0ZCcsIHsgdGV4dDogbW9tZW50KHBheW1lbnQubW9udGgsICdZWVlZLU1NJykuZm9ybWF0KCdNTU0gWVlZWScpIH0pO1xuICAgICAgICAgICAgICAgIHJvdy5jcmVhdGVFbCgndGQnLCB7IHRleHQ6IHBheW1lbnQucGFpZCA/ICdcdTI3MDUgUGFpZCcgOiAnXHUyQjFDIFVucGFpZCcgfSk7XG4gICAgICAgICAgICAgICAgcm93LmNyZWF0ZUVsKCd0ZCcsIHsgdGV4dDogcGF5bWVudC5wYWlkRGF0ZSB8fCAnLScgfSk7XG4gICAgICAgICAgICAgICAgcm93LmNyZWF0ZUVsKCd0ZCcsIHsgdGV4dDogcGF5bWVudC5jb25maXJtYXRpb25OdW1iZXIgfHwgJy0nIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbG9zZUJ0biA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2xvc2UnIH0pO1xuICAgICAgICBjbG9zZUJ0bi5vbmNsaWNrID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8vIFN1cHBvcnQgTW9kYWxcbmNsYXNzIFN1cHBvcnRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgIH1cblxuICAgIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgICAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ2V4cGVuc2UtdHJhY2tlci1zdXBwb3J0LW1vZGFsJyk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1x1RDgzRFx1REM5OSBTdXBwb3J0IE1vbnRobHkgRXhwZW5zZSBUcmFja2VyJyB9KTtcbiAgICAgICAgaGVhZGVyLnN0eWxlLmNvbG9yID0gJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgncCcsIHtcbiAgICAgICAgICAgIHRleHQ6ICdUaGFuayB5b3UgZm9yIGNvbnNpZGVyaW5nIHN1cHBvcnRpbmcgdGhpcyBwbHVnaW4hIFlvdXIgc3VwcG9ydCBoZWxwcyBtYWludGFpbiBhbmQgaW1wcm92ZSB0aGlzIHRvb2wuJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQYXlQYWwgU2VjdGlvblxuICAgICAgICBjb25zdCBwYXlwYWxTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIHBheXBhbFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0IzIFBheVBhbCcgfSk7XG4gICAgICAgIHBheXBhbFNlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdPbmUtdGltZSBvciByZWN1cnJpbmcgZG9uYXRpb25zIHZpYSBQYXlQYWw6JyB9KTtcbiAgICAgICAgY29uc3QgcGF5cGFsQnRuID0gcGF5cGFsU2VjdGlvbi5jcmVhdGVFbCgnYScsIHtcbiAgICAgICAgICAgIHRleHQ6ICdcdTIxOTIgRG9uYXRlIHZpYSBQYXlQYWwnLFxuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vd3d3LnBheXBhbC5jb20vcGF5cGFsbWUvVmljdG9yWmVudGVubydcbiAgICAgICAgfSk7XG4gICAgICAgIHBheXBhbEJ0bi5hZGRDbGFzcygnc3VwcG9ydC1saW5rJyk7XG5cbiAgICAgICAgLy8gQ3J5cHRvIFNlY3Rpb25cbiAgICAgICAgY29uc3QgY3J5cHRvU2VjdGlvbiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ3N1cHBvcnQtc2VjdGlvbicpO1xuICAgICAgICBjcnlwdG9TZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1x1RDgzRVx1REU5OSBDcnlwdG9jdXJyZW5jeSAoVVNEQy9VU0RUKScgfSk7XG4gICAgICAgIGNyeXB0b1NlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTdXBwb3J0IHdpdGggc3RhYmxlY29pbnMgb24gbXVsdGlwbGUgbmV0d29ya3M6JyB9KTtcblxuICAgICAgICBjb25zdCBjcnlwdG9BZGRyZXNzZXMgPSBjcnlwdG9TZWN0aW9uLmNyZWF0ZURpdignY3J5cHRvLWFkZHJlc3NlcycpO1xuXG4gICAgICAgIGNvbnN0IHVzZGNEaXYgPSBjcnlwdG9BZGRyZXNzZXMuY3JlYXRlRGl2KCdjcnlwdG8tYWRkcmVzcycpO1xuICAgICAgICB1c2RjRGl2LmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6ICdVU0RDIChCYXNlIE5ldHdvcmsgLSBMb3cgRmVlcyk6JyB9KTtcbiAgICAgICAgY29uc3QgdXNkY0FkZHJlc3MgPSB1c2RjRGl2LmNyZWF0ZUVsKCdjb2RlJywgeyB0ZXh0OiAnMHgxMDIzMTQyZDA1NDhiNjM1NDJmMmE0ODAzYjY3MjRkNGMyNmI4YmRhJyB9KTtcbiAgICAgICAgdXNkY0FkZHJlc3Muc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLm1hcmdpblRvcCA9ICc1cHgnO1xuICAgICAgICB1c2RjQWRkcmVzcy5zdHlsZS5wYWRkaW5nID0gJzVweCc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLmJhY2tncm91bmQgPSAndmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcbiAgICAgICAgdXNkY0FkZHJlc3Muc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLmZvbnRTaXplID0gJzAuODVlbSc7XG4gICAgICAgIHVzZGNBZGRyZXNzLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay1hbGwnO1xuXG4gICAgICAgIGNvbnN0IHVzZGNOb3RlID0gdXNkY0Rpdi5jcmVhdGVFbCgnc21hbGwnLCB7IHRleHQ6ICdBbHNvIHdvcmtzIG9uOiBFdGhlcmV1bSwgUG9seWdvbiwgQXJiaXRydW0sIE9wdGltaXNtJyB9KTtcbiAgICAgICAgdXNkY05vdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHVzZGNOb3RlLnN0eWxlLm1hcmdpblRvcCA9ICczcHgnO1xuICAgICAgICB1c2RjTm90ZS5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LW11dGVkKSc7XG5cbiAgICAgICAgY29uc3QgdXNkdERpdiA9IGNyeXB0b0FkZHJlc3Nlcy5jcmVhdGVEaXYoJ2NyeXB0by1hZGRyZXNzJyk7XG4gICAgICAgIHVzZHREaXYuY3JlYXRlRWwoJ3N0cm9uZycsIHsgdGV4dDogJ1VTRFQgKFRyb24gVFJDLTIwIC0gVWx0cmEgTG93IEZlZXMpOicgfSk7XG4gICAgICAgIGNvbnN0IHVzZHRBZGRyZXNzID0gdXNkdERpdi5jcmVhdGVFbCgnY29kZScsIHsgdGV4dDogJ1RBVjdxVEdndm44R25ZSmZYZmVzNzN0RDJkQVBRSjNMMlcnIH0pO1xuICAgICAgICB1c2R0QWRkcmVzcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUubWFyZ2luVG9wID0gJzVweCc7XG4gICAgICAgIHVzZHRBZGRyZXNzLnN0eWxlLnBhZGRpbmcgPSAnNXB4JztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgICB1c2R0QWRkcmVzcy5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNHB4JztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUuZm9udFNpemUgPSAnMC44NWVtJztcbiAgICAgICAgdXNkdEFkZHJlc3Muc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLWFsbCc7XG5cbiAgICAgICAgY29uc3QgY3J5cHRvTm90ZSA9IGNyeXB0b1NlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdcdTI2QTBcdUZFMEYgSW1wb3J0YW50OiBEb3VibGUtY2hlY2sgdGhlIG5ldHdvcmsgYmVmb3JlIHNlbmRpbmchJyB9KTtcbiAgICAgICAgY3J5cHRvTm90ZS5zdHlsZS5jb2xvciA9ICd2YXIoLS10ZXh0LWVycm9yKSc7XG4gICAgICAgIGNyeXB0b05vdGUuc3R5bGUuZm9udFNpemUgPSAnMC45ZW0nO1xuICAgICAgICBjcnlwdG9Ob3RlLnN0eWxlLm1hcmdpblRvcCA9ICcxMHB4JztcblxuICAgICAgICBjb25zdCBjcnlwdG9UaXAgPSBjcnlwdG9TZWN0aW9uLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnXHVEODNEXHVEQ0ExIFRpcDogVXNlIFRyb24gZm9yIFVTRFQgb3IgQmFzZSBmb3IgVVNEQyB0byBtaW5pbWl6ZSBmZWVzIScgfSk7XG4gICAgICAgIGNyeXB0b1RpcC5zdHlsZS5mb250U2l6ZSA9ICcwLjllbSc7XG4gICAgICAgIGNyeXB0b1RpcC5zdHlsZS5tYXJnaW5Ub3AgPSAnNXB4JztcbiAgICAgICAgY3J5cHRvVGlwLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtbXV0ZWQpJztcblxuICAgICAgICAvLyBCdXkgTWUgYSBDb2ZmZWUgU2VjdGlvblxuICAgICAgICBjb25zdCBjb2ZmZWVTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIGNvZmZlZVNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHUyNjE1IEJ1eSBNZSBhIENvZmZlZScgfSk7XG4gICAgICAgIGNvZmZlZVNlY3Rpb24uY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdTaW1wbGUsIGZyaWVuZGx5IHdheSB0byBzdXBwb3J0OicgfSk7XG4gICAgICAgIGNvbnN0IGNvZmZlZUJ0biA9IGNvZmZlZVNlY3Rpb24uY3JlYXRlRWwoJ2EnLCB7XG4gICAgICAgICAgICB0ZXh0OiAnXHUyMTkyIEJ1eSBNZSBhIENvZmZlZScsXG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9idXltZWFjb2ZmZWUuY29tL3J2emVuJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29mZmVlQnRuLmFkZENsYXNzKCdzdXBwb3J0LWxpbmsnKTtcblxuICAgICAgICAvLyBPdGhlciB3YXlzIHRvIHN1cHBvcnRcbiAgICAgICAgY29uc3Qgb3RoZXJTZWN0aW9uID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIG90aGVyU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdcdUQ4M0NcdURGMUYgT3RoZXIgV2F5cyB0byBTdXBwb3J0JyB9KTtcbiAgICAgICAgY29uc3Qgb3RoZXJMaXN0ID0gb3RoZXJTZWN0aW9uLmNyZWF0ZUVsKCd1bCcpO1xuICAgICAgICBvdGhlckxpc3QuY3JlYXRlRWwoJ2xpJywgeyB0ZXh0OiAnXHUyQjUwIFN0YXIgdGhlIEdpdEh1YiByZXBvc2l0b3J5JyB9KTtcbiAgICAgICAgb3RoZXJMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ1x1RDgzRFx1REMxQiBSZXBvcnQgYnVncyBhbmQgaXNzdWVzJyB9KTtcbiAgICAgICAgb3RoZXJMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ1x1RDgzRFx1RENBMSBTdWdnZXN0IG5ldyBmZWF0dXJlcycgfSk7XG4gICAgICAgIG90aGVyTGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6ICdcdUQ4M0RcdURDREQgSW1wcm92ZSBkb2N1bWVudGF0aW9uJyB9KTtcbiAgICAgICAgb3RoZXJMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ1x1RDgzRFx1RERFM1x1RkUwRiBUZWxsIG90aGVycyBhYm91dCB0aGUgcGx1Z2luJyB9KTtcblxuICAgICAgICAvLyBGb290ZXJcbiAgICAgICAgY29uc3QgZm9vdGVyID0gY29udGVudEVsLmNyZWF0ZURpdignc3VwcG9ydC1mb290ZXInKTtcbiAgICAgICAgZm9vdGVyLnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgICAgICAgZm9vdGVyLnN0eWxlLnBhZGRpbmcgPSAnMTVweCc7XG4gICAgICAgIGZvb3Rlci5zdHlsZS5iYWNrZ3JvdW5kID0gJ3ZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KSc7XG4gICAgICAgIGZvb3Rlci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnOHB4JztcbiAgICAgICAgZm9vdGVyLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICBmb290ZXIuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6ICdUaGFuayB5b3UgZm9yIHlvdXIgc3VwcG9ydCEgXHVEODNEXHVERTRGJyB9KTtcbiAgICAgICAgZm9vdGVyLmNyZWF0ZUVsKCdzbWFsbCcsIHsgdGV4dDogJ0FsbCBkb25hdGlvbnMgaGVscCBtYWludGFpbiBhbmQgaW1wcm92ZSB0aGlzIHBsdWdpbicgfSk7XG5cbiAgICAgICAgLy8gQ2xvc2UgYnV0dG9uXG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gY29udGVudEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdDbG9zZScgfSk7XG4gICAgICAgIGNsb3NlQnRuLnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgICAgICAgY2xvc2VCdG4uc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cblxuLy8gUmVwb3J0IE1vZGFsXG5jbGFzcyBSZXBvcnRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgICBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE1vbnRobHlFeHBlbnNlVHJhY2tlclBsdWdpbikge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnRXhwZW5zZSBSZXBvcnQnIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvcm0gPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoZm9ybSlcbiAgICAgICAgICAgIC5zZXROYW1lKCdTdGFydCBNb250aCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnWVlZWS1NTSBmb3JtYXQnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dC5zZXRWYWx1ZShtb21lbnQoKS5zdWJ0cmFjdCg1LCAnbW9udGhzJykuZm9ybWF0KCdZWVlZLU1NJykpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdyZXBvcnQtc3RhcnQnO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoZm9ybSlcbiAgICAgICAgICAgIC5zZXROYW1lKCdFbmQgTW9udGgnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1lZWVktTU0gZm9ybWF0JylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0VmFsdWUobW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NJykpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5pZCA9ICdyZXBvcnQtZW5kJztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoJ21vZGFsLWJ1dHRvbi1jb250YWluZXInKTtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZUJ0biA9IGJ1dHRvbkRpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnR2VuZXJhdGUnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICAgICAgZ2VuZXJhdGVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVSZXBvcnQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBidXR0b25EaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NhbmNlbCcgfSk7XG4gICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIGdlbmVyYXRlUmVwb3J0KCkge1xuICAgICAgICBjb25zdCBzdGFydE1vbnRoID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnQtc3RhcnQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgY29uc3QgZW5kTW9udGggPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydC1lbmQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcblxuICAgICAgICBjb25zdCByZXBvcnQgPSB0aGlzLmJ1aWxkUmVwb3J0KHN0YXJ0TW9udGgsIGVuZE1vbnRoKTtcblxuICAgICAgICAvLyBDcmVhdGUgcmVwb3J0IGluIE1vbnRobHkgRXhwZW5zZXMvRXhwZW5zZSBSZXBvcnRzIGZvbGRlclxuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyfS9FeHBlbnNlIFJlcG9ydHNgO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGBFeHBlbnNlIFJlcG9ydCAke3N0YXJ0TW9udGh9IHRvICR7ZW5kTW9udGh9Lm1kYDtcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHtmb2xkZXJQYXRofS8ke2ZpbGVOYW1lfWA7XG5cbiAgICAgICAgLy8gRW5zdXJlIGZvbGRlciBleGlzdHNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmb2xkZXJQYXRoKTtcbiAgICAgICAgICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGZvbGRlclBhdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgb3Igb3ZlcndyaXRlIHRoZSByZXBvcnRcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZXhpc3RpbmdGaWxlLCByZXBvcnQpO1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1JlcG9ydCB1cGRhdGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgcmVwb3J0KTtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdSZXBvcnQgZ2VuZXJhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyByZXBvcnQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnRXJyb3IgY3JlYXRpbmcgcmVwb3J0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBidWlsZFJlcG9ydChzdGFydE1vbnRoOiBzdHJpbmcsIGVuZE1vbnRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVwb3J0ID0gYCMgRXhwZW5zZSBSZXBvcnRcXG5cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCoqUGVyaW9kOioqICR7bW9tZW50KHN0YXJ0TW9udGgsICdZWVlZLU1NJykuZm9ybWF0KCdNTU0gWVlZWScpfSAtICR7bW9tZW50KGVuZE1vbnRoLCAnWVlZWS1NTScpLmZvcm1hdCgnTU1NIFlZWVknKX1cXG5cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCoqR2VuZXJhdGVkOioqICR7bW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyl9XFxuXFxuLS0tXFxuXFxuYDtcblxuICAgICAgICBjb25zdCBzdGFydCA9IG1vbWVudChzdGFydE1vbnRoLCAnWVlZWS1NTScpO1xuICAgICAgICBjb25zdCBlbmQgPSBtb21lbnQoZW5kTW9udGgsICdZWVlZLU1NJyk7XG5cbiAgICAgICAgbGV0IHRvdGFsQW1vdW50ID0gMDtcbiAgICAgICAgbGV0IHRvdGFsUGFpZCA9IDA7XG4gICAgICAgIGxldCB0b3RhbFVucGFpZCA9IDA7XG5cbiAgICAgICAgcmVwb3J0ICs9IGAjIyBNb250aGx5IEJyZWFrZG93blxcblxcbmA7XG5cbiAgICAgICAgbGV0IGN1cnJlbnQgPSBzdGFydC5jbG9uZSgpO1xuICAgICAgICB3aGlsZSAoY3VycmVudC5pc1NhbWVPckJlZm9yZShlbmQpKSB7XG4gICAgICAgICAgICBjb25zdCBtb250aCA9IGN1cnJlbnQuZm9ybWF0KCdZWVlZLU1NJyk7XG4gICAgICAgICAgICBjb25zdCByZWN1cnJpbmdFeHBlbnNlcyA9IHRoaXMucGx1Z2luLmdldEV4cGVuc2VzRm9yTW9udGgobW9udGgpO1xuICAgICAgICAgICAgY29uc3Qgb25lVGltZUV4cGVuc2VzID0gdGhpcy5wbHVnaW4uZ2V0T25lVGltZUV4cGVuc2VzRm9yTW9udGgobW9udGgpO1xuXG4gICAgICAgICAgICAvLy8gQ2FsY3VsYXRlIHJlY3VycmluZ1xuICAgICAgICAgICAgY29uc3QgcmVjdXJyaW5nVG90YWwgPSByZWN1cnJpbmdFeHBlbnNlcy5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5hbW91bnQsIDApO1xuICAgICAgICAgICAgY29uc3QgcmVjdXJyaW5nUGFpZCA9IHJlY3VycmluZ0V4cGVuc2VzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudCA9IHRoaXMucGx1Z2luLmdldFBheW1lbnQoZS5pZCwgbW9udGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF5bWVudD8ucGFpZDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5hbW91bnQsIDApO1xuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgb25lLXRpbWVcbiAgICAgICAgICAgIGNvbnN0IG9uZVRpbWVUb3RhbCA9IG9uZVRpbWVFeHBlbnNlcy5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5hbW91bnQsIDApO1xuICAgICAgICAgICAgY29uc3Qgb25lVGltZVBhaWQgPSBvbmVUaW1lRXhwZW5zZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4gZS5wYWlkKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKHN1bSwgZSkgPT4gc3VtICsgZS5hbW91bnQsIDApO1xuXG4gICAgICAgICAgICBjb25zdCBtb250aFRvdGFsID0gcmVjdXJyaW5nVG90YWwgKyBvbmVUaW1lVG90YWw7XG4gICAgICAgICAgICBjb25zdCBtb250aFBhaWQgPSByZWN1cnJpbmdQYWlkICsgb25lVGltZVBhaWQ7XG4gICAgICAgICAgICBjb25zdCBtb250aFVucGFpZCA9IG1vbnRoVG90YWwgLSBtb250aFBhaWQ7XG5cbiAgICAgICAgICAgIHRvdGFsQW1vdW50ICs9IG1vbnRoVG90YWw7XG4gICAgICAgICAgICB0b3RhbFBhaWQgKz0gbW9udGhQYWlkO1xuICAgICAgICAgICAgdG90YWxVbnBhaWQgKz0gbW9udGhVbnBhaWQ7XG5cbiAgICAgICAgICAgIHJlcG9ydCArPSBgIyMjICR7Y3VycmVudC5mb3JtYXQoJ01NTU0gWVlZWScpfVxcblxcbmA7XG4gICAgICAgICAgICByZXBvcnQgKz0gYC0gVG90YWw6ICQke21vbnRoVG90YWwudG9GaXhlZCgyKX1cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIFBhaWQ6ICQke21vbnRoUGFpZC50b0ZpeGVkKDIpfVxcbmA7XG4gICAgICAgICAgICByZXBvcnQgKz0gYC0gVW5wYWlkOiAkJHttb250aFVucGFpZC50b0ZpeGVkKDIpfVxcbmA7XG4gICAgICAgICAgICByZXBvcnQgKz0gYC0gUmVjdXJyaW5nIEV4cGVuc2VzOiAke3JlY3VycmluZ0V4cGVuc2VzLmxlbmd0aH1cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIE9uZS1UaW1lIEV4cGVuc2VzOiAke29uZVRpbWVFeHBlbnNlcy5sZW5ndGh9XFxuXFxuYDtcblxuICAgICAgICAgICAgY3VycmVudC5hZGQoMSwgJ21vbnRoJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXBvcnQgKz0gYCMjIFN1bW1hcnlcXG5cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYC0gKipUb3RhbCBBbW91bnQ6KiogJCR7dG90YWxBbW91bnQudG9GaXhlZCgyKX1cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYC0gKipUb3RhbCBQYWlkOioqICQke3RvdGFsUGFpZC50b0ZpeGVkKDIpfVxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgLSAqKlRvdGFsIFVucGFpZDoqKiAkJHt0b3RhbFVucGFpZC50b0ZpeGVkKDIpfVxcbmA7XG4gICAgICAgIHJlcG9ydCArPSBgLSAqKlBheW1lbnQgUmF0ZToqKiAke3RvdGFsQW1vdW50ID4gMCA/ICgodG90YWxQYWlkIC8gdG90YWxBbW91bnQpICogMTAwKS50b0ZpeGVkKDEpIDogMH0lXFxuXFxuYDtcblxuICAgICAgICAvLyBFeHBlbnNlIGJyZWFrZG93biAoUmVjdXJyaW5nIG9ubHkgZm9yIGRldGFpbGVkIGhpc3RvcnkgdXN1YWxseSwgYnV0IG1heWJlIGxpc3Qgb25lLXRpbWUgc2lnbmlmaWNhbnQgb25lcz8pXG4gICAgICAgIC8vIExldCdzIGtlZXAgZXhpc3RpbmcgYnJlYWtkb3duIGZvciByZWN1cnJpbmcgYXMgdGhleSB0cmFjayBvdmVyIHRpbWUuXG4gICAgICAgIHJlcG9ydCArPSBgIyMgUmVjdXJyaW5nIEV4cGVuc2UgQnJlYWtkb3duXFxuXFxuYDtcbiAgICAgICAgY29uc3QgYWxsRXhwZW5zZXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWN1cnJpbmdFeHBlbnNlcy5maWx0ZXIoZSA9PiAhZS5hcmNoaXZlZCk7XG4gICAgICAgIGFsbEV4cGVuc2VzLmZvckVhY2goZXhwZW5zZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50cyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1vbnRobHlQYXltZW50cy5maWx0ZXIocCA9PlxuICAgICAgICAgICAgICAgIHAuZXhwZW5zZUlkID09PSBleHBlbnNlLmlkICYmXG4gICAgICAgICAgICAgICAgbW9tZW50KHAubW9udGgsICdZWVlZLU1NJykuaXNCZXR3ZWVuKHN0YXJ0LCBlbmQsIG51bGwsICdbXScpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcGFpZENvdW50ID0gcGF5bWVudHMuZmlsdGVyKHAgPT4gcC5wYWlkKS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB0b3RhbENvdW50ID0gcGF5bWVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICByZXBvcnQgKz0gYCMjIyAke2V4cGVuc2UubmFtZX1cXG5cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIEFtb3VudDogJCR7ZXhwZW5zZS5hbW91bnQudG9GaXhlZCgyKX1cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIFBheW1lbnQgTWV0aG9kOiAke2V4cGVuc2UucGF5bWVudE1ldGhvZH1cXG5gO1xuICAgICAgICAgICAgcmVwb3J0ICs9IGAtIFBhaWQ6ICR7cGFpZENvdW50fS8ke3RvdGFsQ291bnR9IG1vbnRoc1xcbmA7XG4gICAgICAgICAgICByZXBvcnQgKz0gYC0gVG90YWwgUGFpZDogJCR7KHBhaWRDb3VudCAqIGV4cGVuc2UuYW1vdW50KS50b0ZpeGVkKDIpfVxcblxcbmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE1heWJlIGFkZCBPbmUtVGltZSBsaXN0P1xuICAgICAgICByZXBvcnQgKz0gYCMjIE9uZS1UaW1lIEV4cGVuc2VzIExpc3RcXG5cXG5gO1xuICAgICAgICBjb25zdCBhbGxPbmVUaW1lID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Mub25lVGltZUV4cGVuc2VzLmZpbHRlcihlID0+XG4gICAgICAgICAgICBtb21lbnQoZS5kYXRlKS5pc0JldHdlZW4oc3RhcnQsIGVuZCwgbnVsbCwgJ1tdJylcbiAgICAgICAgKS5zb3J0KChhLCBiKSA9PiBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpKTtcblxuICAgICAgICBpZiAoYWxsT25lVGltZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhbGxPbmVUaW1lLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZS5wYWlkID8gJ1BhaWQnIDogJ1VucGFpZCc7XG4gICAgICAgICAgICAgICAgcmVwb3J0ICs9IGAtICR7ZS5kYXRlfTogKioke2UubmFtZX0qKiAtICQke2UuYW1vdW50LnRvRml4ZWQoMil9ICgke3N0YXR1c30pXFxuYDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0ICs9IGBObyBvbmUtdGltZSBleHBlbnNlcyBpbiB0aGlzIHBlcmlvZC5cXG5gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9XG5cbiAgICBvbkNsb3NlKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufVxuXG4vLyBTZXR0aW5ncyBUYWJcbmNsYXNzIEV4cGVuc2VUcmFja2VyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTW9udGhseUV4cGVuc2VUcmFja2VyUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdNb250aGx5IEV4cGVuc2UgVHJhY2tlciBTZXR0aW5ncycgfSk7XG5cbiAgICAgICAgLy8gU3VwcG9ydCBTZWN0aW9uXG4gICAgICAgIGNvbnN0IHN1cHBvcnRTZWN0aW9uID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdleHBlbnNlLXRyYWNrZXItc3VwcG9ydC1zZWN0aW9uJyk7XG4gICAgICAgIHN1cHBvcnRTZWN0aW9uLnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7XG4gICAgICAgIHN1cHBvcnRTZWN0aW9uLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcyMHB4JztcbiAgICAgICAgc3VwcG9ydFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSknO1xuICAgICAgICBzdXBwb3J0U2VjdGlvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnOHB4JztcbiAgICAgICAgc3VwcG9ydFNlY3Rpb24uc3R5bGUuYm9yZGVyID0gJzJweCBzb2xpZCB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblxuICAgICAgICBjb25zdCBzdXBwb3J0SGVhZGVyID0gc3VwcG9ydFNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnXHVEODNEXHVEQzk5IFN1cHBvcnQgVGhpcyBQbHVnaW4nIH0pO1xuICAgICAgICBzdXBwb3J0SGVhZGVyLnN0eWxlLm1hcmdpblRvcCA9ICcwJztcbiAgICAgICAgc3VwcG9ydEhlYWRlci5zdHlsZS5jb2xvciA9ICd2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpJztcblxuICAgICAgICBzdXBwb3J0U2VjdGlvbi5jcmVhdGVFbCgncCcsIHtcbiAgICAgICAgICAgIHRleHQ6ICdJZiB5b3UgZmluZCB0aGlzIHBsdWdpbiBoZWxwZnVsLCBjb25zaWRlciBzdXBwb3J0aW5nIGl0cyBkZXZlbG9wbWVudCEnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHN1cHBvcnRMaW5rcyA9IHN1cHBvcnRTZWN0aW9uLmNyZWF0ZURpdigpO1xuICAgICAgICBzdXBwb3J0TGlua3Muc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgc3VwcG9ydExpbmtzLnN0eWxlLmdhcCA9ICcxMHB4JztcbiAgICAgICAgc3VwcG9ydExpbmtzLnN0eWxlLmZsZXhXcmFwID0gJ3dyYXAnO1xuICAgICAgICBzdXBwb3J0TGlua3Muc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuXG4gICAgICAgIC8vIFBheVBhbCBidXR0b25cbiAgICAgICAgY29uc3QgcGF5cGFsQnRuID0gc3VwcG9ydExpbmtzLmNyZWF0ZUVsKCdhJywge1xuICAgICAgICAgICAgdGV4dDogJ1x1RDgzRFx1RENCMyBQYXlQYWwnLFxuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vd3d3LnBheXBhbC5jb20vcGF5cGFsbWUvVmljdG9yWmVudGVubydcbiAgICAgICAgfSk7XG4gICAgICAgIHBheXBhbEJ0bi5zdHlsZS5jc3NUZXh0ID0gJ3BhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpOyBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpOyBib3JkZXItcmFkaXVzOiA0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsnO1xuXG4gICAgICAgIC8vIENyeXB0byBidXR0b25cbiAgICAgICAgY29uc3QgY3J5cHRvQnRuID0gc3VwcG9ydExpbmtzLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgICB0ZXh0OiAnXHVEODNFXHVERTk5IFVTREMvVVNEVCdcbiAgICAgICAgfSk7XG4gICAgICAgIGNyeXB0b0J0bi5zdHlsZS5jc3NUZXh0ID0gJ3BhZGRpbmc6IDhweCAxNnB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpOyBjb2xvcjogdmFyKC0tdGV4dC1vbi1hY2NlbnQpOyBib3JkZXItcmFkaXVzOiA0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXI6IG5vbmU7JztcbiAgICAgICAgY3J5cHRvQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBuZXcgU3VwcG9ydE1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQnV5IE1lIGEgQ29mZmVlIGJ1dHRvblxuICAgICAgICBjb25zdCBjb2ZmZWVCdG4gPSBzdXBwb3J0TGlua3MuY3JlYXRlRWwoJ2EnLCB7XG4gICAgICAgICAgICB0ZXh0OiAnXHUyNjE1IENvZmZlZScsXG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9idXltZWFjb2ZmZWUuY29tL3J2emVuJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29mZmVlQnRuLnN0eWxlLmNzc1RleHQgPSAncGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7IGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7IGJvcmRlci1yYWRpdXM6IDRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBmb250LXdlaWdodDogNjAwOyc7XG5cbiAgICAgICAgY29uc3Qgc3VwcG9ydE5vdGUgPSBzdXBwb3J0U2VjdGlvbi5jcmVhdGVFbCgncCcsIHtcbiAgICAgICAgICAgIHRleHQ6ICdZb3VyIHN1cHBvcnQgaGVscHMgbWFpbnRhaW4gYW5kIGltcHJvdmUgdGhpcyBwbHVnaW4uIFRoYW5rIHlvdSEgXHVEODNEXHVERTRGJ1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwcG9ydE5vdGUuc3R5bGUubWFyZ2luQm90dG9tID0gJzAnO1xuICAgICAgICBzdXBwb3J0Tm90ZS5zdHlsZS5mb250U2l6ZSA9ICcwLjllbSc7XG4gICAgICAgIHN1cHBvcnROb3RlLnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtbXV0ZWQpJztcbiAgICAgICAgc3VwcG9ydE5vdGUuc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdocicsIHsgY2xzOiAnZXhwZW5zZS10cmFja2VyLWRpdmlkZXInIH0pO1xuICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdQbHVnaW4gU2V0dGluZ3MnIH0pO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ01vbnRobHkgTm90ZXMgRm9sZGVyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdGb2xkZXIgd2hlcmUgbW9udGhseSBleHBlbnNlIG5vdGVzIHdpbGwgYmUgY3JlYXRlZCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9udGhseU5vdGVzRm9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdBdXRvLWNyZWF0ZSBNb250aGx5IE5vdGVzJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IGNyZWF0ZSBtb250aGx5IG5vdGVzIHdoZW4gYSBuZXcgbW9udGggYmVnaW5zJylcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvQ3JlYXRlTW9udGhseU5vdGVzKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0NyZWF0ZU1vbnRobHlOb3RlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnU2hvdyBTdGF0dXMgQmFyJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdEaXNwbGF5IHVucGFpZCBleHBlbnNlIGNvdW50IGluIHN0YXR1cyBiYXInKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dTdGF0dXNCYXIpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U3RhdHVzQmFyID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhdGhpcy5wbHVnaW4uc3RhdHVzQmFySXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc3RhdHVzQmFySXRlbSA9IHRoaXMucGx1Z2luLmFkZFN0YXR1c0Jhckl0ZW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnVwZGF0ZVN0YXR1c0JhcigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zdGF0dXNCYXJJdGVtLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ01vbnRobHkgTm90ZSBUZW1wbGF0ZScpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGVtcGxhdGUgZm9yIG1vbnRobHkgbm90ZXMuIFVzZSB7e21vbnRofX0gYW5kIHt7ZXhwZW5zZXN9fSBhcyBwbGFjZWhvbGRlcnMuJylcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vbnRobHlOb3RlVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIHRleHQuaW5wdXRFbC5yb3dzID0gMTA7XG4gICAgICAgICAgICAgICAgdGV4dC5pbnB1dEVsLmNvbHMgPSA1MDtcbiAgICAgICAgICAgICAgICB0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb250aGx5Tm90ZVRlbXBsYXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFZTztBQTZDUCxJQUFNLG1CQUEyQztBQUFBLEVBQzdDLG1CQUFtQixDQUFDO0FBQUEsRUFDcEIsaUJBQWlCLENBQUM7QUFBQSxFQUNsQixpQkFBaUIsQ0FBQztBQUFBLEVBQ2xCLG9CQUFvQjtBQUFBLEVBQ3BCLHFCQUFxQjtBQUFBLEVBQ3JCLHdCQUF3QjtBQUFBLEVBQ3hCLGVBQWU7QUFDbkI7QUFFQSxJQUFNLHNCQUFzQjtBQUc1QixJQUFxQiw4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
